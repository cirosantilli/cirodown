<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Cirodown</title>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.10.1/css/all.css">
<style>@import "cirodown.min.css";

</style>
<link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
<header>
<a href="/">Ciro Santilli???</a>
<a href="/cirodown">Cirodown!!!</a>
<a class="font-awesome-container" href="https://stackoverflow.com/users/895245"><i class="fab fa-stack-overflow fa-fw"></i></a>
<a class="font-awesome-container" href="https://github.com/cirosantilli"><i class="fab fa-github fa-fw"></i></a>
</header>
<main class="cirodown">
<div><span class="hide-hover"><a href="">ğŸ”—</a></span><h1 id="cirodown"><a href="" title="link to this element">Cirodown</a><span>  | <a title="view one header per page" href="index-split">ğŸ—— split</a></span></h1>
<div class="h-nav"><span class="nav"> <a title="view one header per page" href="index-split">ğŸ—— split</a> | <a href="#toc">â‡“ toc</a></span></div>
</div><div><span class="hide-hover"><a href="#p-1">ğŸ”—</a></span><div class="p" id="p-1">A Markup language to write complex structured HTML wikis/books that is <a href="#saner" title="internal link">saner</a> and more powerful than Markdown and Asciidoctor, with reference implementation in JavaScript:</div></div><div><span class="hide-hover"><a href="#ul-1">ğŸ”—</a></span><div><ul id="ul-1">
<li id="l-1"><a href="#design-goals" title="internal link">Section 2. "Design goals"</a>: feature overview</li>
<li id="l-2"><a href="https://github.com/cirosantilli/cirodown">https://github.com/cirosantilli/cirodown</a>: Cirodown source code</li>
<li id="l-3"><a href="https://github.com/cirosantilli/cirodown/blob/master/README.ciro">https://github.com/cirosantilli/cirodown/blob/master/README.ciro</a>: source for this document</li>
<li id="l-4"><a href="https://cirosantilli.com/cirodown">https://cirosantilli.com/cirodown</a>: rendered version of this document</li>
<li id="l-5"><a href="https://cirosantilli.com/cirodown/editor">https://cirosantilli.com/cirodown/editor</a>: live in-browser demo</li>
<li id="l-6"><a href="https://cirosantilli.com">https://cirosantilli.com</a>: showcase demo document with more interesting content, and primary inspiration for Cirodown development</li>
<li id="l-7"><a href="https://github.com/cirosantilli/cirosantilli.github.io">https://github.com/cirosantilli/cirosantilli.github.io</a>: source of the above showcase document</li>
</ul></div></div><div><span class="hide-hover"><a href="#toc">ğŸ”—</a></span><div class="toc-container" id="toc">
<ul>
<li class="has-child toplevel"><div class="title-div"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a class="title" href="#toc">Table of contents</a>  <span class="descendant-count" title="number of descendant headers">[167]</span></div>
<ul>
<li><div id="toc-quick-start"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#quick-start">1. Quick start</a><span class="hover-metadata"> | <a href="#toc-quick-start" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="quick-start">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li class="has-child"><div id="toc-design-goals"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#design-goals">2. Design goals</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-design-goals" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="design-goals">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-saner"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#saner">2.1. Saner</a><span class="hover-metadata"> | <a href="#toc-saner" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="saner">ğŸ—— split</a> | <a href="#toc-design-goals" title="parent ToC entry">â†‘ parent "Design goals"</a></span></div></li>
<li><div id="toc-more-powerful"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#more-powerful">2.2. More powerful</a><span class="hover-metadata"> | <a href="#toc-more-powerful" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="more-powerful">ğŸ—— split</a> | <a href="#toc-design-goals" title="parent ToC entry">â†‘ parent "Design goals"</a></span></div></li>
</ul>
<li><div id="toc-paragraphs"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#paragraphs">3. Paragraphs (<code>\P</code>)</a><span class="hover-metadata"> | <a href="#toc-paragraphs" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="paragraphs">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li class="has-child"><div id="toc-links"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#links">4. Links (<code>\a</code>)</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-links" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="links">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-insane-link-parsing-rules"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#insane-link-parsing-rules">4.1. Insane link parsing rules</a><span class="hover-metadata"> | <a href="#toc-insane-link-parsing-rules" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="insane-link-parsing-rules">ğŸ—— split</a> | <a href="#toc-links" title="parent ToC entry">â†‘ parent "Links"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-internal-cross-references"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#internal-cross-references">5. Internal cross references (<code>\x</code>)</a> <span class="descendant-count" title="number of descendant headers">[19]</span><span class="hover-metadata"> | <a href="#toc-internal-cross-references" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="internal-cross-references">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-x-child-argument"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#x-child-argument">5.1. x <code>child</code> argument</a><span class="hover-metadata"> | <a href="#toc-x-child-argument" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="x-child-argument">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div></li>
<li class="has-child"><div id="toc-cross-reference-full-argument"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cross-reference-full-argument">5.2. Cross reference <code>full</code> argument</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-cross-reference-full-argument" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cross-reference-full-argument">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div>
<ul>
<li><div id="toc-cross-reference-full-argument-in-internal-cross-file-references"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cross-reference-full-argument-in-internal-cross-file-references">5.2.1. Cross reference <code>full</code> argument in internal cross file references</a><span class="hover-metadata"> | <a href="#toc-cross-reference-full-argument-in-internal-cross-file-references" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cross-reference-full-argument-in-internal-cross-file-references">ğŸ—— split</a> | <a href="#toc-cross-reference-full-argument" title="parent ToC entry">â†‘ parent "Cross reference <code>full</code> argument"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-cross-reference-title-inflection"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cross-reference-title-inflection">5.3. Cross reference title inflection</a> <span class="descendant-count" title="number of descendant headers">[6]</span><span class="hover-metadata"> | <a href="#toc-cross-reference-title-inflection" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cross-reference-title-inflection">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div>
<ul>
<li class="has-child"><div id="toc-cross-reference-title-inflection-example"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cross-reference-title-inflection-example">5.3.1. Cross reference title inflection example</a> <span class="descendant-count" title="number of descendant headers">[5]</span><span class="hover-metadata"> | <a href="#toc-cross-reference-title-inflection-example" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cross-reference-title-inflection-example">ğŸ—— split</a> | <a href="#toc-cross-reference-title-inflection" title="parent ToC entry">â†‘ parent "Cross reference title inflection"</a></span></div>
<ul>
<li><div id="toc-inflection-example-not-proper"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#inflection-example-not-proper">5.3.1.1. Inflection example not-proper</a><span class="hover-metadata"> | <a href="#toc-inflection-example-not-proper" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="inflection-example-not-proper">ğŸ—— split</a> | <a href="#toc-cross-reference-title-inflection-example" title="parent ToC entry">â†‘ parent "Cross reference title inflection example"</a></span></div></li>
<li><div id="toc-inflection-example-proper"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#inflection-example-proper">5.3.1.2. Inflection example proper</a><span class="hover-metadata"> | <a href="#toc-inflection-example-proper" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="inflection-example-proper">ğŸ—— split</a> | <a href="#toc-cross-reference-title-inflection-example" title="parent ToC entry">â†‘ parent "Cross reference title inflection example"</a></span></div></li>
<li><div id="toc-inflection-example-not-proper-lower"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#inflection-example-not-proper-lower">5.3.1.3. inflection example not-proper lower</a><span class="hover-metadata"> | <a href="#toc-inflection-example-not-proper-lower" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="inflection-example-not-proper-lower">ğŸ—— split</a> | <a href="#toc-cross-reference-title-inflection-example" title="parent ToC entry">â†‘ parent "Cross reference title inflection example"</a></span></div></li>
<li><div id="toc-inflection-example-proper-lower"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#inflection-example-proper-lower">5.3.1.4. inflection example proper lower</a><span class="hover-metadata"> | <a href="#toc-inflection-example-proper-lower" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="inflection-example-proper-lower">ğŸ—— split</a> | <a href="#toc-cross-reference-title-inflection-example" title="parent ToC entry">â†‘ parent "Cross reference title inflection example"</a></span></div></li>
<li><div id="toc-inflection-plural-examples"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#inflection-plural-examples">5.3.1.5. Inflection plural examples</a><span class="hover-metadata"> | <a href="#toc-inflection-plural-examples" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="inflection-plural-examples">ğŸ—— split</a> | <a href="#toc-cross-reference-title-inflection-example" title="parent ToC entry">â†‘ parent "Cross reference title inflection example"</a></span></div></li>
</ul>
</li>
</ul>
<li><div id="toc-the-title2-argument"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#the-title2-argument">5.4. The <code>title2</code> argument</a><span class="hover-metadata"> | <a href="#toc-the-title2-argument" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="the-title2-argument">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div></li>
<li class="has-child"><div id="toc-the-disambiguate-argument"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#the-disambiguate-argument">5.5. The <code>disambiguate</code> argument</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-the-disambiguate-argument" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="the-disambiguate-argument">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div>
<ul>
<li><div id="toc-python-genus"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#python-genus">5.5.1. Python (genus)</a><span class="hover-metadata"> | <a href="#toc-python-genus" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="python-genus">ğŸ—— split</a> | <a href="#toc-the-disambiguate-argument" title="parent ToC entry">â†‘ parent "The <code>disambiguate</code> argument"</a></span></div></li>
<li><div id="toc-python-programming-language"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#python-programming-language">5.5.2. Python (.py, programming language)</a><span class="hover-metadata"> | <a href="#toc-python-programming-language" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="python-programming-language">ğŸ—— split</a> | <a href="#toc-the-disambiguate-argument" title="parent ToC entry">â†‘ parent "The <code>disambiguate</code> argument"</a></span></div></li>
</ul>
<li><div id="toc-x-within-title-restrictions"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#x-within-title-restrictions">5.6. <code>\x</code> within <code>title</code> restrictions</a><span class="hover-metadata"> | <a href="#toc-x-within-title-restrictions" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="x-within-title-restrictions">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div></li>
<li class="has-child"><div id="toc-internal-cross-file-references"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#internal-cross-file-references">5.7. Internal cross file references</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-internal-cross-file-references" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="internal-cross-file-references">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div>
<ul>
<li><div id="toc-internal-cross-file-references-internals"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#internal-cross-file-references-internals">5.7.1. Internal cross file references internals</a><span class="hover-metadata"> | <a href="#toc-internal-cross-file-references-internals" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="internal-cross-file-references-internals">ğŸ—— split</a> | <a href="#toc-internal-cross-file-references" title="parent ToC entry">â†‘ parent "Internal cross file references"</a></span></div></li>
</ul>
<li><div id="toc-automatic-id-from-title"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#automatic-id-from-title">5.8. Automatic ID from title</a><span class="hover-metadata"> | <a href="#toc-automatic-id-from-title" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="automatic-id-from-title">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div></li>
<li><div id="toc-internal-cross-reference-title-link-removal"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#internal-cross-reference-title-link-removal">5.9. Internal cross reference title link removal</a><span class="hover-metadata"> | <a href="#toc-internal-cross-reference-title-link-removal" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="internal-cross-reference-title-link-removal">ğŸ—— split</a> | <a href="#toc-internal-cross-references" title="parent ToC entry">â†‘ parent "Internal cross references"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-headers"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#headers">6. Headers (<code>\H</code>)</a> <span class="descendant-count" title="number of descendant headers">[37]</span><span class="hover-metadata"> | <a href="#toc-headers" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="headers">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li class="has-child"><div id="toc-id-based-header-levels"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#id-based-header-levels">6.1. ID-based header levels (<code>{parent=&lt;parent-id&gt;}</code>)</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-id-based-header-levels" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="id-based-header-levels">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div>
<ul>
<li><div id="toc-id-based-header-levels-and-scope-resolution"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#id-based-header-levels-and-scope-resolution">6.1.1. ID-based header levels and scope resolution</a><span class="hover-metadata"> | <a href="#toc-id-based-header-levels-and-scope-resolution" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="id-based-header-levels-and-scope-resolution">ğŸ—— split</a> | <a href="#toc-id-based-header-levels" title="parent ToC entry">â†‘ parent "ID-based header levels"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-unlimited-header-levels"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#unlimited-header-levels">6.2. Unlimited header levels</a> <span class="descendant-count" title="number of descendant headers">[10]</span><span class="hover-metadata"> | <a href="#toc-unlimited-header-levels" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="unlimited-header-levels">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h4"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h4">6.2.1. My h4</a> <span class="descendant-count" title="number of descendant headers">[9]</span><span class="hover-metadata"> | <a href="#toc-my-h4" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h4">ğŸ—— split</a> | <a href="#toc-unlimited-header-levels" title="parent ToC entry">â†‘ parent "Unlimited header levels"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h5"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h5">6.2.1.1. My h5</a> <span class="descendant-count" title="number of descendant headers">[8]</span><span class="hover-metadata"> | <a href="#toc-my-h5" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h5">ğŸ—— split</a> | <a href="#toc-my-h4" title="parent ToC entry">â†‘ parent "My h4"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h6"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h6">6.2.1.1.1. My h6</a> <span class="descendant-count" title="number of descendant headers">[7]</span><span class="hover-metadata"> | <a href="#toc-my-h6" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h6">ğŸ—— split</a> | <a href="#toc-my-h5" title="parent ToC entry">â†‘ parent "My h5"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h7"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h7">6.2.1.1.1.1. My h7</a> <span class="descendant-count" title="number of descendant headers">[6]</span><span class="hover-metadata"> | <a href="#toc-my-h7" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h7">ğŸ—— split</a> | <a href="#toc-my-h6" title="parent ToC entry">â†‘ parent "My h6"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h8"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h8">6.2.1.1.1.1.1. My h8</a> <span class="descendant-count" title="number of descendant headers">[5]</span><span class="hover-metadata"> | <a href="#toc-my-h8" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h8">ğŸ—— split</a> | <a href="#toc-my-h7" title="parent ToC entry">â†‘ parent "My h7"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h9"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h9">6.2.1.1.1.1.1.1. My h9</a> <span class="descendant-count" title="number of descendant headers">[4]</span><span class="hover-metadata"> | <a href="#toc-my-h9" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h9">ğŸ—— split</a> | <a href="#toc-my-h8" title="parent ToC entry">â†‘ parent "My h8"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h10"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h10">6.2.1.1.1.1.1.1.1. My h10</a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-my-h10" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h10">ğŸ—— split</a> | <a href="#toc-my-h9" title="parent ToC entry">â†‘ parent "My h9"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h11"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h11">6.2.1.1.1.1.1.1.1.1. My h11</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-my-h11" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h11">ğŸ—— split</a> | <a href="#toc-my-h10" title="parent ToC entry">â†‘ parent "My h10"</a></span></div>
<ul>
<li class="has-child"><div id="toc-my-h12"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h12">6.2.1.1.1.1.1.1.1.1.1. My h12</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-my-h12" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h12">ğŸ—— split</a> | <a href="#toc-my-h11" title="parent ToC entry">â†‘ parent "My h11"</a></span></div>
<ul>
<li><div id="toc-my-h13"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#my-h13">6.2.1.1.1.1.1.1.1.1.1.1. My h13</a><span class="hover-metadata"> | <a href="#toc-my-h13" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="my-h13">ğŸ—— split</a> | <a href="#toc-my-h12" title="parent ToC entry">â†‘ parent "My h12"</a></span></div></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<li class="has-child"><div id="toc-table-of-contents"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#table-of-contents">6.3. Table of contents (<code>\Toc</code>)</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-table-of-contents" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="table-of-contents">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div>
<ul>
<li><div id="toc-table-of-contents-javascript-open-close-interaction"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#table-of-contents-javascript-open-close-interaction">6.3.1. Table of contents JavaScript open close interaction</a><span class="hover-metadata"> | <a href="#toc-table-of-contents-javascript-open-close-interaction" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="table-of-contents-javascript-open-close-interaction">ğŸ—— split</a> | <a href="#toc-table-of-contents" title="parent ToC entry">â†‘ parent "Table of contents"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-scope"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#scope">6.4. Header <code>scope</code> argument</a> <span class="descendant-count" title="number of descendant headers">[5]</span><span class="hover-metadata"> | <a href="#toc-scope" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="scope">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div>
<ul>
<li><div id="toc-directory-based-scope"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#directory-based-scope">6.4.1. Directory-based <code>scope</code></a><span class="hover-metadata"> | <a href="#toc-directory-based-scope" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="directory-based-scope">ğŸ—— split</a> | <a href="#toc-scope" title="parent ToC entry">â†‘ parent "Header <code>scope</code> argument"</a></span></div></li>
<li class="has-child"><div id="toc-test-scope-1"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#test-scope-1">6.4.2. Test scope 1</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-test-scope-1" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="test-scope-1">ğŸ—— split</a> | <a href="#toc-scope" title="parent ToC entry">â†‘ parent "Header <code>scope</code> argument"</a></span></div>
<ul>
<li class="has-child"><div id="toc-test-scope-1/test-scope-2"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#test-scope-1/test-scope-2">6.4.2.1. Test scope 2</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-test-scope-1/test-scope-2" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="test-scope-1/test-scope-2">ğŸ—— split</a> | <a href="#toc-test-scope-1" title="parent ToC entry">â†‘ parent "Test scope 1"</a></span></div>
<ul>
<li><div id="toc-test-scope-1/test-scope-2/not-scoped"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#test-scope-1/test-scope-2/not-scoped">6.4.2.1.1. Not scoped</a><span class="hover-metadata"> | <a href="#toc-test-scope-1/test-scope-2/not-scoped" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="test-scope-1/test-scope-2/not-scoped">ğŸ—— split</a> | <a href="#toc-test-scope-1/test-scope-2" title="parent ToC entry">â†‘ parent "Test scope 2"</a></span></div></li>
</ul>
</li>
</ul>
<li><div id="toc-header-scope-argument-of-toplevel-headers"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#header-scope-argument-of-toplevel-headers">6.4.3. Header <code>scope</code> argument of toplevel headers</a><span class="hover-metadata"> | <a href="#toc-header-scope-argument-of-toplevel-headers" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="header-scope-argument-of-toplevel-headers">ğŸ—— split</a> | <a href="#toc-scope" title="parent ToC entry">â†‘ parent "Header <code>scope</code> argument"</a></span></div></li>
</ul>
<li><div id="toc-header-splitsuffix-argument"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#header-splitsuffix-argument">6.5. Header <code>splitSuffix</code> argument</a><span class="hover-metadata"> | <a href="#toc-header-splitsuffix-argument" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="header-splitsuffix-argument">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div></li>
<li class="has-child"><div id="toc-header-wiki-argument"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#header-wiki-argument">6.6. Header <code>wiki</code> argument</a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-header-wiki-argument" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="header-wiki-argument">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div>
<ul>
<li><div id="toc-wiki-explicit"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#wiki-explicit">6.6.1. Tiananmen Square</a><span class="hover-metadata"> | <a href="#toc-wiki-explicit" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="wiki-explicit">ğŸ—— split</a> | <a href="#toc-header-wiki-argument" title="parent ToC entry">â†‘ parent "Header <code>wiki</code> argument"</a></span></div></li>
<li><div id="toc-wiki-implicit"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#wiki-implicit">6.6.2. Tiananmen Square</a><span class="hover-metadata"> | <a href="#toc-wiki-implicit" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="wiki-implicit">ğŸ—— split</a> | <a href="#toc-header-wiki-argument" title="parent ToC entry">â†‘ parent "Header <code>wiki</code> argument"</a></span></div></li>
<li><div id="toc-wiki-explicit-subsection"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#wiki-explicit-subsection">6.6.3. History or Tiananmen Square</a><span class="hover-metadata"> | <a href="#toc-wiki-explicit-subsection" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="wiki-explicit-subsection">ğŸ—— split</a> | <a href="#toc-header-wiki-argument" title="parent ToC entry">â†‘ parent "Header <code>wiki</code> argument"</a></span></div></li>
</ul>
<li><div id="toc-header-explicit-levels-vs-nesting-design-choice"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#header-explicit-levels-vs-nesting-design-choice">6.7. Header explicit levels vs nesting design choice</a><span class="hover-metadata"> | <a href="#toc-header-explicit-levels-vs-nesting-design-choice" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="header-explicit-levels-vs-nesting-design-choice">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div></li>
<li class="has-child"><div id="toc-includes"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#includes">6.8. Includes (<code>\Include</code>)</a> <span class="descendant-count" title="number of descendant headers">[5]</span><span class="hover-metadata"> | <a href="#toc-includes" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="includes">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div>
<ul>
<li><div id="toc-not-readme"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="not-readme">Not the README</a><span class="hover-metadata"> | <a href="#toc-not-readme" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="not-readme-split">ğŸ—— split</a></span></div></li>
<li><div id="toc-not-readme-2"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="not-readme-2">Not the README 2</a><span class="hover-metadata"> | <a href="#toc-not-readme-2" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="not-readme-2-split">ğŸ—— split</a></span></div></li>
<li><div id="toc-not-readme-with-scope"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="not-readme-with-scope">Not the README with scope</a><span class="hover-metadata"> | <a href="#toc-not-readme-with-scope" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="not-readme-with-scope-split">ğŸ—— split</a></span></div></li>
<li><div id="toc-subdir"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="subdir/">subdir index</a><span class="hover-metadata"> | <a href="#toc-subdir" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="subdir/index-split">ğŸ—— split</a></span></div></li>
<li><div id="toc-subdir/notindex"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="subdir/notindex">subdir/notindex</a><span class="hover-metadata"> | <a href="#toc-subdir/notindex" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="subdir/notindex-split">ğŸ—— split</a></span></div></li>
</ul>
<li><div id="toc-skipping-header-levels"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#skipping-header-levels">6.9. Skipping header levels</a><span class="hover-metadata"> | <a href="#toc-skipping-header-levels" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="skipping-header-levels">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div></li>
<li class="has-child"><div id="toc-the-toplevel-header"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#the-toplevel-header">6.10. The toplevel header</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-the-toplevel-header" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="the-toplevel-header">ğŸ—— split</a> | <a href="#toc-headers" title="parent ToC entry">â†‘ parent "Headers"</a></span></div>
<ul>
<li><div id="toc-the-toplevel-header-ids-don-t-show"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#the-toplevel-header-ids-don-t-show">6.10.1. The toplevel header IDs don't show</a><span class="hover-metadata"> | <a href="#toc-the-toplevel-header-ids-don-t-show" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="the-toplevel-header-ids-don-t-show">ğŸ—— split</a> | <a href="#toc-the-toplevel-header" title="parent ToC entry">â†‘ parent "The toplevel header"</a></span></div></li>
<li><div id="toc-the-id-of-the-first-header-is-derived-from-the-filename"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#the-id-of-the-first-header-is-derived-from-the-filename">6.10.2. The ID of the first header is derived from the filename</a><span class="hover-metadata"> | <a href="#toc-the-id-of-the-first-header-is-derived-from-the-filename" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="the-id-of-the-first-header-is-derived-from-the-filename">ğŸ—— split</a> | <a href="#toc-the-toplevel-header" title="parent ToC entry">â†‘ parent "The toplevel header"</a></span></div></li>
</ul>
</li>
</ul>
<li><div id="toc-lists"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#lists">7. Lists (<code>* </code>, <code>\L</code>, <code>\Ul</code>, <code>\Ol</code>)</a><span class="hover-metadata"> | <a href="#toc-lists" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="lists">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li class="has-child"><div id="toc-images"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#images">8. Images (<code>\Image</code> and <code>\image</code>)</a> <span class="descendant-count" title="number of descendant headers">[9]</span><span class="hover-metadata"> | <a href="#toc-images" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="images">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-image-height"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#image-height">8.1. Image height</a><span class="hover-metadata"> | <a href="#toc-image-height" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="image-height">ğŸ—— split</a> | <a href="#toc-images" title="parent ToC entry">â†‘ parent "Images"</a></span></div></li>
<li><div id="toc-image-id"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#image-id">8.2. Image IDs and captions</a><span class="hover-metadata"> | <a href="#toc-image-id" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="image-id">ğŸ—— split</a> | <a href="#toc-images" title="parent ToC entry">â†‘ parent "Images"</a></span></div></li>
<li class="has-child"><div id="toc-where-to-store-images"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#where-to-store-images">8.3. Where to store images</a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-where-to-store-images" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="where-to-store-images">ğŸ—— split</a> | <a href="#toc-images" title="parent ToC entry">â†‘ parent "Images"</a></span></div>
<ul>
<li><div id="toc-store-images-inside-the-repository-itself"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#store-images-inside-the-repository-itself">8.3.1. Store images inside the repository itself</a><span class="hover-metadata"> | <a href="#toc-store-images-inside-the-repository-itself" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="store-images-inside-the-repository-itself">ğŸ—— split</a> | <a href="#toc-where-to-store-images" title="parent ToC entry">â†‘ parent "Where to store images"</a></span></div></li>
<li><div id="toc-store-images-in-a-separate-media-repository"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#store-images-in-a-separate-media-repository">8.3.2. Store images in a separate media repository</a><span class="hover-metadata"> | <a href="#toc-store-images-in-a-separate-media-repository" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="store-images-in-a-separate-media-repository">ğŸ—— split</a> | <a href="#toc-where-to-store-images" title="parent ToC entry">â†‘ parent "Where to store images"</a></span></div></li>
<li><div id="toc-store-images-in-wikimedia-commons"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#store-images-in-wikimedia-commons">8.3.3. Store images in Wikimedia Commons</a><span class="hover-metadata"> | <a href="#toc-store-images-in-wikimedia-commons" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="store-images-in-wikimedia-commons">ğŸ—— split</a> | <a href="#toc-where-to-store-images" title="parent ToC entry">â†‘ parent "Where to store images"</a></span></div></li>
</ul>
<li><div id="toc-image-lazy-loading"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#image-lazy-loading">8.4. Image lazy loading</a><span class="hover-metadata"> | <a href="#toc-image-lazy-loading" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="image-lazy-loading">ğŸ—— split</a> | <a href="#toc-images" title="parent ToC entry">â†‘ parent "Images"</a></span></div></li>
<li><div id="toc-background-color-of-transparent-images"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#background-color-of-transparent-images">8.5. Background color of transparent images</a><span class="hover-metadata"> | <a href="#toc-background-color-of-transparent-images" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="background-color-of-transparent-images">ğŸ—— split</a> | <a href="#toc-images" title="parent ToC entry">â†‘ parent "Images"</a></span></div></li>
<li><div id="toc-image-generators"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#image-generators">8.6. Image generators</a><span class="hover-metadata"> | <a href="#toc-image-generators" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="image-generators">ğŸ—— split</a> | <a href="#toc-images" title="parent ToC entry">â†‘ parent "Images"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-videos"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#videos">9. Videos (<code>\Video</code> and <code>\video</code>)</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-videos" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="videos">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-video-start-argument"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#video-start-argument">9.1. Video <code>start</code> argument</a><span class="hover-metadata"> | <a href="#toc-video-start-argument" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="video-start-argument">ğŸ—— split</a> | <a href="#toc-videos" title="parent ToC entry">â†‘ parent "Videos"</a></span></div></li>
<li><div id="toc-video-lazy-loading"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#video-lazy-loading">9.2. Video lazy loading</a><span class="hover-metadata"> | <a href="#toc-video-lazy-loading" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="video-lazy-loading">ğŸ—— split</a> | <a href="#toc-videos" title="parent ToC entry">â†‘ parent "Videos"</a></span></div></li>
</ul>
<li><div id="toc-code"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#code">10. Code (<code>`</code>, <code>``</code>, <code>\c</code> and <code>\C</code>)</a><span class="hover-metadata"> | <a href="#toc-code" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="code">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li class="has-child"><div id="toc-mathematics"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#mathematics">11. Mathematics (<code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code>)</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-mathematics" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="mathematics">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-math-defines-across-blocks"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#math-defines-across-blocks">11.1. Math defines across blocks</a><span class="hover-metadata"> | <a href="#toc-math-defines-across-blocks" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="math-defines-across-blocks">ğŸ—— split</a> | <a href="#toc-mathematics" title="parent ToC entry">â†‘ parent "Mathematics"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-tables"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#tables">12. Tables (<code>|| </code>, <code>| </code>, <code>\Table</code>, <code>\Tr</code>, <code>\Th</code> and <code>\Td</code>)</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-tables" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="tables">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-table-sorting"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#table-sorting">12.1. Table sorting</a><span class="hover-metadata"> | <a href="#toc-table-sorting" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="table-sorting">ğŸ—— split</a> | <a href="#toc-tables" title="parent ToC entry">â†‘ parent "Tables"</a></span></div></li>
</ul>
<li><div id="toc-quotations"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#quotations">13. Quotations (<code>\Q</code>)</a><span class="hover-metadata"> | <a href="#toc-quotations" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="quotations">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-bold"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#bold">14. Bold (<code>\b</code>)</a><span class="hover-metadata"> | <a href="#toc-bold" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="bold">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-italic"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#italic">15. Italic (<code>\i</code>)</a><span class="hover-metadata"> | <a href="#toc-italic" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="italic">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-passthrough"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#passthrough">16. Passthrough (<code>\Passthrough</code>)</a><span class="hover-metadata"> | <a href="#toc-passthrough" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="passthrough">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-comments"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#comments">17. Comments</a><span class="hover-metadata"> | <a href="#toc-comments" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="comments">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-jscanvasdemo"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#jscanvasdemo">18. <code>JsCanvasDemo</code></a><span class="hover-metadata"> | <a href="#toc-jscanvasdemo" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="jscanvasdemo">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li><div id="toc-cirodownexample"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cirodownexample">19. <code>CirodownExample</code></a><span class="hover-metadata"> | <a href="#toc-cirodownexample" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cirodownexample">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
<li class="has-child"><div id="toc-cirodown-syntax"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cirodown-syntax">20. Cirodown syntax</a> <span class="descendant-count" title="number of descendant headers">[21]</span><span class="hover-metadata"> | <a href="#toc-cirodown-syntax" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cirodown-syntax">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li class="has-child"><div id="toc-insane-macro-shortcuts"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#insane-macro-shortcuts">20.1. Insane macro shortcuts</a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-insane-macro-shortcuts" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="insane-macro-shortcuts">ğŸ—— split</a> | <a href="#toc-cirodown-syntax" title="parent ToC entry">â†‘ parent "Cirodown syntax"</a></span></div>
<ul>
<li><div id="toc-insane-code-and-math-shortcuts"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#insane-code-and-math-shortcuts">20.1.1. Insane code and math shortcuts</a><span class="hover-metadata"> | <a href="#toc-insane-code-and-math-shortcuts" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="insane-code-and-math-shortcuts">ğŸ—— split</a> | <a href="#toc-insane-macro-shortcuts" title="parent ToC entry">â†‘ parent "Insane macro shortcuts"</a></span></div></li>
<li><div id="toc-insane-macro-shortcut-extra-arguments"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#insane-macro-shortcut-extra-arguments">20.1.2. Insane macro shortcut extra arguments</a><span class="hover-metadata"> | <a href="#toc-insane-macro-shortcut-extra-arguments" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="insane-macro-shortcut-extra-arguments">ğŸ—— split</a> | <a href="#toc-insane-macro-shortcuts" title="parent ToC entry">â†‘ parent "Insane macro shortcuts"</a></span></div></li>
<li><div id="toc-escapes-in-insane-macro-shortcuts"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#escapes-in-insane-macro-shortcuts">20.1.3. Escapes in insane macro shortcuts</a><span class="hover-metadata"> | <a href="#toc-escapes-in-insane-macro-shortcuts" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="escapes-in-insane-macro-shortcuts">ğŸ—— split</a> | <a href="#toc-insane-macro-shortcuts" title="parent ToC entry">â†‘ parent "Insane macro shortcuts"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-macro-argument-syntax"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#macro-argument-syntax">20.2. Macro argument syntax</a> <span class="descendant-count" title="number of descendant headers">[11]</span><span class="hover-metadata"> | <a href="#toc-macro-argument-syntax" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="macro-argument-syntax">ğŸ—— split</a> | <a href="#toc-cirodown-syntax" title="parent ToC entry">â†‘ parent "Cirodown syntax"</a></span></div>
<ul>
<li class="has-child"><div id="toc-positional-vs-named-arguments"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#positional-vs-named-arguments">20.2.1. Positional vs named arguments (<code>[...]</code> vs <code>{key=...}</code>)</a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-positional-vs-named-arguments" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="positional-vs-named-arguments">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" title="parent ToC entry">â†‘ parent "Macro argument syntax"</a></span></div>
<ul>
<li class="has-child"><div id="toc-positional-argument-default-values"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#positional-argument-default-values">20.2.1.1. Positional argument default values</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-positional-argument-default-values" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="positional-argument-default-values">ğŸ—— split</a> | <a href="#toc-positional-vs-named-arguments" title="parent ToC entry">â†‘ parent "Positional vs named arguments"</a></span></div>
<ul>
<li><div id="toc-mandatory-positional-arguments"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#mandatory-positional-arguments">20.2.1.1.1. mandatory positional arguments</a><span class="hover-metadata"> | <a href="#toc-mandatory-positional-arguments" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="mandatory-positional-arguments">ğŸ—— split</a> | <a href="#toc-positional-argument-default-values" title="parent ToC entry">â†‘ parent "Positional argument default values"</a></span></div></li>
</ul>
<li><div id="toc-boolean-named-arguments"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#boolean-named-arguments">20.2.1.2. Boolean named arguments</a><span class="hover-metadata"> | <a href="#toc-boolean-named-arguments" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="boolean-named-arguments">ğŸ—— split</a> | <a href="#toc-positional-vs-named-arguments" title="parent ToC entry">â†‘ parent "Positional vs named arguments"</a></span></div></li>
</ul>
<li><div id="toc-javascript-interface-for-arguments"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#javascript-interface-for-arguments">20.2.2. JavaScript interface for arguments</a><span class="hover-metadata"> | <a href="#toc-javascript-interface-for-arguments" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="javascript-interface-for-arguments">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" title="parent ToC entry">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-literal-arguments"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#literal-arguments">20.2.3. Literal arguments (<code>[[...]]</code> and <code>{{key=...}}</code>)</a><span class="hover-metadata"> | <a href="#toc-literal-arguments" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="literal-arguments">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" title="parent ToC entry">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-argument-leading-newline-removal"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#argument-leading-newline-removal">20.2.4. Argument leading newline removal</a><span class="hover-metadata"> | <a href="#toc-argument-leading-newline-removal" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="argument-leading-newline-removal">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" title="parent ToC entry">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-argument-newlines-between-arguments-removal"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#argument-newlines-between-arguments-removal">20.2.5. Argument newlines between arguments removal</a><span class="hover-metadata"> | <a href="#toc-argument-newlines-between-arguments-removal" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="argument-newlines-between-arguments-removal">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" title="parent ToC entry">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-escape-characters"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#escape-characters">20.2.6. Escape characters</a><span class="hover-metadata"> | <a href="#toc-escape-characters" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="escape-characters">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" title="parent ToC entry">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-auto-parent"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#auto-parent">20.2.7. <code>auto_parent</code> macro property</a><span class="hover-metadata"> | <a href="#toc-auto-parent" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="auto-parent">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" title="parent ToC entry">â†‘ parent "Macro argument syntax"</a></span></div></li>
<li><div id="toc-remove-whitespace-children"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#remove-whitespace-children">20.2.8. <code>remove_whitespace_children</code> macro argument property</a><span class="hover-metadata"> | <a href="#toc-remove-whitespace-children" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="remove-whitespace-children">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" title="parent ToC entry">â†‘ parent "Macro argument syntax"</a></span></div></li>
</ul>
<li><div id="toc-block-vs-inline-macros"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#block-vs-inline-macros">20.3. Block vs inline macros</a><span class="hover-metadata"> | <a href="#toc-block-vs-inline-macros" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="block-vs-inline-macros">ğŸ—— split</a> | <a href="#toc-cirodown-syntax" title="parent ToC entry">â†‘ parent "Cirodown syntax"</a></span></div></li>
<li><div id="toc-known-url-protocols"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#known-url-protocols">20.4. Known URL protocols</a><span class="hover-metadata"> | <a href="#toc-known-url-protocols" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="known-url-protocols">ğŸ—— split</a> | <a href="#toc-cirodown-syntax" title="parent ToC entry">â†‘ parent "Cirodown syntax"</a></span></div></li>
<li><div id="toc-javascript-case-conversion"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#javascript-case-conversion">20.5. JavaScript case conversion</a><span class="hover-metadata"> | <a href="#toc-javascript-case-conversion" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="javascript-case-conversion">ğŸ—— split</a> | <a href="#toc-cirodown-syntax" title="parent ToC entry">â†‘ parent "Cirodown syntax"</a></span></div></li>
<li class="has-child"><div id="toc-security"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#security">20.6. Security</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-security" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="security">ğŸ—— split</a> | <a href="#toc-cirodown-syntax" title="parent ToC entry">â†‘ parent "Cirodown syntax"</a></span></div>
<ul>
<li><div id="toc-xss-unsafe"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#xss-unsafe">20.6.1. xss-unsafe (<code>--xss-unsafe</code>)</a><span class="hover-metadata"> | <a href="#toc-xss-unsafe" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="xss-unsafe">ğŸ—— split</a> | <a href="#toc-security" title="parent ToC entry">â†‘ parent "Security"</a></span></div></li>
</ul>
</li>
</ul>
<li class="has-child"><div id="toc-tooling"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#tooling">21. Tooling</a> <span class="descendant-count" title="number of descendant headers">[34]</span><span class="hover-metadata"> | <a href="#toc-tooling" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="tooling">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li class="has-child"><div id="toc-cirodown-executable"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cirodown-executable">21.1. <code>cirodown</code> executable</a> <span class="descendant-count" title="number of descendant headers">[31]</span><span class="hover-metadata"> | <a href="#toc-cirodown-executable" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cirodown-executable">ğŸ—— split</a> | <a href="#toc-tooling" title="parent ToC entry">â†‘ parent "Tooling"</a></span></div>
<ul>
<li class="has-child"><div id="toc-index-files"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#index-files">21.1.1. Index files</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-index-files" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="index-files">ğŸ—— split</a> | <a href="#toc-cirodown-executable" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable"</a></span></div>
<ul>
<li><div id="toc-the-toplevel-index-file"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#the-toplevel-index-file">21.1.1.1. The toplevel index file</a><span class="hover-metadata"> | <a href="#toc-the-toplevel-index-file" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="the-toplevel-index-file">ğŸ—— split</a> | <a href="#toc-index-files" title="parent ToC entry">â†‘ parent "Index files"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-cirodown-executable-options"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cirodown-executable-options">21.1.2. <code>cirodown</code> executable options</a> <span class="descendant-count" title="number of descendant headers">[24]</span><span class="hover-metadata"> | <a href="#toc-cirodown-executable-options" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cirodown-executable-options">ğŸ—— split</a> | <a href="#toc-cirodown-executable" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable"</a></span></div>
<ul>
<li><div id="toc-dry-run"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#dry-run">21.1.2.1. <code>--dry-run</code></a><span class="hover-metadata"> | <a href="#toc-dry-run" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="dry-run">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-embed-includes"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#embed-includes">21.1.2.2. <code>--embed-includes</code></a><span class="hover-metadata"> | <a href="#toc-embed-includes" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="embed-includes">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-embed-resources"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#embed-resources">21.1.2.3. <code>--embed-resources</code></a><span class="hover-metadata"> | <a href="#toc-embed-resources" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="embed-resources">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-generate"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#generate">21.1.2.4. <code>--generate</code></a><span class="hover-metadata"> | <a href="#toc-generate" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="generate">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-generate-multifile"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#generate-multifile">21.1.2.5. <code>--generate-multifile</code></a><span class="hover-metadata"> | <a href="#toc-generate-multifile" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="generate-multifile">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-help-macros"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#help-macros">21.1.2.6. <code>--help-macros</code></a><span class="hover-metadata"> | <a href="#toc-help-macros" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="help-macros">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li class="has-child"><div id="toc-log"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#log">21.1.2.7. <code>--log</code></a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-log" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="log">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div>
<ul>
<li><div id="toc-log-headers"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#log-headers">21.1.2.7.1. <code>--log headers</code></a><span class="hover-metadata"> | <a href="#toc-log-headers" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="log-headers">ğŸ—— split</a> | <a href="#toc-log" title="parent ToC entry">â†‘ parent "<code>--log</code>"</a></span></div></li>
</ul>
<li><div id="toc-no-html-x-extension"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#no-html-x-extension">21.1.2.8. <code>--no-html-x-extension</code></a><span class="hover-metadata"> | <a href="#toc-no-html-x-extension" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="no-html-x-extension">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-outdir"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#outdir">21.1.2.9. <code>--outdir &lt;outdir&gt;</code></a><span class="hover-metadata"> | <a href="#toc-outdir" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="outdir">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-outfile"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#outfile">21.1.2.10. <code>--outfile &lt;outfie&gt;</code></a><span class="hover-metadata"> | <a href="#toc-outfile" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="outfile">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li class="has-child"><div id="toc-output-format"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#output-format">21.1.2.11. <code>-O --output-format &lt;outformat&gt;</code></a> <span class="descendant-count" title="number of descendant headers">[4]</span><span class="hover-metadata"> | <a href="#toc-output-format" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="output-format">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div>
<ul>
<li class="has-child"><div id="toc-id-output-format"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#id-output-format">21.1.2.11.1. <code>id</code> output format</a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-id-output-format" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="id-output-format">ğŸ—— split</a> | <a href="#toc-output-format" title="parent ToC entry">â†‘ parent "<code>-O --output-format &lt;outformat&gt;</code>"</a></span></div>
<ul>
<li class="has-child"><div id="toc-unimplemented-output-formats"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#unimplemented-output-formats">21.1.2.11.1.1. Unimplemented output formats</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-unimplemented-output-formats" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="unimplemented-output-formats">ğŸ—— split</a> | <a href="#toc-id-output-format" title="parent ToC entry">â†‘ parent "<code>id</code> output format"</a></span></div>
<ul>
<li><div id="toc-cirodown-output-format"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cirodown-output-format">21.1.2.11.1.1.1. <code>cirodown</code> output format</a><span class="hover-metadata"> | <a href="#toc-cirodown-output-format" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cirodown-output-format">ğŸ—— split</a> | <a href="#toc-unimplemented-output-formats" title="parent ToC entry">â†‘ parent "Unimplemented output formats"</a></span></div></li>
<li><div id="toc-latex-output-format"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#latex-output-format">21.1.2.11.1.1.2. <code>latex</code> output format</a><span class="hover-metadata"> | <a href="#toc-latex-output-format" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="latex-output-format">ğŸ—— split</a> | <a href="#toc-unimplemented-output-formats" title="parent ToC entry">â†‘ parent "Unimplemented output formats"</a></span></div></li>
</ul>
</li>
</ul>
</li>
</ul>
<li class="has-child"><div id="toc-publish"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#publish">21.1.2.12. <code>-p, --publish</code></a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-publish" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="publish">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div>
<ul>
<li class="has-child"><div id="toc-publish-to-github-pages"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#publish-to-github-pages">21.1.2.12.1. Publish to GitHub Pages</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-publish-to-github-pages" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="publish-to-github-pages">ğŸ—— split</a> | <a href="#toc-publish" title="parent ToC entry">â†‘ parent "<code>-p, --publish</code>"</a></span></div>
<ul>
<li><div id="toc-publish-to-github-pages-root-page"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#publish-to-github-pages-root-page">21.1.2.12.1.1. Publish to GitHub pages root page</a><span class="hover-metadata"> | <a href="#toc-publish-to-github-pages-root-page" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="publish-to-github-pages-root-page">ğŸ—— split</a> | <a href="#toc-publish-to-github-pages" title="parent ToC entry">â†‘ parent "Publish to GitHub Pages"</a></span></div></li>
<li><div id="toc-publish-to-github-common-steps"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#publish-to-github-common-steps">21.1.2.12.1.2. Publish to GitHub common steps</a><span class="hover-metadata"> | <a href="#toc-publish-to-github-common-steps" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="publish-to-github-common-steps">ğŸ—— split</a> | <a href="#toc-publish-to-github-pages" title="parent ToC entry">â†‘ parent "Publish to GitHub Pages"</a></span></div></li>
</ul>
</li>
</ul>
<li><div id="toc-publish-commit"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#publish-commit">21.1.2.13. <code>-P, --publish-commit &lt;commit-message&gt;</code></a><span class="hover-metadata"> | <a href="#toc-publish-commit" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="publish-commit">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-split-headers"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#split-headers">21.1.2.14. <code>--split-headers</code></a><span class="hover-metadata"> | <a href="#toc-split-headers" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="split-headers">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-watch"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#watch">21.1.2.15. <code>--watch</code></a><span class="hover-metadata"> | <a href="#toc-watch" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="watch">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
<li><div id="toc-template"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#template">21.1.2.16. <code>--template</code></a><span class="hover-metadata"> | <a href="#toc-template" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="template">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable options"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-cirodown-json"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#cirodown-json">21.1.3. <code>cirodown.json</code></a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-cirodown-json" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="cirodown-json">ğŸ—— split</a> | <a href="#toc-cirodown-executable" title="parent ToC entry">â†‘ parent "<code>cirodown</code> executable"</a></span></div>
<ul>
<li><div id="toc-media-providers"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#media-providers">21.1.3.1. <code>media-providers</code></a><span class="hover-metadata"> | <a href="#toc-media-providers" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="media-providers">ğŸ—— split</a> | <a href="#toc-cirodown-json" title="parent ToC entry">â†‘ parent "<code>cirodown.json</code>"</a></span></div></li>
<li><div id="toc-prepublish"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#prepublish">21.1.3.2. <code>prepublish</code></a><span class="hover-metadata"> | <a href="#toc-prepublish" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="prepublish">ğŸ—— split</a> | <a href="#toc-cirodown-json" title="parent ToC entry">â†‘ parent "<code>cirodown.json</code>"</a></span></div></li>
<li><div id="toc-redirects"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#redirects">21.1.3.3. <code>redirects</code></a><span class="hover-metadata"> | <a href="#toc-redirects" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="redirects">ğŸ—— split</a> | <a href="#toc-cirodown-json" title="parent ToC entry">â†‘ parent "<code>cirodown.json</code>"</a></span></div></li>
</ul>
</li>
</ul>
<li><div id="toc-editor-with-preview"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#editor-with-preview">21.2. Editor with preview</a><span class="hover-metadata"> | <a href="#toc-editor-with-preview" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="editor-with-preview">ğŸ—— split</a> | <a href="#toc-tooling" title="parent ToC entry">â†‘ parent "Tooling"</a></span></div></li>
<li><div id="toc-conversion-to-from-other-formats"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#conversion-to-from-other-formats">21.3. Conversion to/from other formats</a><span class="hover-metadata"> | <a href="#toc-conversion-to-from-other-formats" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="conversion-to-from-other-formats">ğŸ—— split</a> | <a href="#toc-tooling" title="parent ToC entry">â†‘ parent "Tooling"</a></span></div></li>
</ul>
<li class="has-child"><div id="toc-developing-cirodown"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#developing-cirodown">22. Developing Cirodown</a> <span class="descendant-count" title="number of descendant headers">[17]</span><span class="hover-metadata"> | <a href="#toc-developing-cirodown" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="developing-cirodown">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div>
<ul>
<li><div id="toc-test-system"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#test-system">22.1. Test system</a><span class="hover-metadata"> | <a href="#toc-test-system" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="test-system">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li class="has-child"><div id="toc-overview-of-files-in-this-repository"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#overview-of-files-in-this-repository">22.2. Overview of files in this repository</a> <span class="descendant-count" title="number of descendant headers">[3]</span><span class="hover-metadata"> | <a href="#toc-overview-of-files-in-this-repository" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="overview-of-files-in-this-repository">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div>
<ul>
<li><div id="toc-build-sass"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#build-sass">22.2.1. <code>build-sass</code></a><span class="hover-metadata"> | <a href="#toc-build-sass" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="build-sass">ğŸ—— split</a> | <a href="#toc-overview-of-files-in-this-repository" title="parent ToC entry">â†‘ parent "Overview of files in this repository"</a></span></div></li>
<li class="has-child"><div id="toc-autogenerated-tests"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#autogenerated-tests">22.2.2. Autogenerated tests</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-autogenerated-tests" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="autogenerated-tests">ğŸ—— split</a> | <a href="#toc-overview-of-files-in-this-repository" title="parent ToC entry">â†‘ parent "Overview of files in this repository"</a></span></div>
<ul>
<li><div id="toc-generate-paragraphs"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#generate-paragraphs">22.2.2.1. generate-paragraphs</a><span class="hover-metadata"> | <a href="#toc-generate-paragraphs" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="generate-paragraphs">ğŸ—— split</a> | <a href="#toc-autogenerated-tests" title="parent ToC entry">â†‘ parent "Autogenerated tests"</a></span></div></li>
</ul>
</li>
</ul>
<li class="has-child"><div id="toc-performance"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#performance">22.3. Performance</a> <span class="descendant-count" title="number of descendant headers">[2]</span><span class="hover-metadata"> | <a href="#toc-performance" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="performance">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div>
<ul>
<li><div id="toc-debug-perf"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#debug-perf">22.3.1. <code>--debug-perf</code></a><span class="hover-metadata"> | <a href="#toc-debug-perf" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="debug-perf">ğŸ—— split</a> | <a href="#toc-performance" title="parent ToC entry">â†‘ parent "Performance"</a></span></div></li>
<li><div id="toc-speed-comparison-to-other-markup-language-implementations"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#speed-comparison-to-other-markup-language-implementations">22.3.2. Speed comparison to other markup language implementations</a><span class="hover-metadata"> | <a href="#toc-speed-comparison-to-other-markup-language-implementations" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="speed-comparison-to-other-markup-language-implementations">ğŸ—— split</a> | <a href="#toc-performance" title="parent ToC entry">â†‘ parent "Performance"</a></span></div></li>
</ul>
<li><div id="toc-internals-api"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#internals-api">22.4. Internals API</a><span class="hover-metadata"> | <a href="#toc-internals-api" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="internals-api">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li class="has-child"><div id="toc-toplevel"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#toplevel">22.5. The <code>\Toplevel</code> implicit macro</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-toplevel" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="toplevel">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div>
<ul>
<li><div id="toc-html-document-title"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#html-document-title">22.5.1. HTML document title</a><span class="hover-metadata"> | <a href="#toc-html-document-title" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="html-document-title">ğŸ—— split</a> | <a href="#toc-toplevel" title="parent ToC entry">â†‘ parent "The <code>\Toplevel</code> implicit macro"</a></span></div></li>
</ul>
<li><div id="toc-css"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#css">22.6. CSS</a><span class="hover-metadata"> | <a href="#toc-css" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="css">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-formal-grammar"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#formal-grammar">22.7. Formal grammar</a><span class="hover-metadata"> | <a href="#toc-formal-grammar" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="formal-grammar">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li><div id="toc-the-out-directory"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#the-out-directory">22.8. The <code>out</code> directory</a><span class="hover-metadata"> | <a href="#toc-the-out-directory" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="the-out-directory">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div></li>
<li class="has-child"><div id="toc-release-procedure"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#release-procedure">22.9. Release procedure</a> <span class="descendant-count" title="number of descendant headers">[1]</span><span class="hover-metadata"> | <a href="#toc-release-procedure" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="release-procedure">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div>
<ul>
<li><div id="toc-website-release-procedure"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#website-release-procedure">22.9.1. Website release procedure</a><span class="hover-metadata"> | <a href="#toc-website-release-procedure" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="website-release-procedure">ğŸ—— split</a> | <a href="#toc-release-procedure" title="parent ToC entry">â†‘ parent "Release procedure"</a></span></div></li>
</ul>
<li><div id="toc-todo"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#todo">22.10. TODO</a><span class="hover-metadata"> | <a href="#toc-todo" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="todo">ğŸ—— split</a> | <a href="#toc-developing-cirodown" title="parent ToC entry">â†‘ parent "Developing Cirodown"</a></span></div></li>
</ul>
<li><div id="toc-related-projects"><div class="arrow" title="close children -> close all -> open all"><div></div></div><a href="#related-projects">23. Related projects</a><span class="hover-metadata"> | <a href="#toc-related-projects" title="link to this ToC entry">ğŸ”— link</a> | <a title="view one header per page" href="related-projects">ğŸ—— split</a> | <a href="#toc" title="parent ToC entry">â†‘ parent "Cirodown"</a></span></div></li>
</ul>
</li>
</ul>
</div>
</div><div><span class="hide-hover"><a href="#quick-start">ğŸ”—</a></span><h2 id="quick-start"><a href="#quick-start" title="link to this element">1. Quick start</a><span>  | <a title="view one header per page" href="quick-start">ğŸ—— split</a> | <a href="#toc-quick-start" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-2">ğŸ”—</a></span><div class="p" id="p-2">Live in-browser demo: <a href="https://cirosantilli.com/cirodown/editor">https://cirosantilli.com/cirodown/editor</a></div></div><div><span class="hide-hover"><a href="#p-3">ğŸ”—</a></span><div class="p" id="p-3">Install the NPM package globally and use it from the command line for a quick conversion:
<div class="code-caption-container" id="code-1">
<pre><code>npm install -g cirodown
printf 'ab\ncd\n' | cirodown --body-only
</code></pre></div>
or <a href="https://stackoverflow.com/questions/9679932/how-to-use-package-installed-locally-in-node-modules">install in a single directory and run locally from it</a>:
<div class="code-caption-container" id="code-2">
<pre><code>printf '{}\n' &gt; package.json
npm install --save cirodown
printf 'ab\ncd\n' | npx cirodown --body-only
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-4">ğŸ”—</a></span><div class="p" id="p-4">To start a new project with a minimal sane template <a href="#generate" title="internal link">use <code>--generate</code></a> and then <a href="#publish-to-github-pages" title="internal link">publish it to GitHub with <code>--publish</code></a>:
<div class="code-caption-container" id="code-3">
<pre><code>mkdir -p cirodown-test
cd cirodown-test
git init
git remote add origin git@github.com:USERNAME/cirodown-test.git
cirodown --generate
git add .
git commit -m 'First commit'
cirodown --publish
</code></pre></div>
Or to start with a more complex template suitable for multifile projects use <a href="#generate-multifile" title="internal link">use <code>--generate-multifile</code></a> instead:
<div class="code-caption-container" id="code-4">
<pre><code>cirodown --generate-multifile
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-5">ğŸ”—</a></span><div class="p" id="p-5">Render all <code>.ciro</code> files from the master of this project to separate files:
<div class="code-caption-container" id="code-5">
<pre><code>git clone https://github.com/cirosantilli/cirodown
cd cirodown
npm link
npm link cirodown
./cirodown README.ciro
xdg-open index.html
xdg-open not-readme.html
</code></pre></div>
or render README.ciro and all <a href="#includes" title="internal link">includes</a> into a single HTML page with <a href="#embed-includes" title="internal link"><code>--embed-includes</code></a> and view it:
<div class="code-caption-container" id="code-6">
<pre><code>./cirodown --embed-includes .
xdg-open index.html
</code></pre></div>
or render instead as one fully offline standalone HTML file that can be given directly to readers by adding <a href="#embed-resources" title="internal link"><code>--embed-resources</code></a> as well:
<div class="code-caption-container" id="code-7">
<pre><code>./cirodown --embed-resources --embed-includes README.ciro
</code></pre></div>
and give <code>index.html</code> to the reader.</div></div><div><span class="hide-hover"><a href="#p-6">ğŸ”—</a></span><div class="p" id="p-6">Try out the JavaScript API with <a href="api_hello.js">api_hello.js</a>:
<div class="code-caption-container" id="code-8">
<pre><code>npm install cirodown
./api_hello.js
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-7">ğŸ”—</a></span><div class="p" id="p-7">The <code>npm link</code> commands allow you to make changes to the code without re-installing the package all the time for development! Try hacking <a href="cirodown">cirodown</a> to see it. Just remember that if you add a new dependency, you must redo the symlinking business:
<div class="code-caption-container" id="code-9">
<pre><code>npm install &lt;dependency&gt;
npm link
npm link cirodown
</code></pre></div>
Asked if there is a better way at: <a href="https://stackoverflow.com/questions/59389027/how-to-interactively-test-the-executable-of-an-npm-node-js-package-during-develo">https://stackoverflow.com/questions/59389027/how-to-interactively-test-the-executable-of-an-npm-node-js-package-during-develo</a>. The symlink business can be undone with:
<div class="code-caption-container" id="code-10">
<pre><code>npm unlink
rm node_modules/cirodown
</code></pre></div></div></div><div><span class="hide-hover"><a href="#design-goals">ğŸ”—</a></span><h2 id="design-goals"><a href="#design-goals" title="link to this element">2. Design goals</a><span>  | <a title="view one header per page" href="design-goals">ğŸ—— split</a> | <a href="#toc-design-goals" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-8">ğŸ”—</a></span><div class="p" id="p-8">Cirodown is designed entirely to allow writing complex professional HTML and PDF scientific books, blogs, articles and encyclopedias.</div></div><div><span class="hide-hover"><a href="#p-9">ğŸ”—</a></span><div class="p" id="p-9">Cirodown aims to be the ultimate LaTeX "killer", allowing books to be finally published as either HTML or PDF painlessly (LaTeX being only a backend to PDF generation), supporting out of the box feature such as:<div><ul id="ul-2">
<li id="l-8"><a href="#internal-cross-references" title="internal link">references</a> to <a href="#headers" title="internal link">headers</a>, <a href="#images" title="internal link">images</a>, etc. with amazing error checking and reporting: never break internal links without knoing again, and quickly find out what broke when you do</li>
<li id="l-9">KaTeX server side <a href="#mathematics" title="internal link">mathematics</a></li>
<li id="l-10">multi file features out of the box so you don't need a separate wrapper like Jekyll to make a multi-page website:<div><ul id="ul-3">
<li id="l-11"><a href="#internal-cross-file-references" title="internal link">internal cross file references</a></li>
<li id="l-12"><a href="#table-of-contents" title="internal link">table of contents</a> that crosses input files</li>
<li id="l-13"><code>inotifywait</code> watch rebuild server</li>
<li id="l-14">single-source multi-format output based on <a href="#includes" title="internal link">includes</a> and build options:<div><ul id="ul-4">
<li id="l-15">one HTML per source with includes rendered as links between pages</li>
<li id="l-16"><a href="#embed-includes" title="internal link"><code>--embed-includes</code></a> single file output</li>
<li id="l-17"><a href="#split-headers" title="internal link"><code>--split-headers</code></a> option to output one spearate header per output flie</li>
<li id="l-18">supports both local serverless rendering to HTML files for local viewing, and server oriented rendering such as GItHub pages, e.g. <a href="#internal-cross-references" title="internal link">internal cross references</a> automatically get <code>.html</code> extension and or not</li>
</ul></div></li>
<li id="l-19">cross file configuration files to factor out common page parts like headers and footers</li>
</ul></div></li>
<li id="l-20">advanced header/ID related features:<div><ul id="ul-5">
<li id="l-21"><a href="#scope" title="internal link">header <code>scope</code> argument</a></li>
</ul></div></li>
<li id="l-22">is written in JavaScript and therefore runs natively on the browser to allow live previews</li>
<li id="l-23">helps you with the publishing:<div><ul id="ul-6">
<li id="l-24"><code>./cirodown --publish</code> helper for single command publishing to the configured target (default GitHub pages): <a href="#publish" title="internal link"><code>-p, --publish</code></a></li>
<li id="l-25">Cirodown tries to deal with media such as images and video intelligently for you, see e.g.: <a href="#where-to-store-images" title="internal link">where to store images</a></li>
</ul></div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#saner">ğŸ”—</a></span><h3 id="saner"><a href="#saner" title="link to this element">2.1. Saner</a><span>  | <a title="view one header per page" href="saner">ğŸ—— split</a> | <a href="#toc-saner" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#design-goals" title="parent header">â†‘ parent "Design goals"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-10">ğŸ”—</a></span><div class="p" id="p-10">Originally, Cirodown was is meant to be both saner and more powerful than Markdown and Asciidoctor.</div></div><div><span class="hide-hover"><a href="#p-11">ğŸ”—</a></span><div class="p" id="p-11">But alas, as Ciro started implementing and using it, he started to bring some Markdown <a href="#insane-macro-shortcuts" title="internal link">insanity he missed back in</a>.</div></div><div><span class="hide-hover"><a href="#p-12">ğŸ”—</a></span><div class="p" id="p-12">And so this "degraded" slightly into a language slightly saner than Asciidoctor but with an amazing Node.js implementation that makes it better for book writing and website publishing.</div></div><div><span class="hide-hover"><a href="#p-13">ğŸ”—</a></span><div class="p" id="p-13">But hopefully, having starting from a saner point will still produce a saner end result, e.g. there are sane constructs for every insane one.</div></div><div><span class="hide-hover"><a href="#p-14">ğŸ”—</a></span><div class="p" id="p-14">It is intended that this will be an acceptable downside as Cirodown will be used primarily large complex content such as books rather than forum posts, and will therefore primarily written either:<div><ul id="ul-7">
<li id="l-26">in text editors locally, where users have more features than in random browser textareas</li>
<li id="l-27">in a dedicated website that will revolutionize education, and therefore have a good JavaScript editing interface: <a href="https://github.com/cirosantilli/write-free-science-books-to-get-famous-website">https://github.com/cirosantilli/write-free-science-books-to-get-famous-website</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-15">ğŸ”—</a></span><div class="p" id="p-15">For example, originally Cirodown had exactly five magic characters, with similar functions as in LaTeX:<div><ul id="ul-8">
<li id="l-28"><code></code> backslash to start a macro, like LaTeX</li>
<li id="l-29"><code>{</code> and <code>}</code>: left and right square brackets to delimit <a href="#positional-vs-named-arguments" title="internal link">optional macro arguments</a></li>
<li id="l-30"><code>[</code> and <code>]</code>: left and right curly braces bracket to start an optional arguments
</li>
</ul></div>and double blank newlines for <a href="#paragraphs" title="internal link">paragraphs</a> if you are pedantic, but this later degrated into many more with <a href="#insane-macro-shortcuts" title="internal link">insane macro shortcuts</a>.</div></div><div><span class="hide-hover"><a href="#p-16">ğŸ”—</a></span><div class="p" id="p-16">We would like to have only square brackets for both optional and mandatory to have even less magic characters, but that would make the language difficult to parse for computer and humans. LaTeX was right for once!</div></div><div><span class="hide-hover"><a href="#p-17">ğŸ”—</a></span><div class="p" id="p-17">This produces a very regular syntax that is easy to learn, including doing:<div><ul id="ul-9">
<li id="l-31">arbitrary nesting of elements</li>
<li id="l-32">adding arbitrary properties to elements</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-18">ğŸ”—</a></span><div class="p" id="p-18">This sanity also makes the end tail learning curve of the endless edge cases found in Markdown and Asciidoctor disappear.</div></div><div><span class="hide-hover"><a href="#p-19">ğŸ”—</a></span><div class="p" id="p-19">The language is designed to be philosophically isomorphic to HTML to:<div><ul id="ul-10">
<li id="l-33">further reduce the learning curve</li>
<li id="l-34">ensure that most of HTML constructs can be reached, including arbitrary nesting</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-20">ğŸ”—</a></span><div class="p" id="p-20">More precisely:<div><ul id="ul-11">
<li id="l-35">macro names map to tag names, e.g.: <code>\\a</code> to <code>&lt;a</code></li>
<li id="l-36"><div class="p" id="p-21">one of the arguments of macros, maps to the content of the HTML element, and the others map to attributes.</div><div class="p" id="p-22">E.g., in a link:
<div class="code-caption-container" id="code-11">
<pre><code>\a[http://example.com][Link text\]</code></pre></div>
the first macro argument:
<div class="code-caption-container" id="code-12">
<pre><code>http://example.com</code></pre></div>
maps to the <code>href</code> of <code>&lt;a</code>, and the second macro argument:
<div class="code-caption-container" id="code-13">
<pre><code>Link text</code></pre></div>
maps to the internal content of <code>&lt;a&gt;Link text&lt;&gt;</code>.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#more-powerful">ğŸ”—</a></span><h3 id="more-powerful"><a href="#more-powerful" title="link to this element">2.2. More powerful</a><span>  | <a title="view one header per page" href="more-powerful">ğŸ—— split</a> | <a href="#toc-more-powerful" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#design-goals" title="parent header">â†‘ parent "Design goals"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-23">ğŸ”—</a></span><div class="p" id="p-23">The <a href="#saner" title="internal link">high sanity of Cirodown</a>, also makes creating new macro extensions extremely easy and intuitive.</div></div><div><span class="hide-hover"><a href="#p-24">ğŸ”—</a></span><div class="p" id="p-24">All built-in language features use the exact same API as new extensions, which ensures that the extension API is sane forever.</div></div><div><span class="hide-hover"><a href="#p-25">ğŸ”—</a></span><div class="p" id="p-25">Markdown is clearly missing many key features such as block attributes and <a href="#internal-cross-references" title="internal link">internal cross references</a>, and has no standardized extension mechanism.</div></div><div><span class="hide-hover"><a href="#p-26">ğŸ”—</a></span><div class="p" id="p-26">The "more powerful than Asciidoctor" part is only partially true, since Asciidoctor is very featureful can do basically anything through extensions.</div></div><div><span class="hide-hover"><a href="#p-27">ğŸ”—</a></span><div class="p" id="p-27">The difference is mostly that Cirodown is completely and entirely focused on making amazing scientific books, and so will have key features for that application out-of-the box, notably:<div><ul id="ul-12">
<li id="l-37">amazing header/ToC/ID features including proper error reports: never have a internal broken link or duplicate ID again</li>
<li id="l-38"><a href="#mathematics" title="internal link">server side pre-rendered maths with KaTeX</a>: all divs and spans are ready, browser only applies CSS, no JavaScript gets executed</li>
<li id="l-39"><a href="#publish" title="internal link"><code>-p, --publish</code></a>: we take care of website publishing for you out-of-the-box, no need to integrate into an external project like Jekyll</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-28">ğŸ”—</a></span><div class="p" id="p-28">Another advantage over Asciidoctor is that the reference implementation of Cirodown is in JavaScript, and can therefore be used on browser live preview out of the box. Asciidoctor does Transpile to JS with <a href="https://github.com/opal/opal">Opal</a>, but who wants to deal with that layer of complexity?</div></div><div><span class="hide-hover"><a href="#paragraphs">ğŸ”—</a></span><h2 id="paragraphs"><a href="#paragraphs" title="link to this element">3. Paragraphs (<code>\P</code>)</a><span>  | <a title="view one header per page" href="paragraphs">ğŸ—— split</a> | <a href="#toc-paragraphs" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-29">ğŸ”—</a></span><div class="p" id="p-29">OK, this is too common, so we opted for some <a href="#insane-macro-shortcuts" title="internal link">insanity</a> here: double newline is a paragraph!
<div class="code-caption-container" id="code-14">
<pre><code>Paragraph 1.

Paragraph 2.
</code></pre></div><div class="p" id="p-30">which renders as:</div><blockquote id="q-1"><div class="p" id="p-31">Paragraph 1.</div><div class="p" id="p-32">Paragraph 2.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-33">ğŸ”—</a></span><div class="p" id="p-33">Equivalently however, you can use an explicit <code>\P</code> macros as well, which is required for example to add properties to a paragraph, e.g.:
<div class="code-caption-container" id="code-15">
<pre><code>\P{id=paragraph-1}[Paragraph 1]
\P{id=paragraph-2}[Paragraph 2]
</code></pre></div><div class="p" id="p-34">which renders as:</div><blockquote id="q-2"><div class="p" id="p-35"><div class="p" id="paragraph-1">Paragraph 1</div>
<div class="p" id="paragraph-2">Paragraph 2</div></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-38">ğŸ”—</a></span><div class="p" id="p-38">Paragraphs are created automatically inside <a href="#macro-argument-syntax" title="internal link">macro argument</a> whenever a double newline appears.</div></div><div><span class="hide-hover"><a href="#p-39">ğŸ”—</a></span><div class="p" id="p-39">Note that Cirodown paragraphs render in HTML as <code>div</code> with <code>class="p"</code> and not as <code>p</code>. This means that you can add basically anything inside them, e.g. a list:
<div class="code-caption-container" id="code-16">
<pre><code>My favorite list is:
\Ul[
\li[aa]
\li[bb]
]
because it is simple.
</code></pre></div>
which renders as a single paragraph.</div></div><div><span class="hide-hover"><a href="#p-40">ğŸ”—</a></span><div class="p" id="p-40">One major advantage of this, is that when writing documentation, you often want to keep lists or code blocks inside a given paragraph, so that it is easy to reference the entire paragraph with an ID. Think for example of paragraphs in the C++ standard.</div></div><div><span class="hide-hover"><a href="#links">ğŸ”—</a></span><h2 id="links"><a href="#links" title="link to this element">4. Links (<code>\a</code>)</a><span>  | <a title="view one header per page" href="links">ğŸ—— split</a> | <a href="#toc-links" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-41">ğŸ”—</a></span><div class="p" id="p-41"><a href="#insane-macro-shortcuts" title="internal link">Insane</a> autolink (link text is the same as the link):
<div class="code-caption-container" id="code-17">
<pre><code>The website http://example.com is cool. See also:

\Q[http://example.com/2]
</code></pre></div><div class="p" id="p-42">which renders as:</div><blockquote id="q-3"><div class="p" id="p-43">The website <a href="http://example.com">http://example.com</a> is cool. See also:</div><blockquote id="q-4"><a href="http://example.com/2">http://example.com/2</a></blockquote></blockquote>
Exact parsing rules described at: <a href="#insane-link-parsing-rules" title="internal link">Section 4.1. "Insane link parsing rules"</a>.</div></div><div><span class="hide-hover"><a href="#p-44">ğŸ”—</a></span><div class="p" id="p-44">Equivalent sane version:
<div class="code-caption-container" id="code-18">
<pre><code>The website \a[http://example.com] is cool.

\Q[\a[http://example.com/2]]
</code></pre></div><div class="p" id="p-45">which renders as:</div><blockquote id="q-5"><div class="p" id="p-46">The website <a href="http://example.com">http://example.com</a> is cool.</div><blockquote id="q-6"><a href="http://example.com/2">http://example.com/2</a></blockquote></blockquote></div></div><div><span class="hide-hover"><a href="#p-47">ğŸ”—</a></span><div class="p" id="p-47">Insane link with custom text:
<div class="code-caption-container" id="code-19">
<pre><code>The website http://example.com[example.com] is cool.
</code></pre></div><div class="p" id="p-48">which renders as:</div><blockquote id="q-7"><div class="p" id="p-49">The website <a href="http://example.com">example.com</a> is cool.</div></blockquote>
Equivalent sane version:
<div class="code-caption-container" id="code-20">
<pre><code>The website \a[http://example.com][example.com] is cool.
</code></pre></div><div class="p" id="p-50">which renders as:</div><blockquote id="q-8"><div class="p" id="p-51">The website <a href="http://example.com">example.com</a> is cool.</div></blockquote>
If the custom text is empty, an autolink is generated. This is often useful if you want your link to be followed by punctuation:
<div class="code-caption-container" id="code-21">
<pre><code>The website is really cool: http://example.com[].
</code></pre></div><div class="p" id="p-52">which renders as:</div><blockquote id="q-9"><div class="p" id="p-53">The website is really cool: <a href="http://example.com">http://example.com</a>.</div></blockquote>
This could also be achieved with the sane syntax of course, but this pattern saves a tiny bit of typing.</div></div><div><span class="hide-hover"><a href="#p-54">ğŸ”—</a></span><div class="p" id="p-54">Link with multiple paragraphs inside it:
<div class="code-caption-container" id="code-22">
<pre><code>\a[http://example.com][Multiple

paragraphs]
</code></pre></div><div class="p" id="p-55">which renders as:</div><blockquote id="q-10"><div class="p" id="p-56"><a href="http://example.com"><div class="p" id="p-57">Multiple</div><div class="p" id="p-58">paragraphs</div></a></div></blockquote></div></div><div><span class="hide-hover"><a href="#insane-link-parsing-rules">ğŸ”—</a></span><h3 id="insane-link-parsing-rules"><a href="#insane-link-parsing-rules" title="link to this element">4.1. Insane link parsing rules</a><span>  | <a title="view one header per page" href="insane-link-parsing-rules">ğŸ—— split</a> | <a href="#toc-insane-link-parsing-rules" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#links" title="parent header">â†‘ parent "Links"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-59">ğŸ”—</a></span><div class="p" id="p-59">Insane links must be preceded by either:<div><ul id="ul-13">
<li id="l-40">the start of the document</li>
<li id="l-41">the start of a <a href="#positional-vs-named-arguments" title="internal link">positional or named argument</a> (e.g. <code>\P[http://example.com]</code> or <code>Image[xi.png]{description=http://example.com}</code>) that not marked with <code>elide_link_only</code> (which is the case for example for <code>href</code> of <code>a</code>)</li>
<li id="l-42">space <code> </code> char</li>
<li id="l-43">newline <code>\n</code> char</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-60">ğŸ”—</a></span><div class="p" id="p-60">The recognized protocols are the ones shown at: <a href="#known-url-protocols" title="internal link">Section 20.4. "Known URL protocols"</a>.</div></div><div><span class="hide-hover"><a href="#p-61">ğŸ”—</a></span><div class="p" id="p-61">Insane links end when either the end of the document or one of the following characters is found:<div><ul id="ul-14">
<li id="l-44">space <code> </code></li>
<li id="l-45">newline <code>\n</code></li>
<li id="l-46">open or close square bracket <code>[</code> or <code>]</code></li>
<li id="l-47">open or close curly braces <code>{</code> or <code>}</code></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-62">ğŸ”—</a></span><div class="p" id="p-62">As a consequence, of those rules, it is impossible to have an insane link followed immediately by a period, e.g.:
<div class="code-caption-container" id="code-23">
<pre><code>Check out this website: http://example.com.
</code></pre></div><div class="p" id="p-63">which renders as:</div><blockquote id="q-11"><div class="p" id="p-64">Check out this website: <a href="http://example.com.">http://example.com.</a></div></blockquote>
You must instead use the sane syntax for that:
<div class="code-caption-container" id="code-24">
<pre><code>Check out this website: \a[http://example.com].
</code></pre></div><div class="p" id="p-65">which renders as:</div><blockquote id="q-12"><div class="p" id="p-66">Check out this website: <a href="http://example.com">http://example.com</a>.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-67">ğŸ”—</a></span><div class="p" id="p-67">If you want your link to include one of the terminating characters, e.g. <code>]</code>, all characters can be escaped with a backslash, e.g.:
<div class="code-caption-container" id="code-25">
<pre><code>Hello http://example.com/\]a\}b\\c\ d world.
</code></pre></div><div class="p" id="p-68">which renders as:</div><blockquote id="q-13"><div class="p" id="p-69">Hello <a href="http://example.com/]a}b\c d">http://example.com/]a}b\c d</a> world.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-70">ğŸ”—</a></span><div class="p" id="p-70">Note that the <code>http://example.com</code> inside <code>\a[http://example.com]</code> only works because we do some post-processing magic that prevents its expansion, otherwise the link would expand twice:
<div class="code-caption-container" id="code-26">
<pre><code>\P[http://example.com]

\a[http://example.com]
</code></pre></div><div class="p" id="p-71">which renders as:</div><blockquote id="q-14"><div class="p" id="p-72"><a href="http://example.com">http://example.com</a></div><div class="p" id="p-73"><a href="http://example.com">http://example.com</a></div></blockquote>
This magic can be observed with <a href="#help-macros" title="internal link"><code>--help-macros</code></a> by seeing that the <code>href</code> argument of the <code>a</code> macro has the property: 
<div class="code-caption-container" id="code-27">
<pre><code>"elide_link_only": true,
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-74">ğŸ”—</a></span><div class="p" id="p-74">TODO it is currently impossible to prevent autolinks from expanding, we can either go with an empty macro solution, or with a literal text solution:
<div class="code-caption-container" id="code-28">
<pre><code>\CirodownExample[[
Literal URL \empty[]http://example.com but why?
Literal URL \text[[http://example.com]] but why?
]]
</code></pre></div></div></div><div><span class="hide-hover"><a href="#internal-cross-references">ğŸ”—</a></span><h2 id="internal-cross-references"><a href="#internal-cross-references" title="link to this element">5. Internal cross references (<code>\x</code>)</a><span>  | <a title="view one header per page" href="internal-cross-references">ğŸ—— split</a> | <a href="#toc-internal-cross-references" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-75">ğŸ”—</a></span><div class="p" id="p-75">Every macro in Cirodown can have an optional <code>id</code> and many also have a reserved <code>title</code> property.</div></div><div><span class="hide-hover"><a href="#p-76">ğŸ”—</a></span><div class="p" id="p-76">When a macro in the document has a <code>title</code> argument but no <code>id</code> argument given, get an auto-generated ID from the title: <a href="#automatic-id-from-title" title="internal link">automatic ID from title</a>.</div></div><div><span class="hide-hover"><a href="#p-77">ğŸ”—</a></span><div class="p" id="p-77">For macros that do have an ID, derived from <code>title</code> or not, you can write a cross reference to it, e.g.:
<div class="code-caption-container" id="code-29">
<pre><code>See this \x[internal-cross-references] awesome section.
</code></pre></div><div class="p" id="p-78">which renders as:</div><blockquote id="q-15"><div class="p" id="p-79">See this <a href="#internal-cross-references" title="internal link">internal cross references</a> awesome section.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-80">ğŸ”—</a></span><div class="p" id="p-80">An explicit link body can be given just as for regular HTTP <a href="#links" title="internal link">links</a> as:
<div class="code-caption-container" id="code-30">
<pre><code>See this \x[internal-cross-references][awesome section].
</code></pre></div><div class="p" id="p-81">which renders as:</div><blockquote id="q-16"><div class="p" id="p-82">See this <a href="#internal-cross-references" title="internal link">awesome section</a>.</div></blockquote></div></div><div><span class="hide-hover"><a href="#x-child-argument">ğŸ”—</a></span><h3 id="x-child-argument"><a href="#x-child-argument" title="link to this element">5.1. x <code>child</code> argument</a><span>  | <a title="view one header per page" href="x-child-argument">ğŸ—— split</a> | <a href="#toc-x-child-argument" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-83">ğŸ”—</a></span><div class="p" id="p-83">TODO implement.</div></div><div><span class="hide-hover"><a href="#p-84">ğŸ”—</a></span><div class="p" id="p-84">Setting <code>child=1</code> on a cross reference to a header as in:
<div class="code-caption-container" id="code-31">
<pre><code>\xref[my-header]{child=1}
</code></pre></div>
has the following effects:<div><ul id="ul-15">
<li id="l-48">add the current header to the list of extra parents of the child</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-85">ğŸ”—</a></span><div class="p" id="p-85">This allows a section to have multiple parents, e.g. to include it into multiple categories. For example:
<div class="code-caption-container" id="code-32">
<pre><code>= Animals

== Mammals

=== Dog

=== Cat

== Cute animals

Cute animals:
* \xref[dog]{child=1}
* \xref[cat]
</code></pre></div>
would render something like:
<div class="code-caption-container" id="code-33">
<pre><code>h1 Animals

h2 Mammals

h3 Dog (parent section: Mammals)
(other parent sections: Cute animals)

h3 Cat (parent section: Mammals)

== Cute animals

* \xref[dog]
* \xref[cat]
</code></pre></div>
so note how "Dog" has a list of extra parents including "Cute animals", but Cat does not, due to the <code>child=1</code>.</div></div><div><span class="hide-hover"><a href="#p-86">ğŸ”—</a></span><div class="p" id="p-86">This property does not affect how the <a href="#table-of-contents" title="internal link"><code>\Toc</code></a> is rendered. We could insert elements sections there multiple times, but it has the downside that browser Ctrl + F searches would hit the same thing multiple times on the table of contents, which might make finding things harder.
<div class="code-caption-container" id="code-34">
<pre><code>== My title{id=my-id}

Read this \x[my-id][amazing section].
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-87">ğŸ”—</a></span><div class="p" id="p-87">If the second argument, the <code>content</code>, is not present, it expand to the header title, e.g.:
<div class="code-caption-container" id="code-35">
<pre><code>== My title{id=my-id}

Read this \x[my-id].
</code></pre></div>
is the same as:
<div class="code-caption-container" id="code-36">
<pre><code>== My title{id=my-id}

Read this \x[my-id][My title].
</code></pre></div></div></div><div><span class="hide-hover"><a href="#cross-reference-full-argument">ğŸ”—</a></span><h3 id="cross-reference-full-argument"><a href="#cross-reference-full-argument" title="link to this element">5.2. Cross reference <code>full</code> argument</a><span>  | <a title="view one header per page" href="cross-reference-full-argument">ğŸ—— split</a> | <a href="#toc-cross-reference-full-argument" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-88">ğŸ”—</a></span><div class="p" id="p-88">To also show the section auto-generated number as in "Section X.Y My title" we add the optional <code>{full}</code> <a href="#boolean-named-arguments" title="internal link">boolean named argument</a> to the cross reference, for example:
<div class="code-caption-container" id="code-37">
<pre><code>\x[cross-reference-full-argument]{full}.
</code></pre></div><div class="p" id="p-89">which renders as:</div><blockquote id="q-17"><div class="p" id="p-90"><a href="#cross-reference-full-argument" title="internal link">Section 5.2. "Cross reference <code>full</code> argument"</a>.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-91">ğŸ”—</a></span><div class="p" id="p-91"><code>{full}</code> is not needed for cross references to most macros besides <a href="#headers" title="internal link">headers</a>, which use <code>full</code> by default as seen by the <code>default_x_style_full</code> macro property in <a href="#help-macros" title="internal link"><code>--help-macros</code></a>. This is for example the case for <a href="#images" title="internal link">images</a>. You can force this to be disabled with <code>{full=0}</code>:
<div class="code-caption-container" id="code-38">
<pre><code>Compare \x[image-my-test-image]{full=0} vs \x[image-my-test-image]{full=1}.
</code></pre></div><div class="p" id="p-92">which renders as:</div><blockquote id="q-18"><div class="p" id="p-93">Compare <a href="#image-my-test-image" title="internal link">The title of my image.</a> vs <a href="#image-my-test-image" title="internal link">Figure 4. "The title of my image."</a>.</div></blockquote></div></div><div><span class="hide-hover"><a href="#cross-reference-full-argument-in-internal-cross-file-references">ğŸ”—</a></span><h4 id="cross-reference-full-argument-in-internal-cross-file-references"><a href="#cross-reference-full-argument-in-internal-cross-file-references" title="link to this element">5.2.1. Cross reference <code>full</code> argument in internal cross file references</a><span>  | <a title="view one header per page" href="cross-reference-full-argument-in-internal-cross-file-references">ğŸ—— split</a> | <a href="#toc-cross-reference-full-argument-in-internal-cross-file-references" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cross-reference-full-argument" title="parent header">â†‘ parent "Cross reference <code>full</code> argument"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-94">ğŸ”—</a></span><div class="p" id="p-94">For example in the following <a href="#internal-cross-file-references" title="internal link">internal cross file reference</a>:
<div class="code-caption-container" id="code-39">
<pre><code>\x[h2-in-not-the-readme]{full}.
</code></pre></div><div class="p" id="p-95">which renders as:</div><blockquote id="q-19"><div class="p" id="p-96"><a href="not-readme#h2-in-not-the-readme" title="internal link">Section "h2 in not the README"</a>.</div></blockquote>
we get just something like:
<div class="code-caption-container" id="code-40">
<pre><code>Section "h2 in not the readme"
</code></pre></div>
instead of:
<div class="code-caption-container" id="code-41">
<pre><code>Section 1.2 "h2 in not the readme"
</code></pre></div>
This is because the number "Section 1.2" might already have been used in the current page, leading to confusion.</div></div><div><span class="hide-hover"><a href="#cross-reference-title-inflection">ğŸ”—</a></span><h3 id="cross-reference-title-inflection"><a href="#cross-reference-title-inflection" title="link to this element">5.3. Cross reference title inflection</a><span>  | <a title="view one header per page" href="cross-reference-title-inflection">ğŸ—— split</a> | <a href="#toc-cross-reference-title-inflection" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-97">ğŸ”—</a></span><div class="p" id="p-97">A common usage pattern is that we want to use <a href="#headers" title="internal link">header</a> titles in <a href="#cross-reference-full-argument" title="internal link">non-full</a> <a href="#internal-cross-references" title="internal link">internal cross references</a> as the definition of a concept without repeating the title, for example:
<div class="code-caption-container" id="code-42">
<pre><code>== Dog

Cute animal.

\x[cats][Cats] are its natural enemies.

== Cats

This is the natural enemy of a \x[dog][dog].

\x[dog][Dogs] are cute, but they are still the enemy.

One example of a cat is \x[felix-the-cat].

=== Felix the Cat

Felix is not really a \x[cats][cat], just a carton character.
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-98">ğŸ”—</a></span><div class="p" id="p-98">However, word <a href="https://en.wikipedia.org/wiki/Inflection">inflection</a> makes it much harder to avoid retyping the definition again.</div></div><div><span class="hide-hover"><a href="#p-99">ğŸ”—</a></span><div class="p" id="p-99">For example, in the previous example, without any further intelligent behaviour we would be forced to re-type <code>\x[dog][dog]</code> instead of the desired <code>\x[dog]</code>.</div></div><div><span class="hide-hover"><a href="#p-100">ğŸ”—</a></span><div class="p" id="p-100">Cirodown can take care of some inflection cases for you.</div></div><div><span class="hide-hover"><a href="#p-101">ğŸ”—</a></span><div class="p" id="p-101">For capitalization, both headers and cross reference macros have the <code>c</code> <a href="#boolean-named-arguments" title="internal link">boolean named argument</a> which stands for "capitalized":<div><ul id="ul-16">
<li id="l-49"><div class="p" id="p-102">for headers, <code>c</code> means that the header title has fixed capitalization as given in the title, i.e.<div><ul id="ul-17">
<li id="l-50">if the title has a capital first character, it will always show as a capital, as is the case for most <a href="https://en.wikipedia.org/wiki/Proper_noun">proper noun</a></li>
<li id="l-51">if it is lower case, it will also always remain lower case, as is the case for some rare proper nouns, notably <a href="https://en.wikipedia.org/wiki/Arm_Holdings">the name of certain companies</a></li>
</ul></div></div><div class="p" id="p-103">This means that for such headers, <code>c</code> in the <code>x</code> has no effect. Maybe we should give an error in that case. But lazy now, send PR.</div></li>
<li id="l-52"><div class="p" id="p-104">for cross reference macros, <code>c</code> means that the first letter of the title should be capitalized.</div><div class="p" id="p-105">Using this option is required when you are starting a sentence with a non-proper noun.
</div></li>
</ul></div>Capitalization is handled by a <a href="#javascript-case-conversion" title="internal link">JavaScript case conversion</a>.</div></div><div><span class="hide-hover"><a href="#p-106">ğŸ”—</a></span><div class="p" id="p-106">For pluralization, cross reference macros have the <code>p</code> <a href="#boolean-named-arguments" title="internal link">boolean named argument</a> which stands for "pluralize":<div><ul id="ul-18">
<li id="l-53">if given and true, this automatically pluralizes the last word of the target title by using the <a href="https://github.com/blakeembrey/pluralize">https://github.com/blakeembrey/pluralize</a> library</li>
<li id="l-54">if given and false, automatically singularize</li>
<li id="l-55">if not given, don't change the number of elements
</li>
</ul></div>If your desired pluralization is any more complex than modifying the last word of the title, you must do it manually however.</div></div><div><span class="hide-hover"><a href="#p-107">ğŸ”—</a></span><div class="p" id="p-107">With those rules in mind, the previous Cirodown example can be written with less repetition as:
<div class="code-caption-container" id="code-43">
<pre><code>== Dog

Cute animal.

\x[cats]{c} are its natural enemies.

== Cats

This is the natural enemy of a \x[dog].

\x[dog]{p} are cute, but they are still the enemy.

One example of a cat is \x[Felix the Cat].

=== Felix the Cat
{c}

Felix is not really a \x[cats][cat], just a carton character.
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-108">ğŸ”—</a></span><div class="p" id="p-108">Now for a live example for quick and dirty interactive testing.</div></div><div><span class="hide-hover"><a href="#cross-reference-title-inflection-example">ğŸ”—</a></span><h4 id="cross-reference-title-inflection-example"><a href="#cross-reference-title-inflection-example" title="link to this element">5.3.1. Cross reference title inflection example</a><span>  | <a title="view one header per page" href="cross-reference-title-inflection-example">ğŸ—— split</a> | <a href="#toc-cross-reference-title-inflection-example" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cross-reference-title-inflection" title="parent header">â†‘ parent "Cross reference title inflection"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-109">ğŸ”—</a></span><div class="p" id="p-109"><div class="code-caption-container" id="code-44">
<pre><code>\x[inflection-example-not-proper]
</code></pre></div><div class="p" id="p-110">which renders as:</div><blockquote id="q-20"><div class="p" id="p-111"><a href="#inflection-example-not-proper" title="internal link">inflection example not-proper</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-112">ğŸ”—</a></span><div class="p" id="p-112"><div class="code-caption-container" id="code-45">
<pre><code>\x[inflection-example-not-proper]{c}
</code></pre></div><div class="p" id="p-113">which renders as:</div><blockquote id="q-21"><div class="p" id="p-114"><a href="#inflection-example-not-proper" title="internal link">Inflection example not-proper</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-115">ğŸ”—</a></span><div class="p" id="p-115"><div class="code-caption-container" id="code-46">
<pre><code>\x[inflection-example-not-proper]{full}
</code></pre></div><div class="p" id="p-116">which renders as:</div><blockquote id="q-22"><div class="p" id="p-117"><a href="#inflection-example-not-proper" title="internal link">Section 5.3.1.1. "Inflection example not-proper"</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-118">ğŸ”—</a></span><div class="p" id="p-118"><div class="code-caption-container" id="code-47">
<pre><code>\x[inflection-example-proper]
</code></pre></div><div class="p" id="p-119">which renders as:</div><blockquote id="q-23"><div class="p" id="p-120"><a href="#inflection-example-proper" title="internal link">Inflection example proper</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-121">ğŸ”—</a></span><div class="p" id="p-121"><div class="code-caption-container" id="code-48">
<pre><code>\x[inflection-example-proper]{c}
</code></pre></div><div class="p" id="p-122">which renders as:</div><blockquote id="q-24"><div class="p" id="p-123"><a href="#inflection-example-proper" title="internal link">Inflection example proper</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-124">ğŸ”—</a></span><div class="p" id="p-124"><div class="code-caption-container" id="code-49">
<pre><code>\x[inflection-example-not-proper-lower]
</code></pre></div><div class="p" id="p-125">which renders as:</div><blockquote id="q-25"><div class="p" id="p-126"><a href="#inflection-example-not-proper-lower" title="internal link">inflection example not-proper lower</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-127">ğŸ”—</a></span><div class="p" id="p-127"><div class="code-caption-container" id="code-50">
<pre><code>\x[inflection-example-not-proper-lower]{c}
</code></pre></div><div class="p" id="p-128">which renders as:</div><blockquote id="q-26"><div class="p" id="p-129"><a href="#inflection-example-not-proper-lower" title="internal link">Inflection example not-proper lower</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-130">ğŸ”—</a></span><div class="p" id="p-130"><div class="code-caption-container" id="code-51">
<pre><code>\x[inflection-example-proper-lower]
</code></pre></div><div class="p" id="p-131">which renders as:</div><blockquote id="q-27"><div class="p" id="p-132"><a href="#inflection-example-proper-lower" title="internal link">inflection example proper lower</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-133">ğŸ”—</a></span><div class="p" id="p-133"><div class="code-caption-container" id="code-52">
<pre><code>\x[not-readme]
</code></pre></div><div class="p" id="p-134">which renders as:</div><blockquote id="q-28"><div class="p" id="p-135"><a href="not-readme" title="internal link">not the README</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-136">ğŸ”—</a></span><div class="p" id="p-136"><div class="code-caption-container" id="code-53">
<pre><code>\x[not-readme]{c}
</code></pre></div><div class="p" id="p-137">which renders as:</div><blockquote id="q-29"><div class="p" id="p-138"><a href="not-readme" title="internal link">Not the README</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-139">ğŸ”—</a></span><div class="p" id="p-139"><div class="code-caption-container" id="code-54">
<pre><code>\x[inflection-example-not-proper]{p}
</code></pre></div><div class="p" id="p-140">which renders as:</div><blockquote id="q-30"><div class="p" id="p-141"><a href="#inflection-example-not-proper" title="internal link">inflection example not-propers</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-142">ğŸ”—</a></span><div class="p" id="p-142"><div class="code-caption-container" id="code-55">
<pre><code>\x[inflection-plural-examples]
</code></pre></div><div class="p" id="p-143">which renders as:</div><blockquote id="q-31"><div class="p" id="p-144"><a href="#inflection-plural-examples" title="internal link">inflection plural examples</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-145">ğŸ”—</a></span><div class="p" id="p-145"><div class="code-caption-container" id="code-56">
<pre><code>\x[inflection-plural-examples]{p}
</code></pre></div><div class="p" id="p-146">which renders as:</div><blockquote id="q-32"><div class="p" id="p-147"><a href="#inflection-plural-examples" title="internal link">inflection plural examples</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-148">ğŸ”—</a></span><div class="p" id="p-148"><div class="code-caption-container" id="code-57">
<pre><code>\x[inflection-plural-examples]{p=0}
</code></pre></div><div class="p" id="p-149">which renders as:</div><blockquote id="q-33"><div class="p" id="p-150"><a href="#inflection-plural-examples" title="internal link">inflection plural example</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-151">ğŸ”—</a></span><div class="p" id="p-151"><div class="code-caption-container" id="code-58">
<pre><code>\x[inflection-plural-examples]{p=1}
</code></pre></div><div class="p" id="p-152">which renders as:</div><blockquote id="q-34"><div class="p" id="p-153"><a href="#inflection-plural-examples" title="internal link">inflection plural examples</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-154">ğŸ”—</a></span><div class="p" id="p-154"><div class="code-caption-container" id="code-59">
<pre><code>\x[not-the-readme-header-with-fixed-case]
</code></pre></div><div class="p" id="p-155">which renders as:</div><blockquote id="q-35"><div class="p" id="p-156"><a href="not-readme#not-the-readme-header-with-fixed-case" title="internal link">Not the README header with fixed case</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#inflection-example-not-proper">ğŸ”—</a></span><h5 id="inflection-example-not-proper"><a href="#inflection-example-not-proper" title="link to this element">5.3.1.1. Inflection example not-proper</a><span>  | <a title="view one header per page" href="inflection-example-not-proper">ğŸ—— split</a> | <a href="#toc-inflection-example-not-proper" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cross-reference-title-inflection-example" title="parent header">â†‘ parent "Cross reference title inflection example"</a></span></h5>
</div><div><span class="hide-hover"><a href="#inflection-example-proper">ğŸ”—</a></span><h5 id="inflection-example-proper"><a href="#inflection-example-proper" title="link to this element">5.3.1.2. Inflection example proper</a><span>  | <a title="view one header per page" href="inflection-example-proper">ğŸ—— split</a> | <a href="#toc-inflection-example-proper" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cross-reference-title-inflection-example" title="parent header">â†‘ parent "Cross reference title inflection example"</a></span></h5>
</div><div><span class="hide-hover"><a href="#inflection-example-not-proper-lower">ğŸ”—</a></span><h5 id="inflection-example-not-proper-lower"><a href="#inflection-example-not-proper-lower" title="link to this element">5.3.1.3. inflection example not-proper lower</a><span>  | <a title="view one header per page" href="inflection-example-not-proper-lower">ğŸ—— split</a> | <a href="#toc-inflection-example-not-proper-lower" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cross-reference-title-inflection-example" title="parent header">â†‘ parent "Cross reference title inflection example"</a></span></h5>
</div><div><span class="hide-hover"><a href="#inflection-example-proper-lower">ğŸ”—</a></span><h5 id="inflection-example-proper-lower"><a href="#inflection-example-proper-lower" title="link to this element">5.3.1.4. inflection example proper lower</a><span>  | <a title="view one header per page" href="inflection-example-proper-lower">ğŸ—— split</a> | <a href="#toc-inflection-example-proper-lower" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cross-reference-title-inflection-example" title="parent header">â†‘ parent "Cross reference title inflection example"</a></span></h5>
</div><div><span class="hide-hover"><a href="#inflection-plural-examples">ğŸ”—</a></span><h5 id="inflection-plural-examples"><a href="#inflection-plural-examples" title="link to this element">5.3.1.5. Inflection plural examples</a><span>  | <a title="view one header per page" href="inflection-plural-examples">ğŸ—— split</a> | <a href="#toc-inflection-plural-examples" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cross-reference-title-inflection-example" title="parent header">â†‘ parent "Cross reference title inflection example"</a></span></h5>
</div><div><span class="hide-hover"><a href="#the-title2-argument">ğŸ”—</a></span><h3 id="the-title2-argument"><a href="#the-title2-argument" title="link to this element">5.4. The <code>title2</code> argument</a><span>  | <a title="view one header per page" href="the-title2-argument">ğŸ—— split</a> | <a href="#toc-the-title2-argument" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-157">ğŸ”—</a></span><div class="p" id="p-157">The <code>title2</code> argument can be given to any element that has the <code>title</code> argument.</div></div><div><span class="hide-hover"><a href="#p-158">ğŸ”—</a></span><div class="p" id="p-158">Its usage is a bit like the <code>description=</code> argument of <a href="#images" title="internal link">images</a>, allowing you to add some extra content to the header without affecting its ID.</div></div><div><span class="hide-hover"><a href="#p-159">ğŸ”—</a></span><div class="p" id="p-159">Therefore, its primary use cases are:<div><ul id="ul-19">
<li id="l-56"><div class="p" id="p-160">give acronyms, or other short names names of fuller titles such as mathematical/programming notation</div><div class="p" id="p-161">One primary reason to not use the acronyms is to avoid possible ID ambiguities with other acronyms.</div></li>
<li id="l-57">give the header in different languages</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-162">ğŸ”—</a></span><div class="p" id="p-162">When you do want to affect the ID to remove ambiguities, use <a href="#the-disambiguate-argument" title="internal link">the <code>disambiguate</code> argument</a> instead of <code>title2</code>.</div></div><div><span class="hide-hover"><a href="#p-163">ğŸ”—</a></span><div class="p" id="p-163">Unlike <code>description=</code> however, <code>title2</code> shows up on all <a href="#cross-reference-full-argument" title="internal link"><code>full</code></a> references, including appearances in the <a href="#table-of-contents" title="internal link">table of contents</a>.</div></div><div><span class="hide-hover"><a href="#p-164">ğŸ”—</a></span><div class="p" id="p-164">For example, given the Cirodown input:
<div class="code-caption-container" id="code-60">
<pre><code>The toc:

\Toc

== Quotation
{title2=`\Q`}

== Orthogonal group
{title2=$O(n)$}

\x[quotation]{p}

\x[orthogonal-group]

\x[orthogonal-group]{full}
</code></pre></div>
the rendered output looks like:
<div class="code-caption-container" id="code-61">
<pre><code>The toc:

* Quotation (\Q)
* Orthogonal group (O(n))

== Quotation (\Q)

== Orthogonal group (O(n))

quotations

orthogonal group

Section 2. "Orthogonal group (O(n))"
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-165">ğŸ”—</a></span><div class="p" id="p-165">Parenthesis are added automatically around all rendered <code>title2</code>.</div></div><div><span class="hide-hover"><a href="#the-disambiguate-argument">ğŸ”—</a></span><h3 id="the-disambiguate-argument"><a href="#the-disambiguate-argument" title="link to this element">5.5. The <code>disambiguate</code> argument</a><span>  | <a title="view one header per page" href="the-disambiguate-argument">ğŸ—— split</a> | <a href="#toc-the-disambiguate-argument" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-166">ğŸ”—</a></span><div class="p" id="p-166">Sometimes the short version of a name is ambiguous, and you need to add some extra text to make both its title and ID unique.</div></div><div><span class="hide-hover"><a href="#p-167">ğŸ”—</a></span><div class="p" id="p-167">For example, the word "Python" could either refer to:<div><ul id="ul-20">
<li id="l-58">the programming language: <a href="https://en.wikipedia.org/wiki/Python_(programming_language)">https://en.wikipedia.org/wiki/Python_(programming_language)</a></li>
<li id="l-59">the genus of snakes: <a href="https://en.wikipedia.org/wiki/Python_(genus)">https://en.wikipedia.org/wiki/Python_(genus)</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-168">ğŸ”—</a></span><div class="p" id="p-168">The <code>disambiguate</code> <a href="#positional-vs-named-arguments" title="internal link">name argument</a>, which is automatically defined for all macros, helps you deal more neatly with such problems.</div></div><div><span class="hide-hover"><a href="#p-169">ğŸ”—</a></span><div class="p" id="p-169">Have a look at this example:
<div class="code-caption-container" id="code-62">
<pre><code>My favorite snakes are \x[python-genus]{p}!

My favorite programming language is \x[python-programming-language]!

\x[python-genus]{full}

\x[python-programming-language]{full}

== Python
{disambiguate=genus}

== Python
{c}
{disambiguate=programming language}
{title2=.py}
{wiki}
</code></pre></div>
which renders as:
<blockquote id="q-36"><div class="p" id="p-170">My favorite snakes are <a href="#python-genus" title="internal link">pythons</a>!</div><div class="p" id="p-171">My favorite programming language is <a href="#python-programming-language" title="internal link">Python</a>!</div><div class="p" id="p-172"><a href="#python-genus" title="internal link">Section 5.5.1. "Python (genus)"</a></div><div class="p" id="p-173"><a href="#python-programming-language" title="internal link">Section 5.5.2. "Python (.py, programming language)"</a></div><h4 id="python-genus"><a href="#python-genus" title="link to this element">5.5.1. Python (genus)</a><span>  | <a title="view one header per page" href="python-genus">ğŸ—— split</a> | <a href="#toc-python-genus" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#the-disambiguate-argument" title="parent header">â†‘ parent "The <code>disambiguate</code> argument"</a></span></h4>
<div class="p" id="p-174"><h4 id="python-programming-language"><a href="#python-programming-language" title="link to this element">5.5.2. Python (.py, programming language)</a><span>  | <a title="view one header per page" href="python-programming-language">ğŸ—— split</a> | <a href="#toc-python-programming-language" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#the-disambiguate-argument" title="parent header">â†‘ parent "The <code>disambiguate</code> argument"</a></span></h4>

</div></blockquote>
from which we observe how <code>disambiguate</code>:<div><ul id="ul-21">
<li id="l-60">gets added to the ID after conversion following the same rules as <a href="#automatic-id-from-title" title="internal link">automatic ID from title</a></li>
<li id="l-61">shows up on the header between parenthesis, much like Wikipedia, as well as in <a href="#cross-reference-full-argument" title="internal link"><code>full</code> cross references</a></li>
<li id="l-62">does not show up on non-<code>full</code> references. This makes it much more likely that you will be able to reuse the title automatically on a cross reference without <code>content</code>: we wouldn't want to say "My favorite programming language is Python (programming language)" all the time, would we?</li>
<li id="l-63">gets added to the default <a href="#header-wiki-argument" title="internal link">header <code>wiki</code> argument</a> inside parenthesis, following Wikipedia convention, therefore increasing the likelihood that you will be able to go with the default Wikipedia value</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-175">ğŸ”—</a></span><div class="p" id="p-175">Besides disambiguating headers, the <code>disambiguate</code> argument has a second related application: disambiguating IDs of images. For example:
<div class="code-caption-container" id="code-63">
<pre><code>\x[image-the-title-of-my-disambiguate-image]{full=0}

\x[image-the-title-of-my-disambiguate-image-2]{full=0}

\x[image-the-title-of-my-disambiguate-image]{full}

\x[image-the-title-of-my-disambiguate-image-2]{full}

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=The title of my disambiguate image.}

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=The title of my disambiguate image.}
{disambiguate=2}
</code></pre></div><div class="p" id="p-176">which renders as:</div><blockquote id="q-37"><div class="p" id="p-177"><a href="#image-the-title-of-my-disambiguate-image" title="internal link">The title of my disambiguate image.</a></div><div class="p" id="p-178"><a href="#image-the-title-of-my-disambiguate-image-2" title="internal link">The title of my disambiguate image.</a></div><div class="p" id="p-179"><a href="#image-the-title-of-my-disambiguate-image" title="internal link">Figure 1. "The title of my disambiguate image."</a></div><div class="p" id="p-180"><a href="#image-the-title-of-my-disambiguate-image-2" title="internal link">Figure 2. "The title of my disambiguate image."</a></div><figure id="image-the-title-of-my-disambiguate-image">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-the-title-of-my-disambiguate-image"><span class="caption-prefix">Figure 1</span></a>. The title of my disambiguate image.</figcaption>
</figure>
<figure id="image-the-title-of-my-disambiguate-image-2">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-the-title-of-my-disambiguate-image-2"><span class="caption-prefix">Figure 2</span></a>. The title of my disambiguate image.</figcaption>
</figure>
</blockquote>
Note that unlike for headers, <code>disambiguate</code> does not appear on the title of images at all. It serves only to create an unique ID that can be later referred to. Headers are actually the only case where <code>disambiguate</code> shows up on the visible rendered output.</div></div><div><span class="hide-hover"><a href="#p-181">ğŸ”—</a></span><div class="p" id="p-181">This use case is even more useful when <code>title-from-src</code> is enable by default for the <a href="#media-providers" title="internal link"><code>media-providers</code></a> entry, so you don't have to repeat titles several times over and over.</div></div><div><span class="hide-hover"><a href="#x-within-title-restrictions">ğŸ”—</a></span><h3 id="x-within-title-restrictions"><a href="#x-within-title-restrictions" title="link to this element">5.6. <code>\x</code> within <code>title</code> restrictions</a><span>  | <a title="view one header per page" href="x-within-title-restrictions">ğŸ—— split</a> | <a href="#toc-x-within-title-restrictions" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-182">ğŸ”—</a></span><div class="p" id="p-182">If you use <code>\x</code> within a <code>title</code>, which most commonly happens for <a href="#images" title="internal link">image titles</a>, that can generate complex dependencies, which would either be harder to implement, or lead to infinite recursion.</div></div><div><span class="hide-hover"><a href="#p-183">ğŸ”—</a></span><div class="p" id="p-183">To prevent such problems, Cirodown emits an error if you use an <code>\x</code> without content in the <code>title</code> of one of the following elements without an explicit ID:<div><ul id="ul-22">
<li id="l-64"><div class="p" id="p-184"><a href="#headers" title="internal link">header</a>. For example, the following gives an error:
<div class="code-caption-container" id="code-64">
<pre><code>= h1
{id=myh1}

== \x[myh1]
</code></pre></div></div><div class="p" id="p-185">This could be solved by either adding a content to the reference:
<div class="code-caption-container" id="code-65">
<pre><code>= h1
{id=myh1}

== \x[myh1][mycontent]
</code></pre></div>
or by adding an explicit ID to the header:
<div class="code-caption-container" id="code-66">
<pre><code>= h1
{id=myh1}

== \x[myh1]
{id=myh2}
</code></pre></div></div></li>
<li id="l-65"><div class="p" id="p-186">non-header (e.g. an <a href="#images" title="internal link">image</a>) that links to the title of another non-header</div><div class="p" id="p-187">For non-headers, things are a bit more relaxed, and we can link to headers, e.g.:
<div class="code-caption-container" id="code-67">
<pre><code>= h1

\Image[myimg.jpg]
{title=my \x[h1].}
</code></pre></div>
This is allowed because Cirodown calculates IDs in two stages: first for all headers, and only later non non-headers.</div><div class="p" id="p-188">What you cannot do is link to another image e.g.:
<div class="code-caption-container" id="code-68">
<pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=My image 1.}

\Image[myimg.jpg]
{title=my \x[h1].}
</code></pre></div>
and there the workaround are much the same as for headers: either explicitly set the cross reference content:
<div class="code-caption-container" id="code-69">
<pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=My image 1.}

\Image[myimg.jpg]
{title=my \x[h1][My image 1].}
</code></pre></div>
or explicitly set an ID:
<div class="code-caption-container" id="code-70">
<pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=My image 1.}

\Image[myimg.jpg]
{id=myimage2}
{title=my \x[h1].}
</code></pre></div></div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-189">ğŸ”—</a></span><div class="p" id="p-189">While it is technically possible implement the above limitations, it would require a bit of extra work which we don't want to put in right now: <a href="https://github.com/cirosantilli/cirodown/issues/95">https://github.com/cirosantilli/cirodown/issues/95</a>.</div></div><div><span class="hide-hover"><a href="#p-190">ğŸ”—</a></span><div class="p" id="p-190">Furthermore, the above rules do not exclude infinite rendering loops, but Cirodown detects such loops and gives a nice error message, this has been fixed at: <a href="https://github.com/cirosantilli/cirodown/issues/34">https://github.com/cirosantilli/cirodown/issues/34</a> </div></div><div><span class="hide-hover"><a href="#p-191">ğŸ”—</a></span><div class="p" id="p-191">For example this would contain an infinite loop:
<div class="code-caption-container" id="code-71">
<pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=\x[myimage2].}

\Image[myimg.jpg]
{id=myimage2}
{title=\x[myimage1].}
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-192">ğŸ”—</a></span><div class="p" id="p-192">This infinite recursion is fundamentally not technically solved: the user has to manually break the loop by providing an <code>x</code> content explicitly, e.g. in either:
<div class="code-caption-container" id="code-72">
<pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=\x[myimage2][my content 2].}

\Image[myimg.jpg]
{id=myimage2}
{title=\x[myimage1].}
</code></pre></div>
or:
<div class="code-caption-container" id="code-73">
<pre><code>\Image[myimg.jpg]
{id=myimage1}
{title=\x[myimage2].}

\Image[myimg.jpg]
{id=myimage2}
{title=\x[myimage1][my content 1].}
</code></pre></div></div></div><div><span class="hide-hover"><a href="#internal-cross-file-references">ğŸ”—</a></span><h3 id="internal-cross-file-references"><a href="#internal-cross-file-references" title="link to this element">5.7. Internal cross file references</a><span>  | <a title="view one header per page" href="internal-cross-file-references">ğŸ—— split</a> | <a href="#toc-internal-cross-file-references" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-193">ğŸ”—</a></span><div class="p" id="p-193">Reference to the first header of another file:
<div class="code-caption-container" id="code-74">
<pre><code>\x[not-readme]
</code></pre></div><div class="p" id="p-194">which renders as:</div><blockquote id="q-38"><div class="p" id="p-195"><a href="not-readme" title="internal link">not the README</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-196">ğŸ”—</a></span><div class="p" id="p-196">Reference to a non-first header of another file:
<div class="code-caption-container" id="code-75">
<pre><code>\x[h2-in-not-the-readme]
</code></pre></div><div class="p" id="p-197">which renders as:</div><blockquote id="q-39"><div class="p" id="p-198"><a href="not-readme#h2-in-not-the-readme" title="internal link">h2 in not the README</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-199">ğŸ”—</a></span><div class="p" id="p-199">To make toplevel links cleaner,if target header is the very first element of the other page, then the link does not get a fragment, e.g.: <code>\x[not-readme]</code> rendered as:
<div class="code-caption-container" id="code-76">
<pre><code>&lt;a href="not-readme"
</code></pre></div>
and not:
<div class="code-caption-container" id="code-77">
<pre><code>&lt;a href="not-readme#not-readme"
</code></pre></div>
while <code>\x[h2-in-not-the-readme]</code> is rendered with the fragment:
<div class="code-caption-container" id="code-78">
<pre><code>&lt;a href="not-readme#h2-in-not-the-readme"
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-200">ğŸ”—</a></span><div class="p" id="p-200">Reference to the first header of another file that is a second inclusion:
<div class="code-caption-container" id="code-79">
<pre><code>\x[included-by-not-readme]
</code></pre></div><div class="p" id="p-201">which renders as:</div><blockquote id="q-40"><div class="p" id="p-202"><a href="included-by-not-readme" title="internal link">included by not the README</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-203">ğŸ”—</a></span><div class="p" id="p-203">Reference to another header of another file, with <a href="#cross-reference-full-argument" title="internal link"><code>full</code></a>:
<div class="code-caption-container" id="code-80">
<pre><code>\x[h2-in-not-the-readme]{full}.
</code></pre></div><div class="p" id="p-204">which renders as:</div><blockquote id="q-41"><div class="p" id="p-205"><a href="not-readme#h2-in-not-the-readme" title="internal link">Section "h2 in not the README"</a>.</div></blockquote>
Note that when <code>full</code> is used with references in another file in <a href="#embed-includes" title="internal link">multi page mode</a>, the number is not rendered as explained at: <a href="#cross-reference-full-argument-in-internal-cross-file-references" title="internal link">Section 5.2.1. "Cross reference <code>full</code> argument in internal cross file references"</a>.</div></div><div><span class="hide-hover"><a href="#p-206">ğŸ”—</a></span><div class="p" id="p-206">Reference to an image in another file:
<div class="code-caption-container" id="code-81">
<pre><code>\x[image-not-readme-xi]{full}.
</code></pre></div><div class="p" id="p-207">which renders as:</div><blockquote id="q-42"><div class="p" id="p-208"><a href="not-readme#image-not-readme-xi" title="internal link">Figure "Figure in not the README"</a>.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-209">ğŸ”—</a></span><div class="p" id="p-209">Reference to an image in another file:
<div class="code-caption-container" id="code-82">
<pre><code>\x[image-figure-in-not-the-readme-without-explicit-id]{full}.
</code></pre></div><div class="p" id="p-210">which renders as:</div><blockquote id="q-43"><div class="p" id="p-211"><a href="not-readme#image-figure-in-not-the-readme-without-explicit-id" title="internal link">Figure "Figure in not the README without explicit id"</a>.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-212">ğŸ”—</a></span><div class="p" id="p-212">Remember that the <a href="#the-toplevel-header" title="internal link">ID of the toplevel header</a> is automatically derived from its file name, that's why we have to use:
<div class="code-caption-container" id="code-83">
<pre><code>\x[not-readme]
</code></pre></div><div class="p" id="p-213">which renders as:</div><blockquote id="q-44"><div class="p" id="p-214"><a href="not-readme" title="internal link">not the README</a></div></blockquote>
instead of:
<div class="code-caption-container" id="code-84">
<pre><code>\x[not-the-readme]
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-215">ğŸ”—</a></span><div class="p" id="p-215">Reference to a subdirectory:
<div class="code-caption-container" id="code-85">
<pre><code>\x[subdir]

\x[subdir/h2]

\x[subdir/notindex]

\x[subdir/notindex-h2]
</code></pre></div><div class="p" id="p-216">which renders as:</div><blockquote id="q-45"><div class="p" id="p-217"><a href="subdir/" title="internal link">subdir index</a></div><div class="p" id="p-218"><a href="subdir/#h2" title="internal link">h2</a></div><div class="p" id="p-219"><a href="subdir/notindex" title="internal link">subdir/notindex</a></div><div class="p" id="p-220"><a href="subdir/notindex#notindex-h2" title="internal link">notindex h2</a></div></blockquote>
Implemented at: <a href="https://github.com/cirosantilli/cirodown/issues/116">https://github.com/cirosantilli/cirodown/issues/116</a></div></div><div><span class="hide-hover"><a href="#p-221">ğŸ”—</a></span><div class="p" id="p-221">Reference to an internal header of another file: <a href="not-readme#h2-in-not-the-readme" title="internal link">h2 in not the README</a>. By default, That header ID gets prefixed by the ID of the top header.</div></div><div><span class="hide-hover"><a href="#p-222">ğŸ”—</a></span><div class="p" id="p-222">When using <a href="#embed-includes" title="internal link"><code>--embed-includes</code></a> mode, the cross file references end up pointing to an ID inside the current HTML element, e.g.:
<div class="code-caption-container" id="code-86">
<pre><code>&lt;a href="#not-readme"&gt;
</code></pre></div>
rather than:
<div class="code-caption-container" id="code-87">
<pre><code>&lt;a href="not-readme.html/#not-readme"&gt;
</code></pre></div>
This is why IDs must be unique for elements across all pages.</div></div><div><span class="hide-hover"><a href="#internal-cross-file-references-internals">ğŸ”—</a></span><h4 id="internal-cross-file-references-internals"><a href="#internal-cross-file-references-internals" title="link to this element">5.7.1. Internal cross file references internals</a><span>  | <a title="view one header per page" href="internal-cross-file-references-internals">ğŸ—— split</a> | <a href="#toc-internal-cross-file-references-internals" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-file-references" title="parent header">â†‘ parent "Internal cross file references"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-223">ğŸ”—</a></span><div class="p" id="p-223">When running in Node.js, Cirodown dumps the IDs of all processed files to a <code>out/db.sqlite3</code> file, and then reads from that file when IDs are needed.</div></div><div><span class="hide-hover"><a href="#p-224">ğŸ”—</a></span><div class="p" id="p-224">When converting a directory, <code>out/db.sqlite3</code> is placed inside the input directory. When converting individual files, <code>out/db.sqlite3</code> is placed in the current working directory. The file is not created or used when handling input from stdin.</div></div><div><span class="hide-hover"><a href="#p-225">ğŸ”—</a></span><div class="p" id="p-225">When running in the browser, the same JavaScript API will send queries to the server instead of a local SQLite database.</div></div><div><span class="hide-hover"><a href="#p-226">ğŸ”—</a></span><div class="p" id="p-226">To inspect the ID database to debug it, you can use:
<div class="code-caption-container" id="code-88">
<pre><code>sqlite3 out/db.sqlite3 .dump
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-227">ğŸ”—</a></span><div class="p" id="p-227">It is often useful to dump a single table, e.g. to dump the <code>ids</code> table:
<div class="code-caption-container" id="code-89">
<pre><code>sqlite3 out/db.sqlite3 '.dump ids'
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-228">ğŸ”—</a></span><div class="p" id="p-228">You can force <code>cirodown</code> to not use the ID database with <code>--no-db</code>:
<div class="code-caption-container" id="code-90">
<pre><code>./cirodown --no-db .
</code></pre></div></div></div><div><span class="hide-hover"><a href="#automatic-id-from-title">ğŸ”—</a></span><h3 id="automatic-id-from-title"><a href="#automatic-id-from-title" title="link to this element">5.8. Automatic ID from title</a><span>  | <a title="view one header per page" href="automatic-id-from-title">ğŸ—— split</a> | <a href="#toc-automatic-id-from-title" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-229">ğŸ”—</a></span><div class="p" id="p-229">If a <a href="#the-toplevel-header" title="internal link">non-toplevel</a> macro has the <code>title</code> property is present but no explicit <code>id</code>, an ID is created automatically from the <code>title</code>, by applying the following transformations:<div><ul id="ul-23">
<li id="l-66">do a <a href="#id-output-format" title="internal link"><code>id</code> output format</a> conversion on the title to remove for example any HTML tags that would be present in the conversion output</li>
<li id="l-67">convert all characters to lowercase. This uses <a href="#javascript-case-conversion" title="internal link">JavaScript case conversion</a>.</li>
<li id="l-68">convert consecutive sequences of all non <code>a-z0-9</code> ASCII characters and hyphens <code>-</code> to a single hyphen <code>-</code>. Note that this leaves non-ASCII character untouched.</li>
<li id="l-69">strip leading or trailing hyphens
</li>
</ul></div>Note how those rules leave non ASCII Unicode characters untouched, as capitalization and determining if something "is a letter or not" in those cases can be tricky.</div></div><div><span class="hide-hover"><a href="#p-230">ğŸ”—</a></span><div class="p" id="p-230">For toplevel headers, see: <a href="#the-id-of-the-first-header-is-derived-from-the-filename" title="internal link">the ID of the first header is derived from the filename</a>.</div></div><div><span class="hide-hover"><a href="#p-231">ğŸ”—</a></span><div class="p" id="p-231">So for example, the following automatic IDs would be generated: <a href="#table-examples-of-automatically-generated-ids" title="internal link">Table 1. "Examples of automatically generated IDs."</a>.</div></div><div><span class="hide-hover"><a href="#table-examples-of-automatically-generated-ids">ğŸ”—</a></span><div class="table-container" id="table-examples-of-automatically-generated-ids">
<div class="table-caption-container">
<span class="table-caption"><a href="#table-examples-of-automatically-generated-ids"><span class="caption-prefix">Table 1</span></a>. Examples of automatically generated IDs.</span></div>
<table>
<thead>
<tr id="tr-1">
<th id="th-1">title</th>
<th id="th-2">id</th>
<th id="th-3">comments</th>
</tr>
</thead>
<tbody>
<tr id="tr-2">
<td id="td-1">My favorite title</td>
<td id="td-2">my-favorite-title</td>
<td id="td-3"></td>
</tr>
<tr id="tr-3">
<td id="td-4">Ciro's markdown is awesome</td>
<td id="td-5">ciro-s-markdown-is-awesome</td>
<td id="td-6"></td>
</tr>
<tr id="tr-4">
<td id="td-7">Ã‰ä½ </td>
<td id="td-8">Ã©ä½ </td>
<td id="td-9">The Latin <a href="https://en.wikipedia.org/wiki/Acute_accent">acute accented</a> <code>e</code>, <code>Ã‰</code>, is converted to its lower case form <code>Ã©</code> as per the <a href="#javascript-case-conversion" title="internal link">JavaScript case conversion</a>. The Chines <code>ä½ </code> is left untouched as Chinese characters have no case.
</td>
</tr>
</tbody>
</table>
</div>
</div><div><span class="hide-hover"><a href="#p-232">ğŸ”—</a></span><div class="p" id="p-232">For <a href="#the-toplevel-header" title="internal link">the toplevel header</a>, its ID is derived from the basename of the Cirodown file without extension instead of from the <code>title</code> argument.</div></div><div><span class="hide-hover"><a href="#internal-cross-reference-title-link-removal">ğŸ”—</a></span><h3 id="internal-cross-reference-title-link-removal"><a href="#internal-cross-reference-title-link-removal" title="link to this element">5.9. Internal cross reference title link removal</a><span>  | <a title="view one header per page" href="internal-cross-reference-title-link-removal">ğŸ—— split</a> | <a href="#toc-internal-cross-reference-title-link-removal" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#internal-cross-references" title="parent header">â†‘ parent "Internal cross references"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-233">ğŸ”—</a></span><div class="p" id="p-233">If the target <code>title</code> argument contains a link from either another <a href="#internal-cross-references" title="internal link">internal cross references</a> or a regular <a href="#links" title="internal link">external hyperlink</a>, Cirodown automatically prevents that link from rendering as a link when no explicit body is given.</div></div><div><span class="hide-hover"><a href="#p-234">ğŸ”—</a></span><div class="p" id="p-234">This is done because <a href="https://stackoverflow.com/questions/9882916/are-you-allowed-to-nest-a-link-inside-of-a-link">nested links are illegal in HTML</a>, and the result would be confusing.</div></div><div><span class="hide-hover"><a href="#p-235">ğŸ”—</a></span><div class="p" id="p-235">This use case is most common when dealing with media such as <a href="#images" title="internal link">images</a>. For example in:
<div class="code-caption-container" id="code-91">
<pre><code>= afds

\x[image-aa-zxcv-lolol-bb]

== qwer

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=aa \x[zxcv][zxcv] \a[http://example.com][lolol] bb}

== zxcv
</code></pre></div>
the <code>\x[image-aa-zxcv-lolol-bb]</code> renders something like:
<div class="code-caption-container" id="code-92">
<pre><code>&lt;a href="#image-aa-zxcv-lolol-bb"&gt;aa zxcv lolol bb&lt;/a&gt;
</code></pre></div>
and not:
<div class="code-caption-container" id="code-93">
<pre><code>&lt;a href="#image-aa-zxcv-lolol-bb"&gt;aa &lt;a href="zxcv"&gt;zxcv&lt;/a&gt; &lt;a href="http://example.com"&gt;lolol&lt;/a&gt; bb&lt;/a&gt;
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-236">ğŸ”—</a></span><div class="p" id="p-236">Live example:
<div class="code-caption-container" id="code-94">
<pre><code>This is a nice image: \x[image-aa-zxcv-lolol-bb].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=aa \x[internal-cross-reference-title-link-removal][zxcv] \a[http://example.com][lolol] bb}
</code></pre></div><div class="p" id="p-237">which renders as:</div><blockquote id="q-46"><div class="p" id="p-238">This is a nice image: <a href="#image-aa-zxcv-lolol-bb" title="internal link">Figure 3. "aa zxcv lolol bb"</a>.</div><figure id="image-aa-zxcv-lolol-bb">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-aa-zxcv-lolol-bb"><span class="caption-prefix">Figure 3</span></a>. aa <a href="#internal-cross-reference-title-link-removal" title="internal link">zxcv</a> <a href="http://example.com">lolol</a> bb</figcaption>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#headers">ğŸ”—</a></span><h2 id="headers"><a href="#headers" title="link to this element">6. Headers (<code>\H</code>)</a><span>  | <a title="view one header per page" href="headers">ğŸ—— split</a> | <a href="#toc-headers" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-239">ğŸ”—</a></span><div class="p" id="p-239"><a href="#insane-macro-shortcuts" title="internal link">Insane</a> with <code>= </code> (equal sign space):
<div class="code-caption-container" id="code-95">
<pre><code>= My h1

== My h2

=== My h3
</code></pre></div>
Insane headers end at the first newline found. They cannot therefore contain raw newline tokens.</div></div><div><span class="hide-hover"><a href="#p-240">ğŸ”—</a></span><div class="p" id="p-240">Equivalent sane:
<div class="code-caption-container" id="code-96">
<pre><code>\H[1][My h1]

\H[2][My h2]

\H[3][My h3]
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-241">ğŸ”—</a></span><div class="p" id="p-241">Custom ID for <a href="#internal-cross-references" title="internal link">internal cross references</a> on insane headers:
<div class="code-caption-container" id="code-97">
<pre><code>= My h1
{id=h1}

== My h2
{id=h2}

=== My h3
{id=h3}
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-242">ğŸ”—</a></span><div class="p" id="p-242">Sane equivalent:
<div class="code-caption-container" id="code-98">
<pre><code>\H[1][My h1]{id=h1}

\H[2][My h2]{id=h2}

\H[3][My h3]{id=h3}
</code></pre></div></div></div><div><span class="hide-hover"><a href="#id-based-header-levels">ğŸ”—</a></span><h3 id="id-based-header-levels"><a href="#id-based-header-levels" title="link to this element">6.1. ID-based header levels (<code>{parent=&lt;parent-id&gt;}</code>)</a><span>  | <a title="view one header per page" href="id-based-header-levels">ğŸ—— split</a> | <a href="#toc-id-based-header-levels" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-243">ğŸ”—</a></span><div class="p" id="p-243">In addition to the basic way of specifying header levels with an explicit level number, as mentioned at <a href="#headers" title="internal link">Section 6. "Headers (<code>\H</code>)"</a>, Cirodown also supports a more indirect ID-based mechanism.</div></div><div><span class="hide-hover"><a href="#p-244">ğŸ”—</a></span><div class="p" id="p-244">For example, the following fixed level syntax:
<div class="code-caption-container" id="code-99">
<pre><code>= My h1

== My h2 1

== My h2 2

=== My h3 2 1
</code></pre></div>
is equivalent to the following ID-based version:
<div class="code-caption-container" id="code-100">
<pre><code>= My h1

= My h2 1
{parent=my-h1}

= My h2 2
{parent=my-h1}

= My h3 2 1
{parent=my-h2-h}
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-245">ğŸ”—</a></span><div class="p" id="p-245">The main advantages of this syntax are felt when you have a huge document with <a href="#unlimited-header-levels" title="internal link">very large header depths</a>. In that case:<div><ul id="ul-24">
<li id="l-70">it becomes easy to get levels wrong with so many large level numbers to deal with. It is much harder to get an ID wrong.</li>
<li id="l-71"><div class="p" id="p-246">when you want to move headers around to improve organization, things are quite painful without a refactoring tool (which we intend to provide in the <a href="#editor-with-preview" title="internal link">editor with preview</a>), as you need to fix up the levels of every single header.</div><div class="p" id="p-247">If you are using the ID-based syntax however, you only have to move the chunk of headers, and change the <code>parent</code> argument of a single top-level header being moved.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-248">ğŸ”—</a></span><div class="p" id="p-248">Note that when the <code>parent=</code> argument is given, the header level must be <code>1</code>, otherwise Cirodown assumes that something is weird and gives an error. E.g. the following gives an error:
<div class="code-caption-container" id="code-101">
<pre><code>= My h1

== My h2
{parent=my-h1}
</code></pre></div>
because the second header has level <code>2</code> instead of the required <code>= My h2</code>.</div></div><div><span class="hide-hover"><a href="#p-249">ğŸ”—</a></span><div class="p" id="p-249">When <a href="#scope" title="internal link">scopes</a> are involved, the rules are the same as those of internal reference resolution, including the leading <code>/</code> to break out of the scope in case of conflicts.</div></div><div><span class="hide-hover"><a href="#p-250">ğŸ”—</a></span><div class="p" id="p-250">See also: <a href="#header-explicit-levels-vs-nesting-design-choice" title="internal link">Section 6.7. "Header explicit levels vs nesting design choice"</a> for further rationale.</div></div><div><span class="hide-hover"><a href="#id-based-header-levels-and-scope-resolution">ğŸ”—</a></span><h4 id="id-based-header-levels-and-scope-resolution"><a href="#id-based-header-levels-and-scope-resolution" title="link to this element">6.1.1. ID-based header levels and scope resolution</a><span>  | <a title="view one header per page" href="id-based-header-levels-and-scope-resolution">ğŸ—— split</a> | <a href="#toc-id-based-header-levels-and-scope-resolution" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#id-based-header-levels" title="parent header">â†‘ parent "ID-based header levels"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-251">ğŸ”—</a></span><div class="p" id="p-251">When mixing both <a href="#id-based-header-levels" title="internal link">ID-based header levels</a> and <a href="#scope" title="internal link">header <code>scope</code> argument</a>, things get a bit complicated, because when writing or parsing, we have to first determine the parent header before resolving scopes.</div></div><div><span class="hide-hover"><a href="#p-252">ğŸ”—</a></span><div class="p" id="p-252">As a result, the follow simple rules are used:<div><ul id="ul-25">
<li id="l-72">start from the last header of the highest level</li>
<li id="l-73">check if the <code>{parent=XXX}</code> is a suffix of its ID</li>
<li id="l-74">if not, proceed to the next smaller level, and so on, until a suffix is found</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-253">ğŸ”—</a></span><div class="p" id="p-253">Following those rules for example, a file <code>tmp.ciro</code>:
<div class="code-caption-container" id="code-102">
<pre><code>= h1
{scope}

= h1 1
{parent=h1}
{scope}

= h1 1 1
{parent=h1-1}

= h1 1 2
{parent=h1-1}

= h1 1 3
{parent=h1/h1-1}

= h1 2
{parent=h1}
{scope}

= h1 2 1
{parent=h1-2}
{scope}

= h1 2 1 1
{parent=h1-2/h1-2-1}
</code></pre></div>
will lead to the following header tree with <a href="#log-headers" title="internal link"><code>--log headers</code></a>:
<div class="code-caption-container" id="code-103">
<pre><code>= h1  tmp
== h2 1 tmp/h1-1
=== h3 1.1 tmp/h1-1/h1-1-1
=== h3 1.2 tmp/h1-1/h1-1-2
=== h3 1.3 tmp/h1-1/h1-1-3
== h2 2 tmp/h1-2
=== h3 2.1 tmp/h1-2/h1-2-1
==== h4 2.1.1 tmp/h1-2/h1-2-1/h1-2-1-1
</code></pre></div></div></div><div><span class="hide-hover"><a href="#unlimited-header-levels">ğŸ”—</a></span><h3 id="unlimited-header-levels"><a href="#unlimited-header-levels" title="link to this element">6.2. Unlimited header levels</a><span>  | <a title="view one header per page" href="unlimited-header-levels">ğŸ—— split</a> | <a href="#toc-unlimited-header-levels" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-254">ğŸ”—</a></span><div class="p" id="p-254">There is no limit to how many levels we can have, for either sane or insane headers!</div></div><div><span class="hide-hover"><a href="#p-255">ğŸ”—</a></span><div class="p" id="p-255">HTML is randomly limited to <code>h6</code>, so Cirodown just renders higher levels as an <code>h6</code> with a <code>data-level</code> attribute to indicate the actual level for possible CSS styling:
<div class="code-caption-container" id="code-104">
<pre><code>&lt;h6 data-level="7"&gt;My title&lt;/h6&gt;
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-256">ğŸ”—</a></span><div class="p" id="p-256">The recommended style is to use insane headers up to <code>h6</code>, and then move to sane one for higher levels though, otherwise it becomes very hard to count the <code>=</code> signs.</div></div><div><span class="hide-hover"><a href="#p-257">ğŸ”—</a></span><div class="p" id="p-257">To avoid this, we sondiered making the insane syntax be instead:
<div class="code-caption-container" id="code-105">
<pre><code>= 1 My h1
= 2 My h2
= 3 My h3
</code></pre></div>
but it just didn't feel as good, and is a bit harder to type than just smashing <code>=</code> n times for lower levels, which is the most common use case. So we just copied markdown.</div></div><div><span class="hide-hover"><a href="#my-h4">ğŸ”—</a></span><h4 id="my-h4"><a href="#my-h4" title="link to this element">6.2.1. My h4</a><span>  | <a title="view one header per page" href="my-h4">ğŸ—— split</a> | <a href="#toc-my-h4" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#unlimited-header-levels" title="parent header">â†‘ parent "Unlimited header levels"</a></span></h4>
</div><div><span class="hide-hover"><a href="#my-h5">ğŸ”—</a></span><h5 id="my-h5"><a href="#my-h5" title="link to this element">6.2.1.1. My h5</a><span>  | <a title="view one header per page" href="my-h5">ğŸ—— split</a> | <a href="#toc-my-h5" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h4" title="parent header">â†‘ parent "My h4"</a></span></h5>
</div><div><span class="hide-hover"><a href="#my-h6">ğŸ”—</a></span><h6 id="my-h6"><a href="#my-h6" title="link to this element">6.2.1.1.1. My h6</a><span>  | <a title="view one header per page" href="my-h6">ğŸ—— split</a> | <a href="#toc-my-h6" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h5" title="parent header">â†‘ parent "My h5"</a></span></h6>
</div><div><span class="hide-hover"><a href="#my-h7">ğŸ”—</a></span><h6 data-level="7" id="my-h7"><a href="#my-h7" title="link to this element">6.2.1.1.1.1. My h7</a><span>  | <a title="view one header per page" href="my-h7">ğŸ—— split</a> | <a href="#toc-my-h7" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h6" title="parent header">â†‘ parent "My h6"</a></span></h6>
</div><div><span class="hide-hover"><a href="#my-h8">ğŸ”—</a></span><h6 data-level="8" id="my-h8"><a href="#my-h8" title="link to this element">6.2.1.1.1.1.1. My h8</a><span>  | <a title="view one header per page" href="my-h8">ğŸ—— split</a> | <a href="#toc-my-h8" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h7" title="parent header">â†‘ parent "My h7"</a></span></h6>
</div><div><span class="hide-hover"><a href="#my-h9">ğŸ”—</a></span><h6 data-level="9" id="my-h9"><a href="#my-h9" title="link to this element">6.2.1.1.1.1.1.1. My h9</a><span>  | <a title="view one header per page" href="my-h9">ğŸ—— split</a> | <a href="#toc-my-h9" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h8" title="parent header">â†‘ parent "My h8"</a></span></h6>
</div><div><span class="hide-hover"><a href="#my-h10">ğŸ”—</a></span><h6 data-level="10" id="my-h10"><a href="#my-h10" title="link to this element">6.2.1.1.1.1.1.1.1. My h10</a><span>  | <a title="view one header per page" href="my-h10">ğŸ—— split</a> | <a href="#toc-my-h10" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h9" title="parent header">â†‘ parent "My h9"</a></span></h6>
</div><div><span class="hide-hover"><a href="#my-h11">ğŸ”—</a></span><h6 data-level="11" id="my-h11"><a href="#my-h11" title="link to this element">6.2.1.1.1.1.1.1.1.1. My h11</a><span>  | <a title="view one header per page" href="my-h11">ğŸ—— split</a> | <a href="#toc-my-h11" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h10" title="parent header">â†‘ parent "My h10"</a></span></h6>
</div><div><span class="hide-hover"><a href="#my-h12">ğŸ”—</a></span><h6 data-level="12" id="my-h12"><a href="#my-h12" title="link to this element">6.2.1.1.1.1.1.1.1.1.1. My h12</a><span>  | <a title="view one header per page" href="my-h12">ğŸ—— split</a> | <a href="#toc-my-h12" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h11" title="parent header">â†‘ parent "My h11"</a></span></h6>
</div><div><span class="hide-hover"><a href="#my-h13">ğŸ”—</a></span><h6 data-level="13" id="my-h13"><a href="#my-h13" title="link to this element">6.2.1.1.1.1.1.1.1.1.1.1. My h13</a><span>  | <a title="view one header per page" href="my-h13">ğŸ—— split</a> | <a href="#toc-my-h13" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#my-h12" title="parent header">â†‘ parent "My h12"</a></span></h6>
</div><div><span class="hide-hover"><a href="#table-of-contents">ğŸ”—</a></span><h3 id="table-of-contents"><a href="#table-of-contents" title="link to this element">6.3. Table of contents (<code>\Toc</code>)</a><span>  | <a title="view one header per page" href="table-of-contents">ğŸ—— split</a> | <a href="#toc-table-of-contents" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-258">ğŸ”—</a></span><div class="p" id="p-258">Cirodown automatically adds a ToC at the end of the first <a href="#the-toplevel-header" title="internal link">non-toplevel header</a> of every document.</div></div><div><span class="hide-hover"><a href="#p-259">ğŸ”—</a></span><div class="p" id="p-259">You may customize ToC placement with <code>\Toc</code> macro, but just don't do it, it will just go against common convention and confuse readers.</div></div><div><span class="hide-hover"><a href="#p-260">ğŸ”—</a></span><div class="p" id="p-260">This is especially important when considering <a href="#split-headers" title="internal link"><code>--split-headers</code></a>, where you almost always want an automatically generated ToC for every split header, otherwise you would need to add them all manually.</div></div><div><span class="hide-hover"><a href="#p-261">ğŸ”—</a></span><div class="p" id="p-261">Only one ToC is rendered per document. Any ToC besides the first one is ignored. In particular, this means that <a href="#includes" title="internal link">includes</a> with <a href="#embed-includes" title="internal link"><code>--embed-includes</code></a> work seamlessly and render a single table of contents, even if multiple <code>\Toc</code> macros are present in the included pages.</div></div><div><span class="hide-hover"><a href="#p-262">ğŸ”—</a></span><div class="p" id="p-262">The <a href="#internal-cross-references" title="internal link">ID</a> of the ToC is always fixed to <code>#toc</code>. If you try to use that for another element, you will get the following error:
<div class="code-caption-container" id="code-106">
<pre><code>error: tmp.ciro:3:1: reserved ID "toc"
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-263">ğŸ”—</a></span><div class="p" id="p-263">The ToC ignores <a href="#the-toplevel-header" title="internal link">the toplevel header</a> if you have one.</div></div><div><span class="hide-hover"><a href="#p-264">ğŸ”—</a></span><div class="p" id="p-264">For when you want a quick outline of the header tree on the terminal, also consider the <a href="#log-headers" title="internal link"><code>--log headers</code></a> option.</div></div><div><span class="hide-hover"><a href="#table-of-contents-javascript-open-close-interaction">ğŸ”—</a></span><h4 id="table-of-contents-javascript-open-close-interaction"><a href="#table-of-contents-javascript-open-close-interaction" title="link to this element">6.3.1. Table of contents JavaScript open close interaction</a><span>  | <a title="view one header per page" href="table-of-contents-javascript-open-close-interaction">ğŸ—— split</a> | <a href="#toc-table-of-contents-javascript-open-close-interaction" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#table-of-contents" title="parent header">â†‘ parent "Table of contents"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-265">ğŸ”—</a></span><div class="p" id="p-265">To the left of table of content entries you can click on an open/close icon to toggle the visibility of different levels of the table of contents.</div></div><div><span class="hide-hover"><a href="#p-266">ğŸ”—</a></span><div class="p" id="p-266">The expansion algorithm is optimized so that when you first click on the arrow of a node it will give you an overview of that node, showing only its direct children.</div></div><div><span class="hide-hover"><a href="#p-267">ğŸ”—</a></span><div class="p" id="p-267">At the start, all nodes are showing, to facilitate Ctrl + F queries, and so when you first click on a node, it collapses the children of children, so you can see only the direct children the node of interest, without getting a gazillion of sub descendants shown first.</div></div><div><span class="hide-hover"><a href="#p-268">ğŸ”—</a></span><div class="p" id="p-268">The exact behaviour is:<div><ul id="ul-26">
<li id="l-75">if a node is open:<div><ul id="ul-27">
<li id="l-76">if all children are closed, close the element, This can improve the view of its siblings. The toplevel "Table of Contents" node never closes however, since we never want to close that one.</li>
<li id="l-77">otherwise, close all children. This Gives a good overview of the children, without any children of children getting in the way.</li>
</ul></div></li>
<li id="l-78">if a node is closed (not showing children), open it and show all children and their descendants.</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-269">ğŸ”—</a></span><div class="p" id="p-269">As a result of the above rules, clicking on a node three times goes through a loop of basically all useful states:<div><ul id="ul-28">
<li id="l-79">node open and children open (initial state</li>
<li id="l-80">node open and children closed</li>
<li id="l-81">node closed</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-270">ğŸ”—</a></span><div class="p" id="p-270">Clicking on the link from a <a href="#headers" title="internal link">header</a> up to the table of contents also automatically opens up the node for you in case it had been previously closed manually.</div></div><div><span class="hide-hover"><a href="#scope">ğŸ”—</a></span><h3 id="scope"><a href="#scope" title="link to this element">6.4. Header <code>scope</code> argument</a><span>  | <a title="view one header per page" href="scope">ğŸ—— split</a> | <a href="#toc-scope" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-271">ğŸ”—</a></span><div class="p" id="p-271">In some use cases, the sections under a section describe inseparable parts of something.</div></div><div><span class="hide-hover"><a href="#p-272">ğŸ”—</a></span><div class="p" id="p-272">For example, when documenting an experiment you executed, you will generally want an "Introduction", then a "Materials" section, and then a "Results" section for every experiment.</div></div><div><span class="hide-hover"><a href="#p-273">ğŸ”—</a></span><div class="p" id="p-273">On their own, those sections don't make much sense: they are always referred to in the context of the given experiment.</div></div><div><span class="hide-hover"><a href="#p-274">ğŸ”—</a></span><div class="p" id="p-274">The problem is then how to get unique IDs for those sections.</div></div><div><span class="hide-hover"><a href="#p-275">ğŸ”—</a></span><div class="p" id="p-275">One solution, would be to manually add the experiment ID as prefix to every subsection, as in:
<div class="code-caption-container" id="code-107">
<pre><code>= Experiments

See: \x[full-and-unique-experiment-name/materials]

== Introduction

== Full and unique experiment name

=== Introduction
{id=full-and-unique-experiment-name/introduction}

See our awesome results: \x[full-and-unique-experiment-name/results]

For a more general introduction to all experiments, see: \x[introduction].

=== Materials
{id=full-and-unique-experiment-name/materials}

=== Results
{id=full-and-unique-experiment-name/results}
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-276">ğŸ”—</a></span><div class="p" id="p-276">but this would be very tedious.</div></div><div><span class="hide-hover"><a href="#p-277">ğŸ”—</a></span><div class="p" id="p-277">To keep those IDs shorter, Cirodown provides the <code>scope</code> <a href="#boolean-named-arguments" title="internal link">boolean named argument</a> property of <a href="#headers" title="internal link">headers</a>, which works analogously to C++ namespaces with the header IDs.</div></div><div><span class="hide-hover"><a href="#p-278">ğŸ”—</a></span><div class="p" id="p-278">Using <code>scope</code>, the previous example could be written more succinctly as:
<div class="code-caption-container" id="code-108">
<pre><code>= Experiments

See: \x[full-and-unique-experiment-name/materials]

== Introduction

== Full and unique experiment name
{scope}

=== Introduction

See our awesome results: \x[results]

For a more general introduction to all experiments, see: \x[/introduction].

=== Materials

=== Results
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-279">ğŸ”—</a></span><div class="p" id="p-279">Note how:<div><ul id="ul-29">
<li id="l-82">full IDs are automatically prefixed by the parent scopes prefixed and joined with a slash <code>/</code></li>
<li id="l-83">we can refer to other IDs withing the current scope without duplicating the scope. E.g. <code>\x[results]</code> in the example already refers to the ID <code>full-and-unique-experiment-name/materials</code></li>
<li id="l-84"><div class="p" id="p-280">to refer to an ID outside of the scope and avoid name conflicts with IDs inside of the current scope, we start a reference with a slash <code>/</code></div><div class="p" id="p-281">So in the example above, <code>\x[/introduction]</code> refers to the ID <code>introduction</code>, and not <code>full-and-unique-experiment-name/introduction</code>.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-282">ğŸ”—</a></span><div class="p" id="p-282">When nested scopes are involved, <a href="#internal-cross-references" title="internal link">internal cross references</a> resolution peels off the scopes one by one trying to find the closes match, e.g. the following works as expected:
<div class="code-caption-container" id="code-109">
<pre><code>= h1
{scope}

== h2
{scope}

=== h3
{scope}

\x[h2]
</code></pre></div>
Here Cirodown:<div><ul id="ul-30">
<li id="l-85">first tries to loop for an <code>h1/h2/h3/h2</code>, since <code>h1/h2/h3</code> is the current scope, but that ID does not exist</li>
<li id="l-86">so it removes the <code>h3</code> from the current scope, and looks for <code>h1/h2/h2</code>, which is still not found</li>
<li id="l-87">then it removes the <code>h2</code>, leading to <code>h1/h2</code>, and that one is found, and therefore is taken</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#directory-based-scope">ğŸ”—</a></span><h4 id="directory-based-scope"><a href="#directory-based-scope" title="link to this element">6.4.1. Directory-based <code>scope</code></a><span>  | <a title="view one header per page" href="directory-based-scope">ğŸ—— split</a> | <a href="#toc-directory-based-scope" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#scope" title="parent header">â†‘ parent "Header <code>scope</code> argument"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-283">ğŸ”—</a></span><div class="p" id="p-283">Putting files in subdirectories of the build has the same effect as adding a <a href="#scope" title="internal link">header <code>scope</code> argument</a> to their top level header.</div></div><div><span class="hide-hover"><a href="#p-284">ğŸ”—</a></span><div class="p" id="p-284">Notably, all headers inside that directory get the directory prepended to their IDs.</div></div><div><span class="hide-hover"><a href="#p-285">ğŸ”—</a></span><div class="p" id="p-285">The toplevel directory is determined as described at: <a href="#the-toplevel-index-file" title="internal link">the toplevel index file</a>.</div></div><div><span class="hide-hover"><a href="#test-scope-1">ğŸ”—</a></span><h4 id="test-scope-1"><a href="#test-scope-1" title="link to this element">6.4.2. Test scope 1</a><span>  | <a title="view one header per page" href="test-scope-1">ğŸ—— split</a> | <a href="#toc-test-scope-1" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#scope" title="parent header">â†‘ parent "Header <code>scope</code> argument"</a></span></h4>
</div><div><span class="hide-hover"><a href="#test-scope-1/p-286">ğŸ”—</a></span><div class="p" id="test-scope-1/p-286">For fun and profit.</div></div><div><span class="hide-hover"><a href="#test-scope-1/test-scope-2">ğŸ”—</a></span><h5 id="test-scope-1/test-scope-2"><a href="#test-scope-1/test-scope-2" title="link to this element">6.4.2.1. Test scope 2</a><span>  | <a title="view one header per page" href="test-scope-1/test-scope-2">ğŸ—— split</a> | <a href="#toc-test-scope-1/test-scope-2" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#test-scope-1" title="parent header">â†‘ parent "Test scope 1"</a></span></h5>
</div><div><span class="hide-hover"><a href="#test-scope-1/test-scope-2/not-scoped">ğŸ”—</a></span><h6 id="test-scope-1/test-scope-2/not-scoped"><a href="#test-scope-1/test-scope-2/not-scoped" title="link to this element">6.4.2.1.1. Not scoped</a><span>  | <a title="view one header per page" href="test-scope-1/test-scope-2/not-scoped">ğŸ—— split</a> | <a href="#toc-test-scope-1/test-scope-2/not-scoped" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#test-scope-1/test-scope-2" title="parent header">â†‘ parent "Test scope 2"</a></span></h6>
</div><div><span class="hide-hover"><a href="#header-scope-argument-of-toplevel-headers">ğŸ”—</a></span><h4 id="header-scope-argument-of-toplevel-headers"><a href="#header-scope-argument-of-toplevel-headers" title="link to this element">6.4.3. Header <code>scope</code> argument of toplevel headers</a><span>  | <a title="view one header per page" href="header-scope-argument-of-toplevel-headers">ğŸ—— split</a> | <a href="#toc-header-scope-argument-of-toplevel-headers" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#scope" title="parent header">â†‘ parent "Header <code>scope</code> argument"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-287">ğŸ”—</a></span><div class="p" id="p-287">When <a href="#the-toplevel-header" title="internal link">the toplevel header</a> is given the <code>scope</code> property Cirodown automatically uses the file path for the scope and heaves fragments untouched.</div></div><div><span class="hide-hover"><a href="#p-288">ğŸ”—</a></span><div class="p" id="p-288">For example, suppose that file <code>full-and-unique-experiment-name</code> contains:
<div class="code-caption-container" id="code-110">
<pre><code>= Full and unique experiment name
{scope}

== Introduction

== Materials
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-289">ğŸ”—</a></span><div class="p" id="p-289">In this case, multi-file output will generate a file called <code>full-and-unique-experiment-name.html</code>, and the URL of the subsections will be just:<div><ul id="ul-31">
<li id="l-88"><code>full-and-unique-experiment-name.html#introduction</code></li>
<li id="l-89"><code>full-and-unique-experiment-name.html#materials</code>
</li>
</ul></div>instead of<div><ul id="ul-32">
<li id="l-90"><code>full-and-unique-experiment-name.html#full-and-unique-experiment-name/introduction</code></li>
<li id="l-91"><code>full-and-unique-experiment-name.html#full-and-unique-experiment-name/materials</code></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-290">ğŸ”—</a></span><div class="p" id="p-290">Some quick interactive cross file link tests:<div><ul id="ul-33">
<li id="l-92"><a href="not-readme-with-scope" title="internal link">not the README with scope</a></li>
<li id="l-93"><a href="not-readme-with-scope#h2" title="internal link">h2</a></li>
<li id="l-94"><a href="not-readme-with-scope#image-my-image" title="internal link">Figure "My image"</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#header-splitsuffix-argument">ğŸ”—</a></span><h3 id="header-splitsuffix-argument"><a href="#header-splitsuffix-argument" title="link to this element">6.5. Header <code>splitSuffix</code> argument</a><span>  | <a title="view one header per page" href="header-splitsuffix-argument">ğŸ—— split</a> | <a href="#toc-header-splitsuffix-argument" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-291">ğŸ”—</a></span><div class="p" id="p-291">If given, adds a custom suffix to the output filename of the header when using <a href="#split-headers" title="internal link"><code>--split-headers</code></a>.</div></div><div><span class="hide-hover"><a href="#p-292">ğŸ”—</a></span><div class="p" id="p-292">If the given suffix is empty, it defaults to <code>-split</code>.</div></div><div><span class="hide-hover"><a href="#p-293">ğŸ”—</a></span><div class="p" id="p-293">For example, given:
<div class="code-caption-container" id="code-111">
<pre><code>= my h1

== my h2
</code></pre></div>
a <code>--split-headers</code> conversion would normally place <code>my h2</code> into a file called:
<div class="code-caption-container" id="code-112">
<pre><code>my-h2.html
</code></pre></div>
However, if we instead wrote:
<div class="code-caption-container" id="code-113">
<pre><code>== my h2
{splitSuffix}
</code></pre></div>
it would not be placed under:
<div class="code-caption-container" id="code-114">
<pre><code>my-h2-split.html
</code></pre></div>
and if we set a custom one as:
<div class="code-caption-container" id="code-115">
<pre><code>== my h2
{splitSuffix=asdf}
</code></pre></div>
it would go instead to:
<div class="code-caption-container" id="code-116">
<pre><code>my-h2-asdf.html
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-294">ğŸ”—</a></span><div class="p" id="p-294">This option is useful if the root of your website is written in Cirodown, and you want to both:<div><ul id="ul-34">
<li id="l-95">have a section that talks about some other project</li>
<li id="l-96">host the documentation of that project inside the project source tree</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-295">ğŸ”—</a></span><div class="p" id="p-295">For example, <a href="https://cirosantilli.com">https://cirosantilli.com</a> with source at <a href="https://github.com/cirosantilli/cirosantilli.github.io">https://github.com/cirosantilli/cirosantilli.github.io</a> has a quick section about Cirodown: <a href="https://cirosantilli.com#cirodown">https://cirosantilli.com#cirodown</a>.</div></div><div><span class="hide-hover"><a href="#p-296">ğŸ”—</a></span><div class="p" id="p-296">Therefore, without a custom suffix, the split header version of that header would go to <a href="https://cirosantilli.com/cirodown">https://cirosantilli.com/cirodown</a>, which would collide with this documentation, that is present in a separate repository: <a href="https://github.com/cirosantilli/cirodown">https://github.com/cirosantilli/cirodown</a>.</div></div><div><span class="hide-hover"><a href="#p-297">ğŸ”—</a></span><div class="p" id="p-297">Therefore a <code>splitHeader</code> property is used, making the split header version fall under <code>/cirodown-split</code>, and leaving the nicer <code>/cirodown</code> for the more important project toplevel.</div></div><div><span class="hide-hover"><a href="#header-wiki-argument">ğŸ”—</a></span><h3 id="header-wiki-argument"><a href="#header-wiki-argument" title="link to this element">6.6. Header <code>wiki</code> argument</a><span>  | <a title="view one header per page" href="header-wiki-argument">ğŸ—— split</a> | <a href="#toc-header-wiki-argument" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-298">ğŸ”—</a></span><div class="p" id="p-298">If given, show a link to the Wikipedia article that corresponds to the header.</div></div><div><span class="hide-hover"><a href="#p-299">ğŸ”—</a></span><div class="p" id="p-299">If a value is not given, automatically link to the Wiki page that matches the header exactly with spaces converted to underscores.</div></div><div><span class="hide-hover"><a href="#p-300">ğŸ”—</a></span><div class="p" id="p-300">Here is an example with an explicit wiki argument:</div></div><div><span class="hide-hover"><a href="#code-117">ğŸ”—</a></span><div class="code-caption-container" id="code-117">
<pre><code>==== Tiananmen Square
{wiki=Tiananmen_Square}
</code></pre></div></div><div><span class="hide-hover"><a href="#p-301">ğŸ”—</a></span><div class="p" id="p-301">which looks like:</div></div><div><span class="hide-hover"><a href="#wiki-explicit">ğŸ”—</a></span><h4 id="wiki-explicit"><a href="#wiki-explicit" title="link to this element">6.6.1. Tiananmen Square</a><span>  | <a title="view one header per page" href="wiki-explicit">ğŸ—— split</a> | <a href="#toc-wiki-explicit" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#header-wiki-argument" title="parent header">â†‘ parent "Header <code>wiki</code> argument"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-302">ğŸ”—</a></span><div class="p" id="p-302">or equivalently with the value deduced from the title:</div></div><div><span class="hide-hover"><a href="#code-118">ğŸ”—</a></span><div class="code-caption-container" id="code-118">
<pre><code>= Tiananmen Square
{wiki}
</code></pre></div></div><div><span class="hide-hover"><a href="#p-303">ğŸ”—</a></span><div class="p" id="p-303">which looks like:</div></div><div><span class="hide-hover"><a href="#wiki-implicit">ğŸ”—</a></span><h4 id="wiki-implicit"><a href="#wiki-implicit" title="link to this element">6.6.2. Tiananmen Square</a><span>  | <a title="view one header per page" href="wiki-implicit">ğŸ—— split</a> | <a href="#toc-wiki-implicit" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#header-wiki-argument" title="parent header">â†‘ parent "Header <code>wiki</code> argument"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-304">ğŸ”—</a></span><div class="p" id="p-304">You can only link to subsections of wiki pages with explicit links as in:</div></div><div><span class="hide-hover"><a href="#code-119">ğŸ”—</a></span><div class="code-caption-container" id="code-119">
<pre><code>= History or Tiananmen Square
{wiki=Tiananmen_Square#History}
</code></pre></div></div><div><span class="hide-hover"><a href="#p-305">ğŸ”—</a></span><div class="p" id="p-305">which looks like:</div></div><div><span class="hide-hover"><a href="#wiki-explicit-subsection">ğŸ”—</a></span><h4 id="wiki-explicit-subsection"><a href="#wiki-explicit-subsection" title="link to this element">6.6.3. History or Tiananmen Square</a><span>  | <a title="view one header per page" href="wiki-explicit-subsection">ğŸ—— split</a> | <a href="#toc-wiki-explicit-subsection" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#header-wiki-argument" title="parent header">â†‘ parent "Header <code>wiki</code> argument"</a></span></h4>
</div><div><span class="hide-hover"><a href="#header-explicit-levels-vs-nesting-design-choice">ğŸ”—</a></span><h3 id="header-explicit-levels-vs-nesting-design-choice"><a href="#header-explicit-levels-vs-nesting-design-choice" title="link to this element">6.7. Header explicit levels vs nesting design choice</a><span>  | <a title="view one header per page" href="header-explicit-levels-vs-nesting-design-choice">ğŸ—— split</a> | <a href="#toc-header-explicit-levels-vs-nesting-design-choice" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-306">ğŸ”—</a></span><div class="p" id="p-306">Arguably, the language would be even saner if we did:
<div class="code-caption-container" id="code-120">
<pre><code>\H[My h1][

Paragraph.

\H[My h2][]
]
</code></pre></div>
rather than having explicit levels as in <code>\H[1][My h1]</code> and so on.</div></div><div><span class="hide-hover"><a href="#p-307">ğŸ”—</a></span><div class="p" id="p-307">But we chose not to do it like most markups available because it leads to too many nesting levels, and hard to determine where you are without tooling.</div></div><div><span class="hide-hover"><a href="#p-308">ğŸ”—</a></span><div class="p" id="p-308">Ciro later "invented" (?) <a href="#id-based-header-levels" title="internal link">ID-based header levels</a>, which he feels reaches the perfect balance between the advantages of those two options.</div></div><div><span class="hide-hover"><a href="#includes">ğŸ”—</a></span><h3 id="includes"><a href="#includes" title="link to this element">6.8. Includes (<code>\Include</code>)</a><span>  | <a title="view one header per page" href="includes">ğŸ—— split</a> | <a href="#toc-includes" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-309">ğŸ”—</a></span><div class="p" id="p-309">The <code>\Include</code> macro allows including an external Cirodown headers under the current header.</div></div><div><span class="hide-hover"><a href="#p-310">ğŸ”—</a></span><div class="p" id="p-310">It exists to allow optional single page HTML output while still retaining the ability to:<div><ul id="ul-35">
<li id="l-97">split up large input files into multiple files to make renders faster during document development</li>
<li id="l-98">suggest an optional custom output split with one HTML output per Cirodown input, in order to avoid extremely large HTML pages which could be slow to load</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-311">ğŸ”—</a></span><div class="p" id="p-311"><code>\Include</code> takes one mandatory argument: the ID of the section to be included, much like <a href="#internal-cross-references" title="internal link">internal cross references</a>.</div></div><div><span class="hide-hover"><a href="#p-312">ğŸ”—</a></span><div class="p" id="p-312">There is however one restriction: only <a href="#the-toplevel-header" title="internal link">the toplevel headers</a> can be pointed to. This restriction allows us to easily find the included file in the filesystem, and dispenses the need to do a first <code>./cirodown</code> run to generate the <a href="#internal-cross-file-references-internals" title="internal link">ID database</a>. This works because <a href="#the-id-of-the-first-header-is-derived-from-the-filename" title="internal link">the ID of the first header is derived from the filename</a>.</div></div><div><span class="hide-hover"><a href="#p-313">ğŸ”—</a></span><div class="p" id="p-313">Headers of the included document are automatically shifted to match the level of the child of the level where they are being included.</div></div><div><span class="hide-hover"><a href="#p-314">ğŸ”—</a></span><div class="p" id="p-314">If <a href="#embed-includes" title="internal link"><code>--embed-includes</code></a> is given, the external document is rendered embedded into the current document directly, essentially as if the source had been copy pasted (except for small corrections such as the header offsets).</div></div><div><span class="hide-hover"><a href="#p-315">ğŸ”—</a></span><div class="p" id="p-315">Otherwise, the following effects happen:<div><ul id="ul-36">
<li id="l-99"><div class="p" id="p-316">The headers of the included tree appear in the <a href="#table-of-contents" title="internal link">table of contents</a> of the document as links to the corresponding external files.</div><div class="p" id="p-317">This is implemented simply by reading a previously generated database file much like <a href="#internal-cross-file-references-internals" title="internal link">internal cross file references internals</a>, which avoids the slowdown of parsing all included files every time.</div><div class="p" id="p-318">As a result, you have to do an initial parse of all files in the project to extract their headers however, just as you would need to do when linking to those headers.</div></li>
<li id="l-100">the include itself renders as a link to the included document</li>
<li id="l-101"><a href="#embed-includes" title="internal link"><code>--embed-includes</code></a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-319">ğŸ”—</a></span><div class="p" id="p-319">Here is an example of inclusion of the files <code>not-readme.ciro</code> and <code>not-readme-2.ciro</code>:
<div class="code-caption-container" id="code-121">
<pre><code>\Include[not-readme]
\Include[not-readme-2]
\Include[not-readme-with-scope]
</code></pre></div>
The above is the recommended and slightly <a href="#insane-macro-shortcuts" title="internal link">insaner</a> version of:
<div class="code-caption-container" id="code-122">
<pre><code>\Include[not-readme]

\Include[not-readme-2]

\Include[not-readme-with-scope]
</code></pre></div>
The insaner version is a bit insaner because the <code>\Include</code> magically discards the following newline node that follows it if it just a plaintext node containing exactly a newline. With a double newline, the newline would already have been previously taken out on the lexing stage as part of a paragraph.</div></div><div><span class="hide-hover"><a href="#p-320">ğŸ”—</a></span><div class="p" id="p-320">This is what they actually render as:</div></div><div><span class="hide-hover"><a href="#not-readme">ğŸ”—</a></span><h4 id="not-readme"><a href="#not-readme" title="link to this element">6.8.1. Not the README</a><span>  | <a title="view one header per page" href="index-split">ğŸ—— split</a> | <a href="#toc-not-readme" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#includes" title="parent header">â†‘ parent "Includes"</a> | <a href="includes-not-readme#includes-not-readme-h2" title="parent header">â†‘ parent "Includes not README h2"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-321">ğŸ”—</a></span><div class="p" id="p-321"><a href="not-readme" title="internal link">This section is present in another page, follow this link to view it.</a></div></div><div><span class="hide-hover"><a href="#not-readme-2">ğŸ”—</a></span><h4 id="not-readme-2"><a href="#not-readme-2" title="link to this element">6.8.2. Not the README 2</a><span>  | <a title="view one header per page" href="index-split">ğŸ—— split</a> | <a href="#toc-not-readme-2" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#includes" title="parent header">â†‘ parent "Includes"</a> | <a href="includes-not-readme#includes-not-readme-h2" title="parent header">â†‘ parent "Includes not README h2"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-322">ğŸ”—</a></span><div class="p" id="p-322"><a href="not-readme-2" title="internal link">This section is present in another page, follow this link to view it.</a></div></div><div><span class="hide-hover"><a href="#not-readme-with-scope">ğŸ”—</a></span><h4 id="not-readme-with-scope"><a href="#not-readme-with-scope" title="link to this element">6.8.3. Not the README with scope</a><span>  | <a title="view one header per page" href="index-split">ğŸ—— split</a> | <a href="#toc-not-readme-with-scope" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#includes" title="parent header">â†‘ parent "Includes"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-323">ğŸ”—</a></span><div class="p" id="p-323"><a href="not-readme-with-scope" title="internal link">This section is present in another page, follow this link to view it.</a></div></div><div><span class="hide-hover"><a href="#subdir">ğŸ”—</a></span><h4 id="subdir"><a href="#subdir" title="link to this element">6.8.4. subdir index</a><span>  | <a title="view one header per page" href="index-split">ğŸ—— split</a> | <a href="#toc-subdir" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#includes" title="parent header">â†‘ parent "Includes"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-324">ğŸ”—</a></span><div class="p" id="p-324"><a href="subdir/" title="internal link">This section is present in another page, follow this link to view it.</a></div></div><div><span class="hide-hover"><a href="#subdir/notindex">ğŸ”—</a></span><h4 id="subdir/notindex"><a href="#subdir/notindex" title="link to this element">6.8.5. subdir/notindex</a><span>  | <a title="view one header per page" href="subdir/notindex/index-split">ğŸ—— split</a> | <a href="#toc-subdir/notindex" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#includes" title="parent header">â†‘ parent "Includes"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-325">ğŸ”—</a></span><div class="p" id="p-325"><a href="subdir/notindex" title="internal link">This section is present in another page, follow this link to view it.</a></div></div><div><span class="hide-hover"><a href="#skipping-header-levels">ğŸ”—</a></span><h3 id="skipping-header-levels"><a href="#skipping-header-levels" title="link to this element">6.9. Skipping header levels</a><span>  | <a title="view one header per page" href="skipping-header-levels">ğŸ—— split</a> | <a href="#toc-skipping-header-levels" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-326">ğŸ”—</a></span><div class="p" id="p-326">The very first header of a document can be of any level, although we highly recommend your document to start with a <code>\H[1]</code>, and to contain exactly just one <code>\H[1]</code>, as this has implications such as:<div><ul id="ul-37">
<li id="l-102"><code>\H[1]</code> is used for the document title: <a href="#html-document-title" title="internal link">hTML document title</a></li>
<li id="l-103"><code>\H[1]</code> does not show on the <a href="#table-of-contents" title="internal link">table of contents</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-327">ğŸ”—</a></span><div class="p" id="p-327">After the initial header however, you must not skip a header level, e.g. the following would give an error because it skips level 3:
<div class="code-caption-container" id="code-123">
<pre><code>= my 1

== my 1

==== my 4
</code></pre></div></div></div><div><span class="hide-hover"><a href="#the-toplevel-header">ğŸ”—</a></span><h3 id="the-toplevel-header"><a href="#the-toplevel-header" title="link to this element">6.10. The toplevel header</a><span>  | <a title="view one header per page" href="the-toplevel-header">ğŸ—— split</a> | <a href="#toc-the-toplevel-header" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#headers" title="parent header">â†‘ parent "Headers"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-328">ğŸ”—</a></span><div class="p" id="p-328">If the document has only a single header of the highest level, e.g. like the following has only a single <code>h2</code>:
<div class="code-caption-container" id="code-124">
<pre><code>== My 2

=== My 3 1

=== My 3 2
</code></pre></div>
then this has some magical effects.</div></div><div><span class="hide-hover"><a href="#the-toplevel-header-ids-don-t-show">ğŸ”—</a></span><h4 id="the-toplevel-header-ids-don-t-show"><a href="#the-toplevel-header-ids-don-t-show" title="link to this element">6.10.1. The toplevel header IDs don't show</a><span>  | <a title="view one header per page" href="the-toplevel-header-ids-don-t-show">ğŸ—— split</a> | <a href="#toc-the-toplevel-header-ids-don-t-show" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#the-toplevel-header" title="parent header">â†‘ parent "The toplevel header"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-329">ğŸ”—</a></span><div class="p" id="p-329">Header IDs won't show for the toplevel level. For example, the headers would render like:
<div class="code-caption-container" id="code-125">
<pre><code>My 2

1. My 3 1

2. My 3 2
</code></pre></div>
rather than:
<div class="code-caption-container" id="code-126">
<pre><code>1. My 2

1.2. My 3 1

1.2. My 3 2
</code></pre></div>
This is because in this case, we guess that the <code>h2</code> is the toplevel.</div></div><div><span class="hide-hover"><a href="#the-id-of-the-first-header-is-derived-from-the-filename">ğŸ”—</a></span><h4 id="the-id-of-the-first-header-is-derived-from-the-filename"><a href="#the-id-of-the-first-header-is-derived-from-the-filename" title="link to this element">6.10.2. The ID of the first header is derived from the filename</a><span>  | <a title="view one header per page" href="the-id-of-the-first-header-is-derived-from-the-filename">ğŸ—— split</a> | <a href="#toc-the-id-of-the-first-header-is-derived-from-the-filename" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#the-toplevel-header" title="parent header">â†‘ parent "The toplevel header"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-330">ğŸ”—</a></span><div class="p" id="p-330">TODO: we kind of wanted this to be the ID of the toplevel header instead of the first header, but this would require an extra postprocessing pass (to determine if the first header is toplevel or not), which might affect performance, so we are not doing it right now.</div></div><div><span class="hide-hover"><a href="#p-331">ğŸ”—</a></span><div class="p" id="p-331">When the Cirodown input comes from a file (and not e.g. stdin), the default ID of the first header in the document is derived from the basename of the Cirodown input source file rather than from its title.</div></div><div><span class="hide-hover"><a href="#p-332">ğŸ”—</a></span><div class="p" id="p-332">This is specially relevant when <a href="#includes" title="internal link">including</a> other files.</div></div><div><span class="hide-hover"><a href="#p-333">ğŸ”—</a></span><div class="p" id="p-333">For example, in file named <code>my-file.ciro</code> which contains:
<div class="code-caption-container" id="code-127">
<pre><code>= Awesome cirodown file
]]
</code></pre></div>
the ID of the header is <code>my-file</code> rather than <code>awesome-cirodown-file</code>. See also: <a href="#automatic-id-from-title" title="internal link">automatic ID from title</a>.</div></div><div><span class="hide-hover"><a href="#p-334">ğŸ”—</a></span><div class="p" id="p-334">If the file is an <a href="#index-files" title="internal link">index file</a> other than <a href="#the-toplevel-index-file" title="internal link">the toplevel index file</a>, then the basename of the parent directory is used instead, e.g. the toplevel ID of a file:
<div class="code-caption-container" id="code-128">
<pre><code>my-subdir/README.ciro</code></pre></div>
would be:
<div class="code-caption-container" id="code-129">
<pre><code>#my-subdir</code></pre></div>
rather than:
<div class="code-caption-container" id="code-130">
<pre><code>#README.ciro</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-335">ğŸ”—</a></span><div class="p" id="p-335">For the toplevel index file however, the ID is just taken from the header itself as usual. This is done because you often can't general control the directory name of a project.</div></div><div><span class="hide-hover"><a href="#p-336">ğŸ”—</a></span><div class="p" id="p-336">For example, a <a href="#publish-to-github-pages" title="internal link">GitHub pages</a> root directory must be named as <code>&lt;username&gt;.github.io</code>. And users may need to rename directories to avoid naming conflicts.</div></div><div><span class="hide-hover"><a href="#p-337">ğŸ”—</a></span><div class="p" id="p-337">As a consequence of this, the toplevel index file cannot <a href="#includes" title="internal link">be included in other files</a>.</div></div><div><span class="hide-hover"><a href="#lists">ğŸ”—</a></span><h2 id="lists"><a href="#lists" title="link to this element">7. Lists (<code>* </code>, <code>\L</code>, <code>\Ul</code>, <code>\Ol</code>)</a><span>  | <a title="view one header per page" href="lists">ğŸ—— split</a> | <a href="#toc-lists" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-338">ğŸ”—</a></span><div class="p" id="p-338"><a href="#insane-macro-shortcuts" title="internal link">Insane</a> with <code>* </code> (asterisk space):
<div class="code-caption-container" id="code-131">
<pre><code>* a
* b
* c
</code></pre></div><div class="p" id="p-339">which renders as:</div><blockquote id="q-47"><div><ul id="ul-38">
<li id="l-104">a</li>
<li id="l-105">b</li>
<li id="l-106">c</li>
</ul></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-340">ğŸ”—</a></span><div class="p" id="p-340">Equivalent saner with <a href="#auto-parent" title="internal link">implicit <code>ul</code> container</a>:
<div class="code-caption-container" id="code-132">
<pre><code>\L[a]
\L[b]
\L[c]
</code></pre></div><div class="p" id="p-341">which renders as:</div><blockquote id="q-48"><div><ul id="ul-39">
<li id="l-107">a</li>
<li id="l-108">b</li>
<li id="l-109">c</li>
</ul></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-342">ğŸ”—</a></span><div class="p" id="p-342">Equivalent fully sane with explicit container:
<div class="code-caption-container" id="code-133">
<pre><code>\Ul[
\L[a]
\L[b]
\L[c]
]
</code></pre></div><div class="p" id="p-343">which renders as:</div><blockquote id="q-49"><div><ul id="ul-40">
<li id="l-110">a</li>
<li id="l-111">b</li>
<li id="l-112">c</li>
</ul></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-344">ğŸ”—</a></span><div class="p" id="p-344">The explicit container is required if you want to pass extra arguments properties to the <code>ul</code> list macro, e.g. a title and an ID: <a href="#list-my-id" title="internal link">Ul 1</a>:
<div class="code-caption-container" id="code-134">
<pre><code>\Ul
{id=list-my-id}
[
\L[a]
\L[b]
\L[c]
]
</code></pre></div><div class="p" id="p-345">which renders as:</div><blockquote id="q-50"><div><ul id="list-my-id">
<li id="l-113">a</li>
<li id="l-114">b</li>
<li id="l-115">c</li>
</ul></div></blockquote>
This is the case because without the explicit container in an implicit <code>ul</code> list, the arguments would stick to the last list item instead of the list itself.</div></div><div><span class="hide-hover"><a href="#p-346">ğŸ”—</a></span><div class="p" id="p-346">It is also required if you want ordered lists:
<div class="code-caption-container" id="code-135">
<pre><code>\Ol[
\L[first]
\L[second]
\L[third]
]
</code></pre></div><div class="p" id="p-347">which renders as:</div><blockquote id="q-51"><ol id="ol-1">
<li id="l-116">first</li>
<li id="l-117">second</li>
<li id="l-118">third</li>
</ol></blockquote></div></div><div><span class="hide-hover"><a href="#p-348">ğŸ”—</a></span><div class="p" id="p-348">Insane nested list with two space indentation:
<div class="code-caption-container" id="code-136">
<pre><code>* a
  * a1
  * a2
  * a2
* b
* c
</code></pre></div><div class="p" id="p-349">which renders as:</div><blockquote id="q-52"><div><ul id="ul-42">
<li id="l-119">a<div><ul id="ul-43">
<li id="l-120">a1</li>
<li id="l-121">a2</li>
<li id="l-122">a2</li>
</ul></div></li>
<li id="l-123">b</li>
<li id="l-124">c</li>
</ul></div></blockquote>
The indentation must always be exactly equal to two spaces, anything else leads to errors or unintended output.</div></div><div><span class="hide-hover"><a href="#p-350">ğŸ”—</a></span><div class="p" id="p-350">Equivalent saner nested lists with implicit containers:
<div class="code-caption-container" id="code-137">
<pre><code>\L[
a
\L[a1]
\L[a2]
\L[a2]
]
\L[b]
\L[c]
</code></pre></div><div class="p" id="p-351">which renders as:</div><blockquote id="q-53"><div><ul id="ul-44">
<li id="l-125">a
<div><ul id="ul-45">
<li id="l-126">a1</li>
<li id="l-127">a2</li>
<li id="l-128">a2</li>
</ul></div></li>
<li id="l-129">b</li>
<li id="l-130">c</li>
</ul></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-352">ğŸ”—</a></span><div class="p" id="p-352">Insane list item with a paragraph inside of it:
<div class="code-caption-container" id="code-138">
<pre><code>* a
* I have

  Multiple paragraphs.

  * And
  * also
  * a
  * list
* c
</code></pre></div><div class="p" id="p-353">which renders as:</div><blockquote id="q-54"><div><ul id="ul-46">
<li id="l-131">a</li>
<li id="l-132"><div class="p" id="p-354">I have</div><div class="p" id="p-355">Multiple paragraphs.</div><div><ul id="ul-47">
<li id="l-133">And</li>
<li id="l-134">also</li>
<li id="l-135">a</li>
<li id="l-136">list</li>
</ul></div></li>
<li id="l-137">c</li>
</ul></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-356">ğŸ”—</a></span><div class="p" id="p-356">Equivalent sane version:
<div class="code-caption-container" id="code-139">
<pre><code>\L[a]
\L[
I have

Multiple paragraphs.

\L[And]
\L[also]
\L[a]
\L[list]
]
\L[c]
</code></pre></div><div class="p" id="p-357">which renders as:</div><blockquote id="q-55"><div><ul id="ul-48">
<li id="l-138">a</li>
<li id="l-139"><div class="p" id="p-358">I have</div><div class="p" id="p-359">Multiple paragraphs.</div><div><ul id="ul-49">
<li id="l-140">And</li>
<li id="l-141">also</li>
<li id="l-142">a</li>
<li id="l-143">list</li>
</ul></div></li>
<li id="l-144">c</li>
</ul></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-360">ğŸ”—</a></span><div class="p" id="p-360">Insane lists may be escaped with a backslash as usual:
<div class="code-caption-container" id="code-140">
<pre><code>\* paragraph starting with an asterisk.
</code></pre></div><div class="p" id="p-361">which renders as:</div><blockquote id="q-56"><div class="p" id="p-362">* paragraph starting with an asterisk.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-363">ğŸ”—</a></span><div class="p" id="p-363">And now a list outside of <a href="#cirodownexample" title="internal link"><code>CirodownExample</code></a> to test how it looks directly under <a href="#toplevel" title="internal link">the <code>\Toplevel</code> implicit macro</a>:</div></div><div><span class="hide-hover"><a href="#ul-50">ğŸ”—</a></span><div><ul id="ul-50">
<li id="l-145">a</li>
<li id="l-146">b</li>
<li id="l-147">c</li>
</ul></div></div><div><span class="hide-hover"><a href="#images">ğŸ”—</a></span><h2 id="images"><a href="#images" title="link to this element">8. Images (<code>\Image</code> and <code>\image</code>)</a><span>  | <a title="view one header per page" href="images">ğŸ—— split</a> | <a href="#toc-images" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-364">ğŸ”—</a></span><div class="p" id="p-364">A block image with <a href="#block-vs-inline-macros" title="internal link">capital</a> 'i' <code>Image</code> showcasing most of the image properties <a href="#image-my-test-image" title="internal link">Figure 4. "The title of my image."</a>.
<div class="code-caption-container" id="code-141">
<pre><code>Have a look at this amazing image: \x[image-my-test-image].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{title=The title of my image.}
{id=image-my-test-image}
{width=600}
{height=200}
{source=https://en.wikipedia.org/wiki/File:Tianasquare.jpg}
{description=The description of my image.}
</code></pre></div><div class="p" id="p-365">which renders as:</div><blockquote id="q-57"><div class="p" id="p-366">Have a look at this amazing image: <a href="#image-my-test-image" title="internal link">Figure 4. "The title of my image."</a>.</div><figure id="image-my-test-image">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="200" width="600"></a>
<figcaption><a href="#image-my-test-image"><span class="caption-prefix">Figure 4</span></a>. The title of my image. <a href="https://en.wikipedia.org/wiki/File:Tianasquare.jpg">Source</a>. The description of my image.</figcaption>
</figure>
</blockquote>
This exemplifies the following parameters:<div><ul id="ul-51">
<li id="l-148"><code>description</code>: similar to <code>title</code>, but allow for further explanations without them appearing in <a href="#internal-cross-references" title="internal link">cross references</a> to the image</li>
<li id="l-149"><code>source</code>: a standardized way to credit an image by linking to a URL that contains further image metadata
</li>
</ul></div>For further discussion on the effects of ID see: <a href="#image-id" title="internal link">full</a>.</div></div><div><span class="hide-hover"><a href="#p-367">ğŸ”—</a></span><div class="p" id="p-367">And this is how you make an inline image inline one with lower case <code>i</code>:
<div class="code-caption-container" id="code-142">
<pre><code>My inline \image[Tank_man_standing_in_front_of_some_tanks.jpg][test image] is awesome.
</code></pre></div><div class="p" id="p-368">which renders as:</div><blockquote id="q-58"><div class="p" id="p-369">My inline <img src="Tank_man_standing_in_front_of_some_tanks.jpg" height="315" alt="test image"> is awesome.</div></blockquote>
Inline images can't have captions.</div></div><div><span class="hide-hover"><a href="#p-370">ğŸ”—</a></span><div class="p" id="p-370">The <code>description</code> can have multiple paragraphs just like any other element, but we don't recommend this style because it makes it hard for readers to see what is part of the image caption and what is part of the next paragraph.
<div class="code-caption-container" id="code-143">
<pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{id=image-my-test-image-description-paragraphs}
{title=The title of my image.}
{source=https://en.wikipedia.org/wiki/File:Tianasquare.jpg}
{description=Description paragraph 1.

Description paragraph 2.
}

Paragraph after.
</code></pre></div><div class="p" id="p-371">which renders as:</div><blockquote id="q-59"><figure id="image-my-test-image-description-paragraphs">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-my-test-image-description-paragraphs"><span class="caption-prefix">Figure 5</span></a>. The title of my image. <a href="https://en.wikipedia.org/wiki/File:Tianasquare.jpg">Source</a>. <div class="p" id="p-372">Description paragraph 1.</div><div class="p" id="p-373">Description paragraph 2.
</div></figcaption>
</figure>
<div class="p" id="p-374">Paragraph after.</div></blockquote>
Maybe we could improve this with some CSS styling, but generally when you want multiple paragraphs inside the image, you might instead be better off making an <a href="#internal-cross-file-references" title="internal link">internal cross reference</a> to the the image and adding your extended explanation outside.</div></div><div><span class="hide-hover"><a href="#p-375">ğŸ”—</a></span><div class="p" id="p-375">And now an image outside of <a href="#cirodownexample" title="internal link"><code>CirodownExample</code></a> to test how it looks directly under <a href="#toplevel" title="internal link">the <code>\Toplevel</code> implicit macro</a>:</div></div><div><span class="hide-hover"><a href="#image-my-test-image-toplevel">ğŸ”—</a></span><figure id="image-my-test-image-toplevel">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-my-test-image-toplevel"><span class="caption-prefix">Figure 6</span></a></figcaption>
</figure>
</div><div><span class="hide-hover"><a href="#image-height">ğŸ”—</a></span><h3 id="image-height"><a href="#image-height" title="link to this element">8.1. Image height</a><span>  | <a title="view one header per page" href="image-height">ğŸ—— split</a> | <a href="#toc-image-height" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#images" title="parent header">â†‘ parent "Images"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-376">ğŸ”—</a></span><div class="p" id="p-376">By default, we fix image heights to <code>height=315</code>, and let the <code>width</code> be calculated proportionally once the image loads. We therefore ignore the actual image size. This is done to:<div><ul id="ul-52">
<li id="l-150">prevent reflows as the page loads images and can determine their actual sizes, especially is the user opens the page at a given ID in the middle of the page</li>
<li id="l-151">create a more uniform media experience by default, unless a custom image size is actually needed e.g. if the image needs to be larger</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#image-id">ğŸ”—</a></span><h3 id="image-id"><a href="#image-id" title="link to this element">8.2. Image IDs and captions</a><span>  | <a title="view one header per page" href="image-id">ğŸ—— split</a> | <a href="#toc-image-id" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#images" title="parent header">â†‘ parent "Images"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-377">ğŸ”—</a></span><div class="p" id="p-377">Here is an image without a description but with an ID so we can link to it: <a href="#image-my-test-image-2" title="internal link">Figure 7</a>.
<div class="code-caption-container" id="code-144">
<pre><code>Have a look at this amazing image: \x[image-my-test-image-2].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{id=image-my-test-image-2}
</code></pre></div><div class="p" id="p-378">which renders as:</div><blockquote id="q-60"><div class="p" id="p-379">Have a look at this amazing image: <a href="#image-my-test-image-2" title="internal link">Figure 7</a>.</div><figure id="image-my-test-image-2">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-my-test-image-2"><span class="caption-prefix">Figure 7</span></a></figcaption>
</figure>
</blockquote>
This works because <a href="#cross-reference-full-argument" title="internal link"><code>full</code> is the default cross reference style for <code>Image</code></a>, otherwise the link text would be empty since there is no <code>title</code>, and cirodown would raise an error.</div></div><div><span class="hide-hover"><a href="#p-380">ğŸ”—</a></span><div class="p" id="p-380">Cirodown can optionally deduce the title from the basename of the <code>src</code> argument if the <code>titleFromSrc</code> <a href="#boolean-named-arguments" title="internal link">boolean named argument</a> is given, or if <code>title-from-src</code> is set as the default <a href="#media-providers" title="internal link">media provider</a> for the media type: 
<div class="code-caption-container" id="code-145">
<pre><code>Have a look at this amazing image: \x[image-tank-man-standing-in-front-of-some-tanks].

\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
{titleFromSrc}
</code></pre></div><div class="p" id="p-381">which renders as:</div><blockquote id="q-61"><div class="p" id="p-382">Have a look at this amazing image: <a href="#image-tank-man-standing-in-front-of-some-tanks" title="internal link">Figure 8. "Tank man standing in front of some tanks."</a>.</div><figure id="image-tank-man-standing-in-front-of-some-tanks">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-tank-man-standing-in-front-of-some-tanks"><span class="caption-prefix">Figure 8</span></a>. Tank man standing in front of some tanks.</figcaption>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-383">ğŸ”—</a></span><div class="p" id="p-383">If the image has neither ID nor title, then it does not get a caption at all, and it is not possible to link to it with an <a href="#internal-cross-references" title="internal link">internal cross reference</a>, e.g.:
<div class="code-caption-container" id="code-146">
<pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
</code></pre></div><div class="p" id="p-384">which renders as:</div><blockquote id="q-62"><figure id="image-9">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a>
</figure>
</blockquote>
The image does however get an automatically generated ID based on its image number, and it is possible for readers to link to that ID on the rendered version, e.g. as:
<div class="code-caption-container" id="code-147">
<pre><code>#image-123
</code></pre></div>
This link is of course not stable across document revisions however, since if an image is added before that one, the link will break. This kind of image is discouraged, because in paged output formats like PDF, it could float away from the text that refers to the image.</div></div><div><span class="hide-hover"><a href="#p-385">ğŸ”—</a></span><div class="p" id="p-385">We can also see that such an image does not increment the Figure count:
<div class="code-caption-container" id="code-148">
<pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{id=image-my-test-image-count-before}
\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{id=image-my-test-image-count-after}
</code></pre></div><div class="p" id="p-386">which renders as:</div><blockquote id="q-63"><div class="p" id="p-387"><figure id="image-my-test-image-count-before">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-my-test-image-count-before"><span class="caption-prefix">Figure 9</span></a></figcaption>
</figure>

<figure id="image-11">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a>
</figure>

<figure id="image-my-test-image-count-after">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-my-test-image-count-after"><span class="caption-prefix">Figure 10</span></a></figcaption>
</figure>
</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-388">ğŸ”—</a></span><div class="p" id="p-388">If the image has any visible metadata such as <code>source</code> or <code>description</code> however, then the caption does show and the Figure count gets incremented:
<div class="code-caption-container" id="code-149">
<pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{source=https://en.wikipedia.org/wiki/File:Tianasquare.jpg}
\Image[Tank_man_standing_in_front_of_some_tanks.jpg]{description=This is the description of my image.}
</code></pre></div><div class="p" id="p-389">which renders as:</div><blockquote id="q-64"><div class="p" id="p-390"><figure id="image-13">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-13"><span class="caption-prefix">Figure 11</span></a>.  <a href="https://en.wikipedia.org/wiki/File:Tianasquare.jpg">Source</a>.</figcaption>
</figure>

<figure id="image-14">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-14"><span class="caption-prefix">Figure 12</span></a>.  This is the description of my image.</figcaption>
</figure>
</div></blockquote></div></div><div><span class="hide-hover"><a href="#where-to-store-images">ğŸ”—</a></span><h3 id="where-to-store-images"><a href="#where-to-store-images" title="link to this element">8.3. Where to store images</a><span>  | <a title="view one header per page" href="where-to-store-images">ğŸ—— split</a> | <a href="#toc-where-to-store-images" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#images" title="parent header">â†‘ parent "Images"</a></span></h3>
</div><div><span class="hide-hover"><a href="#store-images-inside-the-repository-itself">ğŸ”—</a></span><h4 id="store-images-inside-the-repository-itself"><a href="#store-images-inside-the-repository-itself" title="link to this element">8.3.1. Store images inside the repository itself</a><span>  | <a title="view one header per page" href="store-images-inside-the-repository-itself">ğŸ—— split</a> | <a href="#toc-store-images-inside-the-repository-itself" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#where-to-store-images" title="parent header">â†‘ parent "Where to store images"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-391">ğŸ”—</a></span><div class="p" id="p-391">If you are making a limited repository that will not have a ton of images, then you can get away with simply git tracking your images in the main repository.</div></div><div><span class="hide-hover"><a href="#p-392">ğŸ”—</a></span><div class="p" id="p-392">With this setup, no further action is needed. For example, with a file structure of:
<div class="code-caption-container" id="code-150">
<pre><code>./README.ciro
./Tank_man_standing_in_front_of_some_tanks.jpg
</code></pre></div>
just use the image from <div class="code-caption-container" id="code-151">
<pre><code>README.ciro</code></pre></div> as:
<div class="code-caption-container" id="code-152">
<pre><code>\Image[Tank_man_standing_in_front_of_some_tanks.jpg]
</code></pre></div><div class="p" id="p-393">which renders as:</div><blockquote id="q-65"><figure id="image-15">
<a href="Tank_man_standing_in_front_of_some_tanks.jpg"><img src="Tank_man_standing_in_front_of_some_tanks.jpg" loading="lazy" height="315" alt="Tank_man_standing_in_front_of_some_tanks.jpg"></a>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-394">ğŸ”—</a></span><div class="p" id="p-394">However, if you are making a huge tutorial, which can have a huge undefined number of images (i.e. any scientific book), then you likely don't want to git track your images in the git repository.</div></div><div><span class="hide-hover"><a href="#store-images-in-a-separate-media-repository">ğŸ”—</a></span><h4 id="store-images-in-a-separate-media-repository"><a href="#store-images-in-a-separate-media-repository" title="link to this element">8.3.2. Store images in a separate media repository</a><span>  | <a title="view one header per page" href="store-images-in-a-separate-media-repository">ğŸ—— split</a> | <a href="#toc-store-images-in-a-separate-media-repository" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#where-to-store-images" title="parent header">â†‘ parent "Where to store images"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-395">ğŸ”—</a></span><div class="p" id="p-395">In this approach, you create a separate GitHub repository in addition to the main one containing the text to contain only media such as images.</div></div><div><span class="hide-hover"><a href="#p-396">ğŸ”—</a></span><div class="p" id="p-396">This approach is more suitable than <a href="#store-images-inside-the-repository-itself" title="internal link">store images inside the repository itself</a> if you are going to have a lot of images.</div></div><div><span class="hide-hover"><a href="#p-397">ğŸ”—</a></span><div class="p" id="p-397">When using this approach, you could of course just point directly to the final image URL, e.g. as in:
<div class="code-caption-container" id="code-153">
<pre><code>\Image[https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg]
</code></pre></div><div class="p" id="p-398">which renders as:</div><blockquote id="q-66"><figure id="image-16">
<a href="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg" loading="lazy" height="315" alt="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg"></a>
</figure>
</blockquote>
but Cirodown allows you use configurations that allow you to enter just the image basename: <code>Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg</code> which we will cover next.</div></div><div><span class="hide-hover"><a href="#p-399">ğŸ”—</a></span><div class="p" id="p-399">In order to get this to work, the recommended repository setup is:<div><ul id="ul-53">
<li id="l-152"><code>./main-repo/.git</code>: main repository at <a href="https://github.com/username/main-repo">https://github.com/username/main-repo</a></li>
<li id="l-153"><code>./main-repo/data/media/.git/</code>: media repository at <a href="https://github.com/username/main-repo-media">https://github.com/username/main-repo-media</a>, and where <code>data/</code> is gitignored.
</li>
</ul></div>The directory and repository names are not mandatory, but if you place media in <code>data/media</code> and name its repository by adding the <code>*-media</code> suffix, then <code>cirodown</code> will handle everything for you without any further configuration in <a href="#media-providers" title="internal link"><code>media-providers</code></a>.</div></div><div><span class="hide-hover"><a href="#p-400">ğŸ”—</a></span><div class="p" id="p-400">This particular documentation repository does have a different setup as can be seen from its <a href="cirodown.json">cirodown.json</a>. Then, when everything is setup correctly, we can refer to images simply as:
<div class="code-caption-container" id="code-154">
<pre><code>\Image[Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg]{provider=github}
</code></pre></div><div class="p" id="p-401">which renders as:</div><blockquote id="q-67"><figure id="image-17">
<a href="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg" loading="lazy" height="315" alt="https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg"></a>
</figure>
</blockquote>
In this example, we also needed to set <code>{provider=github}</code> explicitly since it was not set as the default image provider in our <code>cirodown.json</code>. In most projects however, all of your images will be in the default repository, so this won't be needed.</div></div><div><span class="hide-hover"><a href="#p-402">ğŸ”—</a></span><div class="p" id="p-402"><code>provider</code> must not be given when a full URL is given because we automatically detect providers from URLs, e.g.:
<div class="code-caption-container" id="code-155">
<pre><code>\Image[https://raw.githubusercontent.com/cirosantilli/media/master/Chrysanthemum_Xi_Jinping_with_black_red_liusi_added_by_Ciro_Santilli.jpg]{provider=github}
</code></pre></div>
is an error.</div></div><div><span class="hide-hover"><a href="#p-403">ğŸ”—</a></span><div class="p" id="p-403">TODO implement: <code>cirodown</code> will even automatically add and push used images in the <code>my-tutorial-media</code> repository for you <a href="#publish" title="internal link">during publishing</a>!</div></div><div><span class="hide-hover"><a href="#p-404">ğŸ”—</a></span><div class="p" id="p-404">You should then use the following rules inside <code>my-tutorial-media</code>:<div><ul id="ul-54">
<li id="l-154">give every file a very descriptive and unique name as a full English sentence</li>
<li id="l-155">never ever delete any files, nor change their content, unless it is an improvement in format that does change the information contained of the image TODO link to nice Wikimedia Commons guideline page
</li>
</ul></div>This way, even though the repositories are not fully in sync, anyone who clones the latest version of the <code>*-media</code> directory will be able to view any version of the main repository.</div></div><div><span class="hide-hover"><a href="#p-405">ğŸ”—</a></span><div class="p" id="p-405">Then, if one day the media repository ever blows up GitHub's limit, you can just migrate the images to another image server that allows arbitrary basenames, e.g. AWS, and just configure your project to use that new media base URL with the <a href="#media-providers" title="internal link"><code>media-providers</code></a> option.</div></div><div><span class="hide-hover"><a href="#p-406">ğŸ”—</a></span><div class="p" id="p-406">The reason why images should be kept in a separate repository is that images are hundreds or thousands of times larger than hand written text.</div></div><div><span class="hide-hover"><a href="#p-407">ğŸ”—</a></span><div class="p" id="p-407">Therefore, images could easily fill up the maximum repository size you are allowed: <a href="https://webapps.stackexchange.com/questions/45254/file-size-and-storage-limits-on-github#84746">https://webapps.stackexchange.com/questions/45254/file-size-and-storage-limits-on-github#84746</a> and then what will you do when GitHub comes asking you to reduce the repository size?</div></div><div><span class="hide-hover"><a href="#p-408">ğŸ”—</a></span><div class="p" id="p-408"><a href="https://git-lfs.github.com/">Git LFS</a> is one approach to deal with this, but we feel that it adds too much development overhead.</div></div><div><span class="hide-hover"><a href="#store-images-in-wikimedia-commons">ğŸ”—</a></span><h4 id="store-images-in-wikimedia-commons"><a href="#store-images-in-wikimedia-commons" title="link to this element">8.3.3. Store images in Wikimedia Commons</a><span>  | <a title="view one header per page" href="store-images-in-wikimedia-commons">ğŸ—— split</a> | <a href="#toc-store-images-in-wikimedia-commons" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#where-to-store-images" title="parent header">â†‘ parent "Where to store images"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-409">ğŸ”—</a></span><div class="p" id="p-409">Wikimedia Commons is another great possibility to upload your images to:
<div class="code-caption-container" id="code-156">
<pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg]
{source=https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg}
</code></pre></div><div class="p" id="p-410">which renders as:</div><blockquote id="q-68"><figure id="image-18">
<a href="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-18"><span class="caption-prefix">Figure 13</span></a>.  <a href="https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg">Source</a>.</figcaption>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-411">ğŸ”—</a></span><div class="p" id="p-411">Cirodown likes Wikimedia Commons so much that we automatically parse the image URL and if it is from Wikimedia Commons, automatically deduce the <code>source</code> for you. So the above image renders the same without the <code>source</code> argument:
<div class="code-caption-container" id="code-157">
<pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg]
</code></pre></div><div class="p" id="p-412">which renders as:</div><blockquote id="q-69"><figure id="image-19">
<a href="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-19"><span class="caption-prefix">Figure 14</span></a>.  <a href="https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg">Source</a>.</figcaption>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-413">ğŸ”—</a></span><div class="p" id="p-413">And like for non-Wikimedia images, you can automatically generate a <code>title</code> from the <code>src</code> by setting the <code>titleFromSrc</code> <a href="#boolean-named-arguments" title="internal link">boolean named argument</a> or if <code>title-from-src</code> is set as the default <a href="#media-providers" title="internal link">media provider</a> for the media type: 
<div class="code-caption-container" id="code-158">
<pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg]
{titleFromSrc}
</code></pre></div><div class="p" id="p-414">which renders as:</div><blockquote id="q-70"><figure id="image-gel-electrophoresis-insert-comb">
<a href="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-gel-electrophoresis-insert-comb"><span class="caption-prefix">Figure 15</span></a>. Gel electrophoresis insert comb. <a href="https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg">Source</a>.</figcaption>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-415">ğŸ”—</a></span><div class="p" id="p-415">And a quick test for a more complex thumb resized URL:
<div class="code-caption-container" id="code-159">
<pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg]
</code></pre></div><div class="p" id="p-416">which renders as:</div><blockquote id="q-71"><figure id="image-21">
<a href="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Gel_electrophoresis_insert_comb.jpg/450px-Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315"></a>
<figcaption><a href="#image-21"><span class="caption-prefix">Figure 16</span></a>.  <a href="https://commons.wikimedia.org/wiki/File:Gel_electrophoresis_insert_comb.jpg">Source</a>.</figcaption>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-417">ğŸ”—</a></span><div class="p" id="p-417">If you really absolutely want to turn off the <code>source</code>, you can explicitly set:
<div class="code-caption-container" id="code-160">
<pre><code>\Image[https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg]
{source=}
</code></pre></div><div class="p" id="p-418">which renders as:</div><blockquote id="q-72"><figure id="image-22">
<a href="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg" loading="lazy" height="315" alt="https://upload.wikimedia.org/wikipedia/commons/5/5b/Gel_electrophoresis_insert_comb.jpg"></a>
</figure>
</blockquote>
but you don't want to do that for the most commonly Wikimedia Commons used license of CC-BY+ , do you? :-)</div></div><div><span class="hide-hover"><a href="#p-419">ğŸ”—</a></span><div class="p" id="p-419">Upsides of using Wikimedia Commons for your images:<div><ul id="ul-55">
<li id="l-156">makes it easier for other writers to find and reuse your images</li>
<li id="l-157">automatically generates resized versions of the uploaded images into several common dimensions so you can pick the smallest one that fits your desired <a href="#image-height" title="internal link">image height</a> to reduce bandwidth usage</li>
<li id="l-158">if you have so many images that they would blow even the size of a <a href="#store-images-in-a-separate-media-repository" title="internal link">separate media repository</a>, this will still work
</li>
</ul></div>Downsides:<div><ul id="ul-56">
<li id="l-159">forces you to use the Creative Commons license</li>
<li id="l-160">requires the content to be educational in nature</li>
<li id="l-161">uploading a bunch of images to Wikimedia Commons does feel a bit more laborious than it should because you have to write down so much repeated metadata for them</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#image-lazy-loading">ğŸ”—</a></span><h3 id="image-lazy-loading"><a href="#image-lazy-loading" title="link to this element">8.4. Image lazy loading</a><span>  | <a title="view one header per page" href="image-lazy-loading">ğŸ—— split</a> | <a href="#toc-image-lazy-loading" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#images" title="parent header">â†‘ parent "Images"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-420">ğŸ”—</a></span><div class="p" id="p-420">We do this by default because Cirodown is meant to allow producing huge single page documents like Ciro likes it, and in this way:<div><ul id="ul-57">
<li id="l-162">images that the user is looking at will load first</li>
<li id="l-163">we save a lot of bandwidth for the user who only wants to browse one section</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-421">ğŸ”—</a></span><div class="p" id="p-421">TODO: maybe create a mechanism to disable this for the entire build with <a href="#cirodown-json" title="internal link"><code>cirodown.json</code></a>.</div></div><div><span class="hide-hover"><a href="#background-color-of-transparent-images">ğŸ”—</a></span><h3 id="background-color-of-transparent-images"><a href="#background-color-of-transparent-images" title="link to this element">8.5. Background color of transparent images</a><span>  | <a title="view one header per page" href="background-color-of-transparent-images">ğŸ—— split</a> | <a href="#toc-background-color-of-transparent-images" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#images" title="parent header">â†‘ parent "Images"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-422">ğŸ”—</a></span><div class="p" id="p-422">For the love of God, there is no standardized for SVG to set its background color without a rectangle? <a href="https://stackoverflow.com/questions/11293026/default-background-color-of-svg-root-element">https://stackoverflow.com/questions/11293026/default-background-color-of-svg-root-element</a> <code>viewport-fill</code> was just left in limbo?</div></div><div><span class="hide-hover"><a href="#p-423">ğŸ”—</a></span><div class="p" id="p-423">And as a result, many many many SVG online images that you might want to reuse just rely on white pages and don't add that background rectangle.</div></div><div><span class="hide-hover"><a href="#p-424">ğŸ”—</a></span><div class="p" id="p-424">Therefore for now we just force white background on <a href="#overview-of-files-in-this-repository" title="internal link">our default CSS</a>, which is what most SVGs will work with. Otherwise, you can lose the entire image to our default black background.</div></div><div><span class="hide-hover"><a href="#p-425">ğŸ”—</a></span><div class="p" id="p-425">Then if someone ever has an SVG that needs another background color, we can add an image attribute to set that color as a local style.</div></div><div><span class="hide-hover"><a href="#image-generators">ğŸ”—</a></span><h3 id="image-generators"><a href="#image-generators" title="link to this element">8.6. Image generators</a><span>  | <a title="view one header per page" href="image-generators">ğŸ—— split</a> | <a href="#toc-image-generators" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#images" title="parent header">â†‘ parent "Images"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-426">ğŸ”—</a></span><div class="p" id="p-426">TODO implement: mechanism where you enter a textual description of the image inside the code body, and it then converts to an image, adds to the <code>-media</code> repo and pushes all automatically. Start with dot.</div></div><div><span class="hide-hover"><a href="#p-427">ğŸ”—</a></span><div class="p" id="p-427"><a href="https://github.com/cirosantilli/cirodown/issues/40">https://github.com/cirosantilli/cirodown/issues/40</a></div></div><div><span class="hide-hover"><a href="#videos">ğŸ”—</a></span><h2 id="videos"><a href="#videos" title="link to this element">9. Videos (<code>\Video</code> and <code>\video</code>)</a><span>  | <a title="view one header per page" href="videos">ğŸ—— split</a> | <a href="#toc-videos" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-428">ğŸ”—</a></span><div class="p" id="p-428">Very analogous to <a href="#images" title="internal link">images</a>, only differences will be documented here.</div></div><div><span class="hide-hover"><a href="#p-429">ğŸ”—</a></span><div class="p" id="p-429">In the case of videos, <a href="#where-to-store-images" title="internal link">where to store images</a> becomes even more critical since videos are even larger than images, such that the following storage approaches are impractical off the bat:<div><ul id="ul-58">
<li id="l-164"><a href="#store-images-inside-the-repository-itself" title="internal link">store images inside the repository itself</a></li>
<li id="l-165"><a href="#store-images-in-a-separate-media-repository" title="internal link">store images in a separate media repository</a>
</li>
</ul></div>As a result, then <a href="https://commons.wikimedia.org">Wikimedia Commons</a> is one of the best options <a href="#store-images-in-wikimedia-commons" title="internal link">much like for images</a>:
<div class="code-caption-container" id="code-161">
<pre><code>\Video[https://upload.wikimedia.org/wikipedia/commons/8/85/Vacuum_pump_filter_cut_and_place_in_eppendorf.webm]
{id=sample-video-in-wikimedia-commons}
{title=Nice sample video stored in Wikimedia Commons.}
{start=5}
</code></pre></div><div class="p" id="p-430">which renders as:</div><blockquote id="q-73"><figure id="sample-video-in-wikimedia-commons">
<video src="https://upload.wikimedia.org/wikipedia/commons/8/85/Vacuum_pump_filter_cut_and_place_in_eppendorf.webm#t=5" height="315" preload="none" controls></video>
<figcaption><a href="#sample-video-in-wikimedia-commons"><span class="caption-prefix">Video 1</span></a>. Nice sample video stored in Wikimedia Commons. <a href="https://commons.wikimedia.org/wiki/File:Vacuum_pump_filter_cut_and_place_in_eppendorf.webm">Source</a>.</figcaption>
</figure>
</blockquote>
We also handle more complex transcoded video URLs just fine:
<div class="code-caption-container" id="code-162">
<pre><code>\Video[https://upload.wikimedia.org/wikipedia/commons/transcoded/1/19/Scientific_Industries_Inc_Vortex-Genie_2_running.ogv/Scientific_Industries_Inc_Vortex-Genie_2_running.ogv.480p.vp9.webm]
{id=sample-video-in-wikimedia-commons-transcoded}
{title=Nice sample video stored in Wikimedia Commons transcoded.}
</code></pre></div><div class="p" id="p-431">which renders as:</div><blockquote id="q-74"><figure id="sample-video-in-wikimedia-commons-transcoded">
<video src="https://upload.wikimedia.org/wikipedia/commons/transcoded/1/19/Scientific_Industries_Inc_Vortex-Genie_2_running.ogv/Scientific_Industries_Inc_Vortex-Genie_2_running.ogv.480p.vp9.webm" height="315" preload="none" controls></video>
<figcaption><a href="#sample-video-in-wikimedia-commons-transcoded"><span class="caption-prefix">Video 2</span></a>. Nice sample video stored in Wikimedia Commons transcoded. <a href="https://commons.wikimedia.org/wiki/File:Scientific_Industries_Inc_Vortex-Genie_2_running.ogv">Source</a>.</figcaption>
</figure>
</blockquote>
Commons is better than YouTube if your content is on-topic there because:<div><ul id="ul-59">
<li id="l-166">they have no ads</li>
<li id="l-167">it allows download of the videos: <a href="https://www.quora.com/Can-I-download-Creative-Commons-licensed-YouTube-videos-to-edit-them-and-use-them">https://www.quora.com/Can-I-download-Creative-Commons-licensed-YouTube-videos-to-edit-them-and-use-them</a>.</li>
<li id="l-168">it makes it easier for other users to find and re-use your videos</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-432">ğŸ”—</a></span><div class="p" id="p-432">If your video does not fit the above Wikimedia Commons requirements, YouTube could be a good bet. Cirodown <a href="https://github.com/cirosantilli/cirodown/issues/50">automatically detects YouTube URLs</a> for you, so the following should just work:
<div class="code-caption-container" id="code-163">
<pre><code>\Video[https://youtube.com/watch?v=YeFzeNAHEhU&amp;t=38]
{id=sample-video-from-youtube-implicit-youtube}
{title=Nice sample video embedded from YouTube implicit from `youtube.com` URL.}
</code></pre></div><div class="p" id="p-433">which renders as:</div><blockquote id="q-75"><figure id="sample-video-from-youtube-implicit-youtube">
<iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/YeFzeNAHEhU?start=38" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><figcaption><a href="#sample-video-from-youtube-implicit-youtube"><span class="caption-prefix">Video 3</span></a>. Nice sample video embedded from YouTube implicit from <code>youtube.com</code> URL. <a href="https://youtube.com/watch?v=YeFzeNAHEhU&amp;t=38">Source</a>.</figcaption>
</figure>
</blockquote>
The <code>youtu.be</code> domain hack URLs also work;
<div class="code-caption-container" id="code-164">
<pre><code>\Video[https://youtu.be/YeFzeNAHEhU?t=38]
{id=sample-video-from-youtube-implicit-youtu-be}
{title=Nice sample video embedded from YouTube implicit from `youtu.be` URL.}
</code></pre></div><div class="p" id="p-434">which renders as:</div><blockquote id="q-76"><figure id="sample-video-from-youtube-implicit-youtu-be">
<iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/YeFzeNAHEhU?start=38" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><figcaption><a href="#sample-video-from-youtube-implicit-youtu-be"><span class="caption-prefix">Video 4</span></a>. Nice sample video embedded from YouTube implicit from <code>youtu.be</code> URL. <a href="https://youtu.be/YeFzeNAHEhU?t=38">Source</a>.</figcaption>
</figure>
</blockquote>
Alternatively, you can reach the same result in a more explicit and minimal way by setting <code>{provider=youtube}</code> and the <code>start</code> arguments:
<div class="code-caption-container" id="code-165">
<pre><code>\Video[YeFzeNAHEhU]{provider=youtube}
{id=sample-video-from-youtube-explicit}
{title=Nice sample video embedded from YouTube with explicit `youtube` argument.}
{start=38}
</code></pre></div><div class="p" id="p-435">which renders as:</div><blockquote id="q-77"><figure id="sample-video-from-youtube-explicit">
<iframe width="560" height="315" loading="lazy" src="https://www.youtube.com/embed/YeFzeNAHEhU?start=38" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><figcaption><a href="#sample-video-from-youtube-explicit"><span class="caption-prefix">Video 5</span></a>. Nice sample video embedded from YouTube with explicit <code>youtube</code> argument. <a href="https://youtube.com/watch?v=YeFzeNAHEhU">Source</a>.</figcaption>
</figure>
</blockquote>
When the <code>youtube</code> provider is selected, the Video address should only to contain the YouTube video ID, which shows in the YouTube URL for the video as:
<div class="code-caption-container" id="code-166">
<pre><code>https://www.youtube.com/watch?v=&lt;video-id&gt;
</code></pre></div>
Remember that you can also enable the <code>youtube</code> provider by default on your <a href="#cirodown-json" title="internal link"><code>cirodown.json</code></a> with:
<div class="code-caption-container" id="code-167">
<pre><code>"media-provider" {
  "youtube": {"default-for": "video"}
}
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-436">ğŸ”—</a></span><div class="p" id="p-436">But you can also use raw video files from any location that can serve them of course, e.g. here is one stored in this repository: <a href="#sample-video-in-repository" title="internal link">Video 6. "Nice sample video stored in this repository."</a>.
<div class="code-caption-container" id="code-168">
<pre><code>\Video[Tank_man_side_hopping_in_front_of_some_tanks.mp4]
{id=sample-video-in-repository}
{title=Nice sample video stored in this repository.}
{source=https://www.youtube.com/watch?v=YeFzeNAHEhU}
{start=3}
</code></pre></div><div class="p" id="p-437">which renders as:</div><blockquote id="q-78"><figure id="sample-video-in-repository">
<video src="Tank_man_side_hopping_in_front_of_some_tanks.mp4#t=3" height="315" preload="none" controls></video>
<figcaption><a href="#sample-video-in-repository"><span class="caption-prefix">Video 6</span></a>. Nice sample video stored in this repository. <a href="https://www.youtube.com/watch?v=YeFzeNAHEhU">Source</a>.</figcaption>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-438">ğŸ”—</a></span><div class="p" id="p-438">And as for images, setting <code>titleFromSrc</code> automatically calculates a title for you:
<div class="code-caption-container" id="code-169">
<pre><code>\Video[Tank_man_side_hopping_in_front_of_some_tanks.mp4]
{titleFromSrc}
{source=https://www.youtube.com/watch?v=YeFzeNAHEhU}
</code></pre></div><div class="p" id="p-439">which renders as:</div><blockquote id="q-79"><figure id="video-tank-man-side-hopping-in-front-of-some-tanks">
<video src="Tank_man_side_hopping_in_front_of_some_tanks.mp4" height="315" preload="none" controls></video>
<figcaption><a href="#video-tank-man-side-hopping-in-front-of-some-tanks"><span class="caption-prefix">Video 7</span></a>. Tank man side hopping in front of some tanks. <a href="https://www.youtube.com/watch?v=YeFzeNAHEhU">Source</a>.</figcaption>
</figure>
</blockquote></div></div><div><span class="hide-hover"><a href="#video-start-argument">ğŸ”—</a></span><h3 id="video-start-argument"><a href="#video-start-argument" title="link to this element">9.1. Video <code>start</code> argument</a><span>  | <a title="view one header per page" href="video-start-argument">ğŸ—— split</a> | <a href="#toc-video-start-argument" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#videos" title="parent header">â†‘ parent "Videos"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-440">ğŸ”—</a></span><div class="p" id="p-440">The time to start playing the video at in seconds. Works for both <code>youtube</code> and non-Youtube videos.</div></div><div><span class="hide-hover"><a href="#video-lazy-loading">ğŸ”—</a></span><h3 id="video-lazy-loading"><a href="#video-lazy-loading" title="link to this element">9.2. Video lazy loading</a><span>  | <a title="view one header per page" href="video-lazy-loading">ğŸ—— split</a> | <a href="#toc-video-lazy-loading" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#videos" title="parent header">â†‘ parent "Videos"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-441">ğŸ”—</a></span><div class="p" id="p-441">Unlike <a href="#image-lazy-loading" title="internal link">image lazy loading</a>, we don't support video lazy loading yet because:<div><ul id="ul-60">
<li id="l-169">non-<code>youtube</code> videos use the <code>video</code> tag which has no <code>loading</code> property yet</li>
<li id="l-170"><code>youtube</code> videos are embedded with <code>iframe</code> and <code>iframe</code> has no <code>loading</code> property yet</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-442">ğŸ”—</a></span><div class="p" id="p-442">Both of this cases could be worked around with JavaScript:<div><ul id="ul-61">
<li id="l-171"><div class="p" id="p-443">non-<code>youtube</code>: set <code>src</code> from JavaScript as shown for images: <a href="https://stackoverflow.com/questions/2321907/how-do-you-make-images-load-lazily-only-when-they-are-in-the-viewport/57389607#57389607">https://stackoverflow.com/questions/2321907/how-do-you-make-images-load-lazily-only-when-they-are-in-the-viewport/57389607#57389607</a>.</div><div class="p" id="p-444">But this breaks page semantics however, we don't know how to work around that</div></li>
<li id="l-172"><code>youtube</code> videos: same as above for the <code>iframe</code>, but this should be less problematic since YouTube videos are not viewable without JavaScript anyways, and who cares about <code>iframe</code> semantics?</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#code">ğŸ”—</a></span><h2 id="code"><a href="#code" title="link to this element">10. Code (<code>`</code>, <code>``</code>, <code>\c</code> and <code>\C</code>)</a><span>  | <a title="view one header per page" href="code">ğŸ—— split</a> | <a href="#toc-code" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-445">ğŸ”—</a></span><div class="p" id="p-445">Inline code (code that should appear in the middle of a paragraph rather than on its own line) is done with a single backtick (<code>`</code>) <a href="#insane-macro-shortcuts" title="internal link">insane macro shortcut</a>:
<div class="code-caption-container" id="code-170">
<pre><code>My inline `x = 'hello\n'` is awesome.
</code></pre></div><div class="p" id="p-446">which renders as:</div><blockquote id="q-80"><div class="p" id="p-447">My inline <code>x = 'hello\n'</code> is awesome.</div></blockquote>
and block code (code that should appear on their own line) is done with two or more backticks (<code>``</code>):
<div class="code-caption-container" id="code-171">
<pre><code>``
f() {
  return 'hello\n';
}
``
</code></pre></div><div class="p" id="p-448">which renders as:</div><blockquote id="q-81"><div class="code-caption-container" id="code-172">
<pre><code>f() {
  return 'hello\n';
}
</code></pre></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-449">ğŸ”—</a></span><div class="p" id="p-449">The sane version of inline code is a lower case <code>c</code>:
<div class="code-caption-container" id="code-173">
<pre><code>My inline \c[[x = 'hello\n']] is awesome.
</code></pre></div><div class="p" id="p-450">which renders as:</div><blockquote id="q-82"><div class="p" id="p-451">My inline <code>x = 'hello\n'</code> is awesome.</div></blockquote>
and the sane version of block math is with an upper case <code>C</code>:
<div class="code-caption-container" id="code-174">
<pre><code>\C[[
f() {
  return 'hello\n';
}
]]
</code></pre></div><div class="p" id="p-452">which renders as:</div><blockquote id="q-83"><div class="code-caption-container" id="code-175">
<pre><code>f() {
  return 'hello\n';
}
</code></pre></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-453">ğŸ”—</a></span><div class="p" id="p-453">The capital vs lower case theme is also used in other elements, see: <a href="#block-vs-inline-macros" title="internal link">block vs inline macros</a>.</div></div><div><span class="hide-hover"><a href="#p-454">ğŸ”—</a></span><div class="p" id="p-454">If the content of the sane code block has many characters that you would need to <a href="#escape-characters" title="internal link">escape</a>, you will often want to use <a href="#literal-arguments" title="internal link">literal arguments</a>, which work just like the do for any other argument. For example:
<div class="code-caption-container" id="code-176">
<pre><code>\C[[[
A paragraph.

\C[[
And now, some long, long code, with lots
of chars that you would need to escape:
\ [  ] {  }
]]

A paragraph.
]]]
</code></pre></div><div class="p" id="p-455">which renders as:</div><blockquote id="q-84"><div class="code-caption-container" id="code-177">
<pre><code>A paragraph.

\C[[
And now, some long, long code, with lots
of chars that you would need to escape:
\ [  ] {  }
]]

A paragraph.
</code></pre></div></blockquote>
Note that the initial newline is skipped automatically in code blocks, just as for any other element, due to: <a href="#argument-leading-newline-removal" title="internal link">argument leading newline removal</a>, so you don't have to worry about it.</div></div><div><span class="hide-hover"><a href="#p-456">ğŸ”—</a></span><div class="p" id="p-456">The distinction between inline <code>\c</code> and block <code>\C</code> code blocks is needed because in HTML, <a href="https://stackoverflow.com/questions/5371787/can-i-have-a-pre-tag-inside-a-p-tag-in-tumblr/58603596#58603596"><code>pre</code> cannot go inside <code>P</code></a>.</div></div><div><span class="hide-hover"><a href="#p-457">ğŸ”—</a></span><div class="p" id="p-457">We could have chosen to do some magic to differentiate between them, e.g. checking if the block is the only element in a paragraph, but we decided not to do that to keep the language saner.</div></div><div><span class="hide-hover"><a href="#p-458">ğŸ”—</a></span><div class="p" id="p-458">And now a code block outside of <a href="#cirodownexample" title="internal link"><code>CirodownExample</code></a> to test how it looks directly under <a href="#toplevel" title="internal link">the <code>\Toplevel</code> implicit macro</a>:</div></div><div><span class="hide-hover"><a href="#code-178">ğŸ”—</a></span><div class="code-caption-container" id="code-178">
<pre><code>Hello
Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello Hello
Hello
</code></pre></div></div><div><span class="hide-hover"><a href="#p-459">ğŸ”—</a></span><div class="p" id="p-459">Block code can have a title, e.g. see this one: <a href="#code-my-nice-code" title="internal link">Code 1. "My nice code block."</a>:
<div class="code-caption-container" id="code-179">
<pre><code>``
ab
cd
``
{id=code-my-nice-code}
{title=My nice code block.}
</code></pre></div><div class="p" id="p-460">which renders as:</div><blockquote id="q-85"><div class="code-caption-container" id="code-my-nice-code">

<div class="caption"><a href="#code-my-nice-code"><span class="caption-prefix">Code 1</span></a>. My nice code block.</div>
<pre><code>ab
cd
</code></pre></div></blockquote></div></div><div><span class="hide-hover"><a href="#mathematics">ğŸ”—</a></span><h2 id="mathematics"><a href="#mathematics" title="link to this element">11. Mathematics (<code>$</code>, <code>$$</code>, <code>\m</code> and <code>\M</code>)</a><span>  | <a title="view one header per page" href="mathematics">ğŸ—— split</a> | <a href="#toc-mathematics" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-461">ğŸ”—</a></span><div class="p" id="p-461">Via <a href="https://katex.org/">KaTeX</a> server side, oh yes!</div></div><div><span class="hide-hover"><a href="#p-462">ğŸ”—</a></span><div class="p" id="p-462">Inline math is done with the dollar sign (<code>$</code>) <a href="#insane-macro-shortcuts" title="internal link">insane macro shortcut</a>:
<div class="code-caption-container" id="code-181">
<pre><code>My inline $\sqrt{1 + 1}$ is awesome.
</code></pre></div><div class="p" id="p-463">which renders as:</div><blockquote id="q-86"><div class="p" id="p-464">My inline <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span> is awesome.</div></blockquote>
and block math is done with two or more dollar signs (<code>$$</code>):
<div class="code-caption-container" id="code-182">
<pre><code>$$
\sqrt{1 + 1} \\
\sqrt{1 + 1}
$$
</code></pre></div><div class="p" id="p-465">which renders as:</div><blockquote id="q-87"><div class="math-container" id="equation-1"><div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#equation-1">(1)</a></div></div>
</div>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-466">ğŸ”—</a></span><div class="p" id="p-466">The sane version of inline math is a lower case <code>m</code>:
<div class="code-caption-container" id="code-183">
<pre><code>My inline \m[[\sqrt{1 + 1}]] is awesome.
</code></pre></div><div class="p" id="p-467">which renders as:</div><blockquote id="q-88"><div class="p" id="p-468">My inline <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span> is awesome.</div></blockquote>
and the sane version of block math is with an upper case <code>M</code>:
<div class="code-caption-container" id="code-184">
<pre><code>\M[[
\sqrt{1 + 1} \\
\sqrt{1 + 1}
]]
</code></pre></div><div class="p" id="p-469">which renders as:</div><blockquote id="q-89"><div class="math-container" id="equation-2"><div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#equation-2">(2)</a></div></div>
</div>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-470">ğŸ”—</a></span><div class="p" id="p-470">The capital vs lower case theme is also used in other elements, see: <a href="#block-vs-inline-macros" title="internal link">block vs inline macros</a>.</div></div><div><span class="hide-hover"><a href="#p-471">ğŸ”—</a></span><div class="p" id="p-471">In the sane syntax, <a href="#escape-characters" title="internal link">as with any other argument</a>, you have to either escape any closing square brackets <code>]</code> with a backslash <code></code>:
<div class="code-caption-container" id="code-185">
<pre><code>My inline \m[1 - \[1 + 1\] = -1] is awesome.
</code></pre></div><div class="p" id="p-472">which renders as:</div><blockquote id="q-90"><div class="p" id="p-473">My inline <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span> is awesome.</div></blockquote>
or with the equivalent double open and close:
<div class="code-caption-container" id="code-186">
<pre><code>My inline \m[[1 - [1 + 1] = -1]] is awesome.
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-474">ğŸ”—</a></span><div class="p" id="p-474">HTML escaping happens as you would expect, e.g. &lt; shows fine in:
<div class="code-caption-container" id="code-187">
<pre><code>$$
1 &lt; 2
$$
</code></pre></div><div class="p" id="p-475">which renders as:</div><blockquote id="q-91"><div class="math-container" id="equation-3"><div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></div>
<div><a href="#equation-3">(3)</a></div></div>
</div>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-476">ğŸ”—</a></span><div class="p" id="p-476">Equation IDs and titles and linking to equations works identically to <a href="#images" title="internal link">images</a>, see that section for full details. Here is one equation reference example that links to the following insane syntax equation: <a href="#equation-my-first-insane-equation" title="internal link">Equation 4. "My first insane equation."</a>:
<div class="code-caption-container" id="code-188">
<pre><code>$$
\sqrt{1 + 1}
$$
{title=My first insane equation.}
</code></pre></div><div class="p" id="p-477">which renders as:</div><blockquote id="q-92"><div class="math-container" id="equation-my-first-insane-equation"><div class="math-caption-container">
<span class="math-caption"><a href="#equation-my-first-insane-equation"><span class="caption-prefix">Equation 4</span></a>. My first insane equation.</span></div>
<div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#equation-my-first-insane-equation">(4)</a></div></div>
</div>
</blockquote>
and the sane equivalent <a href="#equation-my-first-sane-equation" title="internal link">Equation 5. "My first sane equation."</a>:
<div class="code-caption-container" id="code-189">
<pre><code>\M{title=My first sane equation.}[[
\sqrt{1 + 1}
]]
</code></pre></div><div class="p" id="p-478">which renders as:</div><blockquote id="q-93"><div class="math-container" id="equation-my-first-sane-equation"><div class="math-caption-container">
<span class="math-caption"><a href="#equation-my-first-sane-equation"><span class="caption-prefix">Equation 5</span></a>. My first sane equation.</span></div>
<div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#equation-my-first-sane-equation">(5)</a></div></div>
</div>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-479">ğŸ”—</a></span><div class="p" id="p-479">Here is a raw one just to test the formatting outside of a <code>cirodown_comment</code>:
<div class="math-container" id="equation-6"><div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.17444499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span></span></span></span></div>
<div><a href="#equation-6">(6)</a></div></div>
</div>
</div></div><div><span class="hide-hover"><a href="#math-defines-across-blocks">ğŸ”—</a></span><h3 id="math-defines-across-blocks"><a href="#math-defines-across-blocks" title="link to this element">11.1. Math defines across blocks</a><span>  | <a title="view one header per page" href="math-defines-across-blocks">ğŸ—— split</a> | <a href="#toc-math-defines-across-blocks" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#mathematics" title="parent header">â†‘ parent "Mathematics"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-480">ğŸ”—</a></span><div class="p" id="p-480">First here is an invisible block (with <code>{show=0}</code>) defining with a <code>\newcommand</code> definition after this paragraph:
<div class="code-caption-container" id="code-190">
<pre><code>$$
\newcommand{\foo}[0]{bar}
$${show=0}
</code></pre></div><div class="p" id="p-481">which renders as:</div><blockquote id="q-94"></blockquote>
We make it invisible because this block only contains KaTeX definitions, and should not render to anything.</div></div><div><span class="hide-hover"><a href="#p-482">ğŸ”—</a></span><div class="p" id="p-482">Then the second math block uses those definitions:
<div class="code-caption-container" id="code-191">
<pre><code>$$
\foo
$$
</code></pre></div><div class="p" id="p-483">which renders as:</div><blockquote id="q-95"><div class="math-container" id="equation-7"><div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span></div>
<div><a href="#equation-7">(7)</a></div></div>
</div>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-484">ğŸ”—</a></span><div class="p" id="p-484">Analogously with <code>\def</code>, definition:
<div class="code-caption-container" id="code-192">
<pre><code>$$
\gdef\foogdef{bar}
$${show=0}
</code></pre></div><div class="p" id="p-485">which renders as:</div><blockquote id="q-96"></blockquote>
and the second block using it:
<div class="code-caption-container" id="code-193">
<pre><code>$$
\foogdef
$$
</code></pre></div><div class="p" id="p-486">which renders as:</div><blockquote id="q-97"><div class="math-container" id="equation-8"><div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span></div>
<div><a href="#equation-8">(8)</a></div></div>
</div>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-487">ğŸ”—</a></span><div class="p" id="p-487">And just to test that <code>{show=1}</code> actually shows, although it is useless, and that <code>{show=0}</code> skips incrementing the equation count:
<div class="code-caption-container" id="code-194">
<pre><code>$$1 + 1$${show=1}
$$2 + 2$${show=0}
$$3 + 3$${show=1}
</code></pre></div><div class="p" id="p-488">which renders as:</div><blockquote id="q-98"><div class="p" id="p-489"><div class="math-container" id="equation-9"><div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></div>
<div><a href="#equation-9">(9)</a></div></div>
</div>


<div class="math-container" id="equation-10"><div class="math-equation">
<div><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span></div>
<div><a href="#equation-10">(10)</a></div></div>
</div>
</div></blockquote></div></div><div><span class="hide-hover"><a href="#tables">ğŸ”—</a></span><h2 id="tables"><a href="#tables" title="link to this element">12. Tables (<code>|| </code>, <code>| </code>, <code>\Table</code>, <code>\Tr</code>, <code>\Th</code> and <code>\Td</code>)</a><span>  | <a title="view one header per page" href="tables">ğŸ—— split</a> | <a href="#toc-tables" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-490">ğŸ”—</a></span><div class="p" id="p-490">The <a href="#insane-code-and-math-shortcuts" title="internal link">insane</a> syntax marks:<div><ul id="ul-62">
<li id="l-173">headers with <code>|| </code> (pipe, pipe space) at the start of a line</li>
<li id="l-174">regular cells with <code>| </code> (pipe, space) at the start of a line</li>
<li id="l-175">separates rows with double newline
</li>
</ul></div>For example:
<div class="code-caption-container" id="code-195">
<pre><code>|| Header 1
|| Header 2

| 1 1
| 1 2

| 2 1
| 2 2
</code></pre></div><div class="p" id="p-491">which renders as:</div><blockquote id="q-99"><div class="table-container" id="table-2">
<table>
<thead>
<tr id="tr-5">
<th id="th-4">Header 1</th>
<th id="th-5">Header 2</th>
</tr>
</thead>
<tbody>
<tr id="tr-6">
<td id="td-10">1 1</td>
<td id="td-11">1 2</td>
</tr>
<tr id="tr-7">
<td id="td-12">2 1</td>
<td id="td-13">2 2</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
Empty cells are allowed without the trailing space however:
<div class="code-caption-container" id="code-196">
<pre><code>| 1 1
|
| 1 3

| 2 1
|
| 2 3
</code></pre></div><div class="p" id="p-492">which renders as:</div><blockquote id="q-100"><div class="table-container" id="table-3">
<table>
<tbody>
<tr id="tr-8">
<td id="td-14">1 1</td>
<td id="td-15"></td>
<td id="td-16">1 3</td>
</tr>
<tr id="tr-9">
<td id="td-17">2 1</td>
<td id="td-18"></td>
<td id="td-19">2 3</td>
</tr>
</tbody>
</table>
</div>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-493">ğŸ”—</a></span><div class="p" id="p-493">Equivalent fully explicit version:
<div class="code-caption-container" id="code-197">
<pre><code>\Table[
\Tr[
  \Th[Header 1]
  \Th[Header 2]
]
\Tr[
  \Td[1 1]
  \Td[1 2]
]
\Tr[
  \Td[2 1]
  \Td[2 2]
]
]
</code></pre></div><div class="p" id="p-494">which renders as:</div><blockquote id="q-101"><div class="table-container" id="table-4">
<table>
<thead>
<tr id="tr-10">
<th id="th-6">Header 1</th>
<th id="th-7">Header 2</th>
</tr>
</thead>
<tbody>
<tr id="tr-11">
<td id="td-20">1 1</td>
<td id="td-21">1 2</td>
</tr>
<tr id="tr-12">
<td id="td-22">2 1</td>
<td id="td-23">2 2</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
Any white space indentation inside an explicit <code>\Tr</code> can make the code more readable, and is automatically removed from final output due to <a href="#remove-whitespace-children" title="internal link"><code>remove_whitespace_children</code> macro argument property</a> which is set for <code>\Table</code>.</div></div><div><span class="hide-hover"><a href="#p-495">ğŸ”—</a></span><div class="p" id="p-495">To pass further arguments to an implicit table such as <code>title</code> or <code>id</code>, you need to use an explicit <code>table</code> macro as in: <a href="#table-my-table" title="internal link">Table 2. "My table title."</a>.
<div class="code-caption-container" id="code-198">
<pre><code>\Table
{title=My table title.}
{id=table-my-table}
[
|| Header 1
|| Header 2

| 1 1
| 1 2

| 2 1
| 2 2
]
</code></pre></div><div class="p" id="p-496">which renders as:</div><blockquote id="q-102"><div class="table-container" id="table-my-table">
<div class="table-caption-container">
<span class="table-caption"><a href="#table-my-table"><span class="caption-prefix">Table 2</span></a>. My table title.</span></div>
<table>
<thead>
<tr id="tr-13">
<th id="th-8">Header 1</th>
<th id="th-9">Header 2</th>
</tr>
</thead>
<tbody>
<tr id="tr-14">
<td id="td-24">1 1</td>
<td id="td-25">1 2</td>
</tr>
<tr id="tr-15">
<td id="td-26">2 1</td>
<td id="td-27">2 2
</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
The rules of when the caption shows up or not are the same as described for <a href="#images" title="internal link">images</a>.</div></div><div><span class="hide-hover"><a href="#p-497">ğŸ”—</a></span><div class="p" id="p-497">Multiple source lines, including paragraphs, can be added to a single cell with insane syntax by indenting the cell with exactly two spaces just as for <a href="#lists" title="internal link">lists</a>, e.g.:
<div class="code-caption-container" id="code-199">
<pre><code>|| h1
|| h2
|| h3

  h3 2

| 11
| 12

  12 2
| 13

| 21
| 22
| 23
</code></pre></div><div class="p" id="p-498">which renders as:</div><blockquote id="q-103"><div class="table-container" id="table-6">
<table>
<thead>
<tr id="tr-16">
<th id="th-10">h1</th>
<th id="th-11">h2</th>
<th id="th-12"><div class="p" id="p-499">h3</div><div class="p" id="p-500">h3 2</div></th>
</tr>
</thead>
<tbody>
<tr id="tr-17">
<td id="td-28">11</td>
<td id="td-29"><div class="p" id="p-501">12</div><div class="p" id="p-502">12 2</div></td>
<td id="td-30">13</td>
</tr>
<tr id="tr-18">
<td id="td-31">21</td>
<td id="td-32">22</td>
<td id="td-33">23</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
Arbitrarily complex nested constructs may be used, e.g. a table inside a list inside table:
<div class="code-caption-container" id="code-200">
<pre><code>| 00
| 01

  * l1
  * l2

    | 20
    | 21

    | 30
    | 31

| 10
| 11
</code></pre></div><div class="p" id="p-503">which renders as:</div><blockquote id="q-104"><div class="table-container" id="table-7">
<table>
<tbody>
<tr id="tr-19">
<td id="td-34">00</td>
<td id="td-35"><div class="p" id="p-504">01</div><div><ul id="ul-63">
<li id="l-176">l1</li>
<li id="l-177"><div class="p" id="p-505">l2</div><div class="table-container" id="table-8">
<table>
<tbody>
<tr id="tr-20">
<td id="td-36">20</td>
<td id="td-37">21</td>
</tr>
<tr id="tr-21">
<td id="td-38">30</td>
<td id="td-39">31</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul></div></td>
</tr>
<tr id="tr-22">
<td id="td-40">10</td>
<td id="td-41">11</td>
</tr>
</tbody>
</table>
</div>
</blockquote></div></div><div><span class="hide-hover"><a href="#p-506">ğŸ”—</a></span><div class="p" id="p-506">And now a table outside of <a href="#cirodownexample" title="internal link"><code>CirodownExample</code></a> to test how it looks directly under <a href="#toplevel" title="internal link">the <code>\Toplevel</code> implicit macro</a>:</div></div><div><span class="hide-hover"><a href="#table-my-table-title">ğŸ”—</a></span><div class="table-container" id="table-my-table-title">
<div class="table-caption-container">
<span class="table-caption"><a href="#table-my-table-title"><span class="caption-prefix">Table 3</span></a>. My table title.</span></div>
<table>
<thead>
<tr id="tr-23">
<th id="th-13">Header 1</th>
<th id="th-14">Header 2</th>
</tr>
</thead>
<tbody>
<tr id="tr-24">
<td id="td-42">1 1</td>
<td id="td-43">1 2</td>
</tr>
<tr id="tr-25">
<td id="td-44">2 1</td>
<td id="td-45">2 2</td>
</tr>
</tbody>
</table>
</div>
</div><div><span class="hide-hover"><a href="#p-507">ğŸ”—</a></span><div class="p" id="p-507">And a fully insane one:</div></div><div><span class="hide-hover"><a href="#table-10">ğŸ”—</a></span><div class="table-container" id="table-10">
<table>
<thead>
<tr id="tr-26">
<th id="th-15">Header 1</th>
<th id="th-16">Header 2</th>
</tr>
</thead>
<tbody>
<tr id="tr-27">
<td id="td-46">1 1</td>
<td id="td-47">1 2</td>
</tr>
<tr id="tr-28">
<td id="td-48">2 1</td>
<td id="td-49">2 2</td>
</tr>
</tbody>
</table>
</div>
</div><div><span class="hide-hover"><a href="#table-sorting">ğŸ”—</a></span><h3 id="table-sorting"><a href="#table-sorting" title="link to this element">12.1. Table sorting</a><span>  | <a title="view one header per page" href="table-sorting">ğŸ—— split</a> | <a href="#toc-table-sorting" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#tables" title="parent header">â†‘ parent "Tables"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-508">ğŸ”—</a></span><div class="p" id="p-508">JavaScript interactive on-click table sorting is enabled by default, try it out by clicking on the header row:
<div class="code-caption-container" id="code-201">
<pre><code>|| String col
|| Integer col
|| Float col

| ab
| 2
| 10.1

| a
| 10
| 10.2

| c
| 2
| 3.4
</code></pre></div><div class="p" id="p-509">which renders as:</div><blockquote id="q-105"><div class="table-container" id="table-11">
<table>
<thead>
<tr id="tr-29">
<th id="th-17">String col</th>
<th id="th-18">Integer col</th>
<th id="th-19">Float col</th>
</tr>
</thead>
<tbody>
<tr id="tr-30">
<td id="td-50">ab</td>
<td id="td-51">2</td>
<td id="td-52">10.1</td>
</tr>
<tr id="tr-31">
<td id="td-53">a</td>
<td id="td-54">10</td>
<td id="td-55">10.2</td>
</tr>
<tr id="tr-32">
<td id="td-56">c</td>
<td id="td-57">2</td>
<td id="td-58">3.4</td>
</tr>
</tbody>
</table>
</div>
</blockquote>
Powered by: <a href="https://github.com/tristen/tablesort">https://github.com/tristen/tablesort</a></div></div><div><span class="hide-hover"><a href="#quotations">ğŸ”—</a></span><h2 id="quotations"><a href="#quotations" title="link to this element">13. Quotations (<code>\Q</code>)</a><span>  | <a title="view one header per page" href="quotations">ğŸ—— split</a> | <a href="#toc-quotations" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-510">ğŸ”—</a></span><div class="p" id="p-510">With <code>q</code>:
<div class="code-caption-container" id="code-202">
<pre><code>And so he said:

\Q[
Something very smart

And with multiple paragraphs.
]

and it was great.
</code></pre></div><div class="p" id="p-511">which renders as:</div><blockquote id="q-106"><div class="p" id="p-512">And so he said:</div><blockquote id="q-107"><div class="p" id="p-513">Something very smart</div><div class="p" id="p-514">And with multiple paragraphs.
</div></blockquote><div class="p" id="p-515">and it was great.</div></blockquote></div></div><div><span class="hide-hover"><a href="#bold">ğŸ”—</a></span><h2 id="bold"><a href="#bold" title="link to this element">14. Bold (<code>\b</code>)</a><span>  | <a title="view one header per page" href="bold">ğŸ—— split</a> | <a href="#toc-bold" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-516">ğŸ”—</a></span><div class="p" id="p-516"><div class="code-caption-container" id="code-203">
<pre><code>Some \b[bold] text.
</code></pre></div><div class="p" id="p-517">which renders as:</div><blockquote id="q-108"><div class="p" id="p-518">Some <b>bold</b> text.</div></blockquote></div></div><div><span class="hide-hover"><a href="#italic">ğŸ”—</a></span><h2 id="italic"><a href="#italic" title="link to this element">15. Italic (<code>\i</code>)</a><span>  | <a title="view one header per page" href="italic">ğŸ—— split</a> | <a href="#toc-italic" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-519">ğŸ”—</a></span><div class="p" id="p-519"><div class="code-caption-container" id="code-204">
<pre><code>Some \i[italic] text.
</code></pre></div><div class="p" id="p-520">which renders as:</div><blockquote id="q-109"><div class="p" id="p-521">Some <i>italic</i> text.</div></blockquote></div></div><div><span class="hide-hover"><a href="#passthrough">ğŸ”—</a></span><h2 id="passthrough"><a href="#passthrough" title="link to this element">16. Passthrough (<code>\Passthrough</code>)</a><span>  | <a title="view one header per page" href="passthrough">ğŸ—— split</a> | <a href="#toc-passthrough" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-522">ğŸ”—</a></span><div class="p" id="p-522">Dumps its contents directly into the rendered output.</div></div><div><span class="hide-hover"><a href="#p-523">ğŸ”—</a></span><div class="p" id="p-523">This construct is not XSS safe, see: <a href="#xss-unsafe" title="internal link">Section 20.6.1. "xss-unsafe (<code>--xss-unsafe</code>)"</a>.</div></div><div><span class="hide-hover"><a href="#p-524">ğŸ”—</a></span><div class="p" id="p-524">Here for example we define a paragraph in raw HTML:
<div class="code-caption-container" id="code-205">
<pre><code>\Passthrough[[
&lt;p&gt;Hello &lt;b&gt;raw&lt;/b&gt; HTML!&lt;/p&gt;
]]
</code></pre></div><div class="p" id="p-525">which renders as:</div><blockquote id="q-110"><div class="p" id="p-526"><p>Hello <b>raw</b> HTML!</p>
</div></blockquote></div></div><div><span class="hide-hover"><a href="#comments">ğŸ”—</a></span><h2 id="comments"><a href="#comments" title="link to this element">17. Comments</a><span>  | <a title="view one header per page" href="comments">ğŸ—— split</a> | <a href="#toc-comments" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-527">ğŸ”—</a></span><div class="p" id="p-527">The <code>Comment</code> and <code>comment</code> macros are regular macros that does not produce any output. Capitalization is explained at: <a href="#block-vs-inline-macros" title="internal link">Section 20.3. "Block vs inline macros"</a>.</div></div><div><span class="hide-hover"><a href="#p-528">ğŸ”—</a></span><div class="p" id="p-528">You will therefore mostly want to use it with a <a href="#literal-arguments" title="internal link">literal argument</a>, which will, as for any other macro, ignore any macros inside of it.
<div class="code-caption-container" id="code-206">
<pre><code>Before comment.

\Comment[[
Inside comment.
]]

After comment.
</code></pre></div><div class="p" id="p-529">which renders as:</div><blockquote id="q-111"><div class="p" id="p-530">Before comment.</div><div class="p" id="p-531">After comment.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-532">ğŸ”—</a></span><div class="p" id="p-532">And an inline one:
<div class="code-caption-container" id="code-207">
<pre><code>My inline \comment[[inside comment]] is awesome.

\comment[[inside comment]] inline at the start.
</code></pre></div><div class="p" id="p-533">which renders as:</div><blockquote id="q-112"><div class="p" id="p-534">My inline  is awesome.</div><div class="p" id="p-535"> inline at the start.</div></blockquote></div></div><div><span class="hide-hover"><a href="#jscanvasdemo">ğŸ”—</a></span><h2 id="jscanvasdemo"><a href="#jscanvasdemo" title="link to this element">18. <code>JsCanvasDemo</code></a><span>  | <a title="view one header per page" href="jscanvasdemo">ğŸ—— split</a> | <a href="#toc-jscanvasdemo" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-536">ğŸ”—</a></span><div class="p" id="p-536">The <code>JsCanvasDemo</code> macro allows you to create interactive HTML/JavaScript <a href="https://en.wikipedia.org/wiki/Canvas_element">canvas</a> demos easily.</div></div><div><span class="hide-hover"><a href="#p-537">ğŸ”—</a></span><div class="p" id="p-537">These demos:<div><ul id="ul-64">
<li id="l-178">only start running when the user scrolls over them for the first time</li>
<li id="l-179">stop automatically when they leave the viewport
</li>
</ul></div>so you can stuff as many of them as you want on a page, and they won't cause the reader's CPU to fry an egg.</div></div><div><span class="hide-hover"><a href="#p-538">ğŸ”—</a></span><div class="p" id="p-538"><div class="code-caption-container" id="code-208">
<pre><code>\JsCanvasDemo[[
new class extends CirodownCanvasDemo {
  init() {
    super.init('hello');
    this.pixel_size_input = this.addInputAfterEnable(
      'Pixel size',
      {
        'min': 1,
        'type': 'number',
        'value': 1,
      }
    );
  }
  draw() {
    var pixel_size = parseInt(this.pixel_size_input.value);
    for (var x = 0; x &lt; this.width; x += pixel_size) {
      for (var y = 0; y &lt; this.height; y += pixel_size) {
        var b = ((1.0 + Math.sin(this.time * Math.PI / 16)) / 2.0);
        this.ctx.fillStyle =
          'rgba(' +
          (x / this.width) * 255 + ',' +
          (y / this.height) * 255 + ',' +
          b * 255 +
          ',255)'
        ;
        this.ctx.fillRect(x, y, pixel_size, pixel_size);
      }
    }
  }
}
]]
</code></pre></div><div class="p" id="p-539">which renders as:</div><blockquote id="q-113"><pre class="cirodown-js-canvas-demo"><code>new class extends CirodownCanvasDemo {
  init() {
    super.init('hello');
    this.pixel_size_input = this.addInputAfterEnable(
      'Pixel size',
      {
        'min': 1,
        'type': 'number',
        'value': 1,
      }
    );
  }
  draw() {
    var pixel_size = parseInt(this.pixel_size_input.value);
    for (var x = 0; x &lt; this.width; x += pixel_size) {
      for (var y = 0; y &lt; this.height; y += pixel_size) {
        var b = ((1.0 + Math.sin(this.time * Math.PI / 16)) / 2.0);
        this.ctx.fillStyle =
          'rgba(' +
          (x / this.width) * 255 + ',' +
          (y / this.height) * 255 + ',' +
          b * 255 +
          ',255)'
        ;
        this.ctx.fillRect(x, y, pixel_size, pixel_size);
      }
    }
  }
}
</code></pre></blockquote></div></div><div><span class="hide-hover"><a href="#p-540">ğŸ”—</a></span><div class="p" id="p-540">And another one showing off some <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API">WebGL</a>:</div></div><div><span class="hide-hover"><a href="#jscanvasdemo-2">ğŸ”—</a></span><pre class="cirodown-js-canvas-demo"><code>new class extends CirodownCanvasDemo {
  init() {
    super.init('webgl', {context_type: 'webgl'});
    this.ctx.viewport(0, 0, this.ctx.drawingBufferWidth, this.ctx.drawingBufferHeight);
    this.ctx.clearColor(0.0, 0.0, 0.0, 1.0);
    this.vertexShaderSource = `
#version 100
precision highp float;
attribute float position;
void main() {
  gl_Position = vec4(position, 0.0, 0.0, 1.0);
  gl_PointSize = 64.0;
}
`;

    this.fragmentShaderSource = `
#version 100
precision mediump float;
void main() {
  gl_FragColor = vec4(0.18, 0.0, 0.34, 1.0);
}
`;
    this.vertexShader = this.ctx.createShader(this.ctx.VERTEX_SHADER);
    this.ctx.shaderSource(this.vertexShader, this.vertexShaderSource);
    this.ctx.compileShader(this.vertexShader);
    this.fragmentShader = this.ctx.createShader(this.ctx.FRAGMENT_SHADER);
    this.ctx.shaderSource(this.fragmentShader, this.fragmentShaderSource);
    this.ctx.compileShader(this.fragmentShader);
    this.program = this.ctx.createProgram();
    this.ctx.attachShader(this.program, this.vertexShader);
    this.ctx.attachShader(this.program, this.fragmentShader);
    this.ctx.linkProgram(this.program);
    this.ctx.detachShader(this.program, this.vertexShader);
    this.ctx.detachShader(this.program, this.fragmentShader);
    this.ctx.deleteShader(this.vertexShader);
    this.ctx.deleteShader(this.fragmentShader);
    if (!this.ctx.getProgramParameter(this.program, this.ctx.LINK_STATUS)) {
      console.log('error ' + this.ctx.getProgramInfoLog(this.program));
      return;
    }
    this.ctx.enableVertexAttribArray(0);
    var buffer = this.ctx.createBuffer();
    this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER, buffer);
    this.ctx.vertexAttribPointer(0, 1, this.ctx.FLOAT, false, 0, 0);
    this.ctx.useProgram(this.program);
  }
  draw() {
    this.ctx.clear(this.ctx.COLOR_BUFFER_BIT);
    this.ctx.bufferData(this.ctx.ARRAY_BUFFER, new Float32Array([Math.sin(this.time / 60.0)]), this.ctx.STATIC_DRAW);
    this.ctx.drawArrays(this.ctx.POINTS, 0, 1);
  }
}
</code></pre></div><div><span class="hide-hover"><a href="#cirodownexample">ğŸ”—</a></span><h2 id="cirodownexample"><a href="#cirodownexample" title="link to this element">19. <code>CirodownExample</code></a><span>  | <a title="view one header per page" href="cirodownexample">ğŸ—— split</a> | <a href="#toc-cirodownexample" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-541">ğŸ”—</a></span><div class="p" id="p-541">Shows both the Cirodown code and its rendered output, e.g.:
<div class="code-caption-container" id="code-209">
<pre><code>\CirodownExample[[
Some `ineline` code.
]]
</code></pre></div><div class="p" id="p-542">which renders as:</div><blockquote id="q-114"><div class="p" id="p-543"><div class="code-caption-container" id="code-210">
<pre><code>Some `ineline` code.
</code></pre></div><div class="p" id="p-544">which renders as:</div><blockquote id="q-115"><div class="p" id="p-545">Some <code>ineline</code> code.</div></blockquote></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-546">ğŸ”—</a></span><div class="p" id="p-546">Its input should be thought of as a literal code string, and it then injects the rendered output in the document.</div></div><div><span class="hide-hover"><a href="#p-547">ğŸ”—</a></span><div class="p" id="p-547">This macro is used extensively in the Cirodown documentation.</div></div><div><span class="hide-hover"><a href="#cirodown-syntax">ğŸ”—</a></span><h2 id="cirodown-syntax"><a href="#cirodown-syntax" title="link to this element">20. Cirodown syntax</a><span>  | <a title="view one header per page" href="cirodown-syntax">ğŸ—— split</a> | <a href="#toc-cirodown-syntax" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#insane-macro-shortcuts">ğŸ”—</a></span><h3 id="insane-macro-shortcuts"><a href="#insane-macro-shortcuts" title="link to this element">20.1. Insane macro shortcuts</a><span>  | <a title="view one header per page" href="insane-macro-shortcuts">ğŸ—— split</a> | <a href="#toc-insane-macro-shortcuts" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-syntax" title="parent header">â†‘ parent "Cirodown syntax"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-548">ğŸ”—</a></span><div class="p" id="p-548">Certain commonly used macros have insane macro shortcuts that do not start with backslash (<code></code>):<div><ul id="ul-65">
<li id="l-180"><a href="#paragraphs" title="internal link">paragraphs</a>: <code>\n\n</code> (double newline)</li>
<li id="l-181"><a href="#links" title="internal link">links</a>: <code>a http://exmaple.com b</code> (space followed by <code>http://</code>)</li>
<li id="l-182"><a href="#mathematics" title="internal link">mathematics</a>: <code>$</code>, described at: <a href="#insane-code-and-math-shortcuts" title="internal link">insane code and math shortcuts</a></li>
<li id="l-183"><a href="#code" title="internal link">code</a>: <code>`</code>, described at: <a href="#insane-code-and-math-shortcuts" title="internal link">insane code and math shortcuts</a></li>
<li id="l-184"><a href="#lists" title="internal link">lists</a>: <code>* </code> and <code>  </code> indentation, described at: <a href="#lists" title="internal link">lists</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-549">ğŸ”—</a></span><div class="p" id="p-549">Originally, <a href="#design-goals" title="internal link">Ciro wanted to avoid those</a>, but they just feel too good to avoid.</div></div><div><span class="hide-hover"><a href="#p-550">ğŸ”—</a></span><div class="p" id="p-550">Every insane syntax does however have an equivalent sane syntax.</div></div><div><span class="hide-hover"><a href="#p-551">ğŸ”—</a></span><div class="p" id="p-551">The style recommendation is: use the insane version which is shorter, unless you have a specific reason to use the sane version.</div></div><div><span class="hide-hover"><a href="#insane-code-and-math-shortcuts">ğŸ”—</a></span><h4 id="insane-code-and-math-shortcuts"><a href="#insane-code-and-math-shortcuts" title="link to this element">20.1.1. Insane code and math shortcuts</a><span>  | <a title="view one header per page" href="insane-code-and-math-shortcuts">ğŸ—— split</a> | <a href="#toc-insane-code-and-math-shortcuts" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#insane-macro-shortcuts" title="parent header">â†‘ parent "Insane macro shortcuts"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-552">ğŸ”—</a></span><div class="p" id="p-552">The insane code and math shortcuts work very analogously and are therefore described together in this section.</div></div><div><span class="hide-hover"><a href="#p-553">ğŸ”—</a></span><div class="p" id="p-553">The insane inline code syntax:
<div class="code-caption-container" id="code-211">
<pre><code>a `b c` d
</code></pre></div><div class="p" id="p-554">which renders as:</div><blockquote id="q-116"><div class="p" id="p-555">a <code>b c</code> d</div></blockquote>
and is equivalent to the sane:
<div class="code-caption-container" id="code-212">
<pre><code>a \c[[b c]] d
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-556">ğŸ”—</a></span><div class="p" id="p-556">The insane block code:
<div class="code-caption-container" id="code-213">
<pre><code>a

``
b c
``

d
</code></pre></div><div class="p" id="p-557">which renders as:</div><blockquote id="q-117"><div class="p" id="p-558">a</div><div class="code-caption-container" id="code-214">
<pre><code>b c
</code></pre></div><div class="p" id="p-559">d</div></blockquote>
and is equivalent to the sane:
<div class="code-caption-container" id="code-215">
<pre><code>a

\C[[
b c
]]

d
</code></pre></div></div></div><div><span class="hide-hover"><a href="#insane-macro-shortcut-extra-arguments">ğŸ”—</a></span><h4 id="insane-macro-shortcut-extra-arguments"><a href="#insane-macro-shortcut-extra-arguments" title="link to this element">20.1.2. Insane macro shortcut extra arguments</a><span>  | <a title="view one header per page" href="insane-macro-shortcut-extra-arguments">ğŸ—— split</a> | <a href="#toc-insane-macro-shortcut-extra-arguments" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#insane-macro-shortcuts" title="parent header">â†‘ parent "Insane macro shortcuts"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-560">ğŸ”—</a></span><div class="p" id="p-560">Insane arguments always work by abbreviating:<div><ul id="ul-66">
<li id="l-185">the macro name</li>
<li id="l-186">one or more of its positional arguments, which are fixed as either <a href="#literal-arguments" title="internal link">literal or non-literal</a> for a given insane construct
</li>
</ul></div>This means that you can add further arguments as usual.</div></div><div><span class="hide-hover"><a href="#p-561">ğŸ”—</a></span><div class="p" id="p-561">For example, an insane code block with an id can be written as:
<div class="code-caption-container" id="code-216">
<pre><code>a `b c`{id=ef} g
</code></pre></div>
because that is the same as:
<div class="code-caption-container" id="code-217">
<pre><code>a \c[b c]{id=ef} g
</code></pre></div><div class="p" id="p-562">which renders as:</div><blockquote id="q-118"><div class="p" id="p-563">a <code id="ef">b c</code> g</div></blockquote>
So we see that the <code>b c</code> argument is the very first argument of <code>\c</code>.</div></div><div><span class="hide-hover"><a href="#p-564">ğŸ”—</a></span><div class="p" id="p-564">Extra arguments must come after the insane opening, e.g. the following does not work:
<div class="code-caption-container" id="code-218">
<pre><code>a {id=ef}`b c` g
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-565">ğŸ”—</a></span><div class="p" id="p-565">This restriction things easy to parse for humans and machines alike.</div></div><div><span class="hide-hover"><a href="#escapes-in-insane-macro-shortcuts">ğŸ”—</a></span><h4 id="escapes-in-insane-macro-shortcuts"><a href="#escapes-in-insane-macro-shortcuts" title="link to this element">20.1.3. Escapes in insane macro shortcuts</a><span>  | <a title="view one header per page" href="escapes-in-insane-macro-shortcuts">ğŸ—— split</a> | <a href="#toc-escapes-in-insane-macro-shortcuts" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#insane-macro-shortcuts" title="parent header">â†‘ parent "Insane macro shortcuts"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-566">ğŸ”—</a></span><div class="p" id="p-566">Literal backticks and dollar signs can be produced witha backslash escape as in:
<div class="code-caption-container" id="code-219">
<pre><code>a \` \$ b
</code></pre></div><div class="p" id="p-567">which renders as:</div><blockquote id="q-119"><div class="p" id="p-568">a ` $ b</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-569">ğŸ”—</a></span><div class="p" id="p-569">It is not possible to escape backticks (<code>`</code>) inside an insane inline code, or dollar signs (<code>$</code>) in insane math.</div></div><div><span class="hide-hover"><a href="#p-570">ğŸ”—</a></span><div class="p" id="p-570">The design reason for that is because multiple backticks produce block code.</div></div><div><span class="hide-hover"><a href="#p-571">ğŸ”—</a></span><div class="p" id="p-571">The upside is that then you don't have to escape anything else, e.g. backslashes (<code></code>) are rendered literally.</div></div><div><span class="hide-hover"><a href="#p-572">ğŸ”—</a></span><div class="p" id="p-572">The only way to do it is to use the sane syntax instead:
<div class="code-caption-container" id="code-220">
<pre><code>a \c[[b ` c]] d

a \m[[\sqrt{\$4}]] d
</code></pre></div><div class="p" id="p-573">which renders as:</div><blockquote id="q-120"><div class="p" id="p-574">a <code>b ` c</code> d</div><div class="p" id="p-575">a <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.10777999999999999em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.93222em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">$</span><span class="mord">4</span></span></span><span style="top:-2.89222em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.10777999999999999em;"><span></span></span></span></span></span></span></span></span> d</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-576">ğŸ”—</a></span><div class="p" id="p-576">Within block code and math, you can just add more separators:
<div class="code-caption-container" id="code-221">
<pre><code>```
code with two backticks
``
nice
```
</code></pre></div><div class="p" id="p-577">which renders as:</div><blockquote id="q-121"><div class="code-caption-container" id="code-222">
<pre><code>code with two backticks
``
nice
</code></pre></div></blockquote></div></div><div><span class="hide-hover"><a href="#macro-argument-syntax">ğŸ”—</a></span><h3 id="macro-argument-syntax"><a href="#macro-argument-syntax" title="link to this element">20.2. Macro argument syntax</a><span>  | <a title="view one header per page" href="macro-argument-syntax">ğŸ—— split</a> | <a href="#toc-macro-argument-syntax" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-syntax" title="parent header">â†‘ parent "Cirodown syntax"</a></span></h3>
</div><div><span class="hide-hover"><a href="#positional-vs-named-arguments">ğŸ”—</a></span><h4 id="positional-vs-named-arguments"><a href="#positional-vs-named-arguments" title="link to this element">20.2.1. Positional vs named arguments (<code>[...]</code> vs <code>{key=...}</code>)</a><span>  | <a title="view one header per page" href="positional-vs-named-arguments">ğŸ—— split</a> | <a href="#toc-positional-vs-named-arguments" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#macro-argument-syntax" title="parent header">â†‘ parent "Macro argument syntax"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-578">ğŸ”—</a></span><div class="p" id="p-578">Every argument in Cirodown is either positional or named.</div></div><div><span class="hide-hover"><a href="#p-579">ğŸ”—</a></span><div class="p" id="p-579">For example, in a <a href="#headers" title="internal link">header</a> definition with an ID:
<div class="code-caption-container" id="code-223">
<pre><code>= My asdf
{id=asdf qwer}
{scope}
</code></pre></div>
which is equivalent to the <a href="#insane-macro-shortcuts" title="internal link">sane</a> version:
<div class="code-caption-container" id="code-224">
<pre><code>\H[1][My asdf]
{id=asdf qwer}
{scope}
</code></pre></div>
we have:<div><ul id="ul-67">
<li id="l-187">two positional argument: <code>[1]</code> and <code>[My asdf]</code>. Those are surrounded by square brackets <code>[]</code> and have no name</li>
<li id="l-188"><div class="p" id="p-580">two named arguments: <code>{id=asdf qwer}</code> and <code>{scope}</code>.</div><div class="p" id="p-581">The first one has name <code>id</code>, followed by the separator <code>=</code>, followed by the value <code>asdf qwer</code>.</div><div class="p" id="p-582">The separator <code>=</code> always is optional. If not given, it is equivalent to an empty value, e.g.:
<div class="code-caption-container" id="code-225">
<pre><code>{id=}
</code></pre></div>
is the same as:
<div class="code-caption-container" id="code-226">
<pre><code>{id}
</code></pre></div></div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-583">ğŸ”—</a></span><div class="p" id="p-583">You can determine if a macro is positional or named by using <a href="#help-macros" title="internal link"><code>--help-macros</code></a>. Its output contains something like:
<div class="code-caption-container" id="code-227">
<pre><code>  "h": {
    "name": "h",
    "positional_args": [
      {
        "name": "level"
      },
      {
        "name": "content"
      }
    ],
    "named_args": {
      "id": {
        "name": "id"
      }
      "scope": {
        "name": "scope"
      }
    },
</code></pre></div>
and so we see that <code>level</code> and <code>content</code> are positional arguments, and <code>id</code> and <code>scope</code> are named arguments.</div></div><div><span class="hide-hover"><a href="#p-584">ğŸ”—</a></span><div class="p" id="p-584">Generally, positional arguments are few (otherwise it would be hard to know which is which is which), and are almost always used for a given element so that they save us from typing the name too many times.</div></div><div><span class="hide-hover"><a href="#p-585">ğŸ”—</a></span><div class="p" id="p-585">The order of positional arguments must of course be fixed, but named arguments can go anywhere. We can even mix positional and named arguments however we want, although this is not advised for clarity.</div></div><div><span class="hide-hover"><a href="#p-586">ğŸ”—</a></span><div class="p" id="p-586">The following are therefore all equivalent:
<div class="code-caption-container" id="code-228">
<pre><code>\H[1][My asdf]{id=asdf qwer}{scope}
\H[1][My asdf]{scope}{id=asdf qwer}
\H{id=asdf qwer}{scope}[1][My asdf]
\H{scope}[1]{id=asdf qwer}[My asdf]
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-587">ğŸ”—</a></span><div class="p" id="p-587">Just like named arguments, positional arguments are never mandatory.</div></div><div><span class="hide-hover"><a href="#positional-argument-default-values">ğŸ”—</a></span><h5 id="positional-argument-default-values"><a href="#positional-argument-default-values" title="link to this element">20.2.1.1. Positional argument default values</a><span>  | <a title="view one header per page" href="positional-argument-default-values">ğŸ—— split</a> | <a href="#toc-positional-argument-default-values" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#positional-vs-named-arguments" title="parent header">â†‘ parent "Positional vs named arguments"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-588">ğŸ”—</a></span><div class="p" id="p-588">Most positional arguments will default to an empty string if not given.</div></div><div><span class="hide-hover"><a href="#p-589">ğŸ”—</a></span><div class="p" id="p-589">However, some positional arguments can have special effects if not given.</div></div><div><span class="hide-hover"><a href="#p-590">ğŸ”—</a></span><div class="p" id="p-590">For example, an anchor with the first positional argument present (the URL), but not the second positional argument (the link text) as in:
<div class="code-caption-container" id="code-229">
<pre><code>\a[http://example.com]
</code></pre></div><div class="p" id="p-591">which renders as:</div><blockquote id="q-122"><div class="p" id="p-592"><a href="http://example.com">http://example.com</a></div></blockquote>
has the special effect of generating automatic links as in:
<div class="code-caption-container" id="code-230">
<pre><code>\a[http://example.com][http://example.com]
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-593">ğŸ”—</a></span><div class="p" id="p-593">This can be contrasted with named aguments, for which there is always a default value, notably for <a href="#boolean-named-arguments" title="internal link">boolean named arguments</a>.</div></div><div><span class="hide-hover"><a href="#p-594">ğŸ”—</a></span><div class="p" id="p-594">See also: <a href="#links" title="internal link">links</a>.</div></div><div><span class="hide-hover"><a href="#mandatory-positional-arguments">ğŸ”—</a></span><h6 id="mandatory-positional-arguments"><a href="#mandatory-positional-arguments" title="link to this element">20.2.1.1.1. mandatory positional arguments</a><span>  | <a title="view one header per page" href="mandatory-positional-arguments">ğŸ—— split</a> | <a href="#toc-mandatory-positional-arguments" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#positional-argument-default-values" title="parent header">â†‘ parent "Positional argument default values"</a></span></h6>
</div><div><span class="hide-hover"><a href="#p-595">ğŸ”—</a></span><div class="p" id="p-595">Some positional arguments are required, and if not given cirodown reports an error and does not render the node.</div></div><div><span class="hide-hover"><a href="#p-596">ğŸ”—</a></span><div class="p" id="p-596">This is for example the <code>level</code> of a <a href="#headers" title="internal link">header</a>.</div></div><div><span class="hide-hover"><a href="#p-597">ğŸ”—</a></span><div class="p" id="p-597">These arguments marked with the <code>mandatory: true</code> <a href="#help-macros" title="internal link"><code>--help-macros</code></a> argument property.</div></div><div><span class="hide-hover"><a href="#boolean-named-arguments">ğŸ”—</a></span><h5 id="boolean-named-arguments"><a href="#boolean-named-arguments" title="link to this element">20.2.1.2. Boolean named arguments</a><span>  | <a title="view one header per page" href="boolean-named-arguments">ğŸ—— split</a> | <a href="#toc-boolean-named-arguments" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#positional-vs-named-arguments" title="parent header">â†‘ parent "Positional vs named arguments"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-598">ğŸ”—</a></span><div class="p" id="p-598">Name arguments marked in <a href="#help-macros" title="internal link"><code>--help-macros</code></a> as <code>boolean: true</code> must either:<div><ul id="ul-68">
<li id="l-189">take no value and no <code>=</code> sign, in which case the value is implicitly set to <code>1</code></li>
<li id="l-190">take value exactly <code>0</code> or <code>1</code></li>
<li id="l-191">not be given, in which case the default value is the <code>default</code> from <a href="#help-macros" title="internal link"><code>--help-macros</code></a>, or <code>0</code> if such default is not given</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-599">ğŸ”—</a></span><div class="p" id="p-599">For example, <a href="#cross-reference-full-argument" title="internal link">the <code>full</code> argument</a> of <a href="#internal-cross-references" title="internal link">internal cross references</a> is correctly written as:
<div class="code-caption-container" id="code-231">
<pre><code>\x[boolean-named-arguments]{full}
</code></pre></div><div class="p" id="p-600">which renders as:</div><blockquote id="q-123"><div class="p" id="p-601"><a href="#boolean-named-arguments" title="internal link">Section 20.2.1.2. "Boolean named arguments"</a></div></blockquote>
without the <code>=</code> sign, or equivalently:
<div class="code-caption-container" id="code-232">
<pre><code>\x[boolean-named-arguments]{full=1}
</code></pre></div><div class="p" id="p-602">which renders as:</div><blockquote id="q-124"><div class="p" id="p-603"><a href="#boolean-named-arguments" title="internal link">Section 20.2.1.2. "Boolean named arguments"</a></div></blockquote>
The <code>full=0</code> version is useful in the case of reference targets that unlike <a href="#headers" title="internal link">headers</a> expand the title on the cross reference by default, e.g. <a href="#images" title="internal link">images</a>:
<div class="code-caption-container" id="code-233">
<pre><code>\x[boolean-named-arguments]{full=1}
</code></pre></div><div class="p" id="p-604">which renders as:</div><blockquote id="q-125"><div class="p" id="p-605"><a href="#boolean-named-arguments" title="internal link">Section 20.2.1.2. "Boolean named arguments"</a></div></blockquote></div></div><div><span class="hide-hover"><a href="#p-606">ğŸ”—</a></span><div class="p" id="p-606">The name "boolean argument" is given by analogy to the <a href="https://stackoverflow.com/questions/16109358/what-is-the-correct-readonly-attribute-syntax-for-input-text-elements/24588427#24588427">"boolean attribute" concept in HTML5</a>.</div></div><div><span class="hide-hover"><a href="#javascript-interface-for-arguments">ğŸ”—</a></span><h4 id="javascript-interface-for-arguments"><a href="#javascript-interface-for-arguments" title="link to this element">20.2.2. JavaScript interface for arguments</a><span>  | <a title="view one header per page" href="javascript-interface-for-arguments">ğŸ—— split</a> | <a href="#toc-javascript-interface-for-arguments" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#macro-argument-syntax" title="parent header">â†‘ parent "Macro argument syntax"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-607">ğŸ”—</a></span><div class="p" id="p-607">The JavaScript interface sees arguments as follows:
<div class="code-caption-container" id="code-234">
<pre><code>function macro_name(args)
</code></pre></div>
where args is a dict such that:<div><ul id="ul-69">
<li id="l-192">optional arguments have the key/value pairs explicitly given on the call</li>
<li id="l-193"><div class="p" id="p-608">mandatory arguments have a key documented by the API, and the value on the call.</div><div class="p" id="p-609">For example, the link API names its arguments <code>href</code> and <code>text</code>.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#literal-arguments">ğŸ”—</a></span><h4 id="literal-arguments"><a href="#literal-arguments" title="link to this element">20.2.3. Literal arguments (<code>[[...]]</code> and <code>{{key=...}}</code>)</a><span>  | <a title="view one header per page" href="literal-arguments">ğŸ—— split</a> | <a href="#toc-literal-arguments" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#macro-argument-syntax" title="parent header">â†‘ parent "Macro argument syntax"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-610">ğŸ”—</a></span><div class="p" id="p-610">Arguments that are opened with more than one square brackets <code>[</code> or curly braces <code>{</code> are literal arguments.</div></div><div><span class="hide-hover"><a href="#p-611">ğŸ”—</a></span><div class="p" id="p-611">In literal arguments, Cirodown is not parsed, and the entire argument is considered as text until a corresponding close with the same number of characters.</div></div><div><span class="hide-hover"><a href="#p-612">ğŸ”—</a></span><div class="p" id="p-612">Therefore, you cannot have nested content, but it makes it extremely convenient to write <a href="#code" title="internal link">code</a> or <a href="#mathematics" title="internal link">mathematics</a>.</div></div><div><span class="hide-hover"><a href="#p-613">ğŸ”—</a></span><div class="p" id="p-613">For example, a multiline code block with double open and double close square brackets inside can be enclosed in triple square brackets:
<div class="code-caption-container" id="code-235">
<pre><code>A literal argument looks like this in Cirodown:

\C[[
\C[
A multiline

code block.
]
]]

And another paragraph.
</code></pre></div><div class="p" id="p-614">which renders as:</div><blockquote id="q-126"><div class="p" id="p-615">A literal argument looks like this in Cirodown:</div><div class="code-caption-container" id="code-236">
<pre><code>\C[
A multiline

code block.
]
</code></pre></div><div class="p" id="p-616">And another paragraph.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-617">ğŸ”—</a></span><div class="p" id="p-617">The same works for inline code:
<div class="code-caption-container" id="code-237">
<pre><code>The program \c[[puts("]");]] is very complex.
</code></pre></div><div class="p" id="p-618">which renders as:</div><blockquote id="q-127"><div class="p" id="p-619">The program <code>puts("]");</code> is very complex.</div></blockquote></div></div><div><span class="hide-hover"><a href="#p-620">ğŸ”—</a></span><div class="p" id="p-620">Within literal blocks, only one thing can be escaped with backslashes are:<div><ul id="ul-70">
<li id="l-194">leading open square bracket <code>[</code></li>
<li id="l-195">trailing close square bracket <code>]</code></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-621">ğŸ”—</a></span><div class="p" id="p-621">The rule is that:<div><ul id="ul-71">
<li id="l-196">if the first character of a literal argument is a sequence of backslashes (<code></code>), and it is followed by another argument open character (e.g. <code>[</code>, remove the first <code></code> and treat the other characters as regular text</li>
<li id="l-197">if the last character of a literal argument is a <code></code>, ignore it and treat the following closing character (e.g. <code>]</code>) as regular text</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-622">ğŸ”—</a></span><div class="p" id="p-622">See the following open input/output pairs:
<div class="code-caption-container" id="code-238">
<pre><code>\c[[\ b]]
&lt;code&gt;\ b&lt;/code&gt;

\c[[\a b]]
&lt;code&gt;\a b&lt;/code&gt;

\c[[\[ b]]
&lt;code&gt;[ b&lt;/code&gt;

\c[[\\[ b]]
&lt;code&gt;\[ b&lt;/code&gt;

\c[[\\\[ b]]
&lt;code&gt;\\[ b&lt;/code&gt;
</code></pre></div>
and close examples:
<div class="code-caption-container" id="code-239">
<pre><code>\c[[a \]]
&lt;code&gt;a \&lt;/code&gt;

\c[[a \]]]
&lt;code&gt;a ]&lt;/code&gt;

\c[[a \\]]]
&lt;code&gt;a \]&lt;/code&gt;
</code></pre></div></div></div><div><span class="hide-hover"><a href="#argument-leading-newline-removal">ğŸ”—</a></span><h4 id="argument-leading-newline-removal"><a href="#argument-leading-newline-removal" title="link to this element">20.2.4. Argument leading newline removal</a><span>  | <a title="view one header per page" href="argument-leading-newline-removal">ğŸ—— split</a> | <a href="#toc-argument-leading-newline-removal" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#macro-argument-syntax" title="parent header">â†‘ parent "Macro argument syntax"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-623">ğŸ”—</a></span><div class="p" id="p-623">If the very first character of an argument is a newline, then that character is ignored if it would be part of a regular plaintext node.</div></div><div><span class="hide-hover"><a href="#p-624">ğŸ”—</a></span><div class="p" id="p-624">For example:
<div class="code-caption-container" id="code-240">
<pre><code>\C[[
a

b
]]
</code></pre></div>
generates something like:
<div class="code-caption-container" id="code-241">
<pre><code>&lt;pre&gt;&lt;code&gt;a

b
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div>
instead of:
<div class="code-caption-container" id="code-242">
<pre><code>&lt;pre&gt;&lt;code&gt;
a

b
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div>
This is extremely convenient to improve the readability of code blocks and similar constructs.</div></div><div><span class="hide-hover"><a href="#p-625">ğŸ”—</a></span><div class="p" id="p-625">The newline is however considered if it would be part of some <a href="#insane-macro-shortcuts" title="internal link">insane macro shortcut</a>. For example, we can start an <a href="#lists" title="internal link">insane list</a> inside a <a href="#quotations" title="internal link">quotation</a> as in:
<div class="code-caption-container" id="code-243">
<pre><code>\Q[
* a
* b
]
</code></pre></div><div class="p" id="p-626">which renders as:</div><blockquote id="q-128"><blockquote id="q-129"><div><ul id="ul-72">
<li id="l-198">a</li>
<li id="l-199">b
</li>
</ul></div></blockquote></blockquote>
where the insane list requires a leading newline <code>\n* </code> to work. That newline is not ignored, even though it comes immediately after the <code>\Q[</code> opening.</div></div><div><span class="hide-hover"><a href="#argument-newlines-between-arguments-removal">ğŸ”—</a></span><h4 id="argument-newlines-between-arguments-removal"><a href="#argument-newlines-between-arguments-removal" title="link to this element">20.2.5. Argument newlines between arguments removal</a><span>  | <a title="view one header per page" href="argument-newlines-between-arguments-removal">ğŸ—— split</a> | <a href="#toc-argument-newlines-between-arguments-removal" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#macro-argument-syntax" title="parent header">â†‘ parent "Macro argument syntax"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-627">ğŸ”—</a></span><div class="p" id="p-627">The macro name and the first argument, and two consecutive arguments, can be optionally separated by exactly one newline character, e.g.:
<div class="code-caption-container" id="code-244">
<pre><code>\H[2]
{scope}
[Design goals]
</code></pre></div>
is equivalent to:
<div class="code-caption-container" id="code-245">
<pre><code>\H[2]{scope}[Design goals]
</code></pre></div>
and this non-recommended mixed style:
<div class="code-caption-container" id="code-246">
<pre><code>\H[2]{scope}
[Design goals]
</code></pre></div>
This allows to greatly improve the readability of long argument lists by having them one per line.</div></div><div><span class="hide-hover"><a href="#p-628">ğŸ”—</a></span><div class="p" id="p-628">There is one exception to this however: inside an <a href="#headers" title="internal link">insane header</a>, any newline is interpreted as the end of the insane header. This is why the following works as expected:
<div class="code-caption-container" id="code-247">
<pre><code>== My header 2 `some code`
{id=asdf}
</code></pre></div>
and the <code>id</code> gets assigned to the header rather than the trailing code element.</div></div><div><span class="hide-hover"><a href="#escape-characters">ğŸ”—</a></span><h4 id="escape-characters"><a href="#escape-characters" title="link to this element">20.2.6. Escape characters</a><span>  | <a title="view one header per page" href="escape-characters">ğŸ—— split</a> | <a href="#toc-escape-characters" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#macro-argument-syntax" title="parent header">â†‘ parent "Macro argument syntax"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-629">ğŸ”—</a></span><div class="p" id="p-629">For <a href="#literal-arguments" title="internal link">non-literal macro arguments</a>, you have to use a backslash to escape:<div><ul id="ul-73">
<li id="l-200"><code></code>: backslashes start macros</li>
<li id="l-201"><code></code> and <code></code>: open and close <a href="#positional-vs-named-arguments" title="internal link">positional macro arguments</a></li>
<li id="l-202"><code></code> and <code></code>: open and close <a href="#positional-vs-named-arguments" title="internal link">optional macro arguments</a></li>
<li id="l-203"><code>$</code> (dollar sign): <a href="#insane-macro-shortcuts" title="internal link">insane macro shortcut</a> for <a href="#mathematics" title="internal link">mathematics</a></li>
<li id="l-204"><code>`</code> (backtick): <a href="#insane-macro-shortcuts" title="internal link">insane macro shortcut</a> for <a href="#code" title="internal link">code</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-630">ğŸ”—</a></span><div class="p" id="p-630">The escape rules for literal arguments are described at: <a href="#literal-arguments" title="internal link">Section 20.2.3. "Literal arguments (<code>[[...]]</code> and <code>{{key=...}}</code>)"</a>.</div></div><div><span class="hide-hover"><a href="#p-631">ğŸ”—</a></span><div class="p" id="p-631">This is good for short arguments of regular text, but for longer blocks of <a href="#code" title="internal link">code</a> or <a href="#mathematics" title="internal link">mathematics</a>, you may want to use <a href="#literal-arguments" title="internal link">literal arguments</a></div></div><div><span class="hide-hover"><a href="#auto-parent">ğŸ”—</a></span><h4 id="auto-parent"><a href="#auto-parent" title="link to this element">20.2.7. <code>auto_parent</code> macro property</a><span>  | <a title="view one header per page" href="auto-parent">ğŸ—— split</a> | <a href="#toc-auto-parent" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#macro-argument-syntax" title="parent header">â†‘ parent "Macro argument syntax"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-632">ğŸ”—</a></span><div class="p" id="p-632">Some sequences of macros such as <code>l</code> from <a href="#lists" title="internal link">lists</a> and <code>tr</code> from <a href="#tables" title="internal link">tables</a> automatically generate implicit parents, e.g.:
<div class="code-caption-container" id="code-248">
<pre><code>\Ul[
\L[aa]
\L[bb]
]
</code></pre></div>
parses exactly like:
<div class="code-caption-container" id="code-249">
<pre><code>\L[aa]
\L[bb]
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-633">ğŸ”—</a></span><div class="p" id="p-633">The children are always added as arguments of the <code>content</code> argument of the implicit parent.</div></div><div><span class="hide-hover"><a href="#p-634">ğŸ”—</a></span><div class="p" id="p-634">If present, the <code>auto_parent</code> macro property determines which auto-parent gets added to those macros.</div></div><div><span class="hide-hover"><a href="#remove-whitespace-children">ğŸ”—</a></span><h4 id="remove-whitespace-children"><a href="#remove-whitespace-children" title="link to this element">20.2.8. <code>remove_whitespace_children</code> macro argument property</a><span>  | <a title="view one header per page" href="remove-whitespace-children">ğŸ—— split</a> | <a href="#toc-remove-whitespace-children" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#macro-argument-syntax" title="parent header">â†‘ parent "Macro argument syntax"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-635">ğŸ”—</a></span><div class="p" id="p-635">In HTML, certain elements such as <code>&lt;ul&gt;</code> cannot have any <code>text</code> nodes in them, and any whitespace is ignored, see <a href="https://stackoverflow.com/questions/2161337/can-we-use-any-other-tag-inside-ul-along-with-li/60885802#60885802">https://stackoverflow.com/questions/2161337/can-we-use-any-other-tag-inside-ul-along-with-li/60885802#60885802</a>.</div></div><div><span class="hide-hover"><a href="#p-636">ğŸ”—</a></span><div class="p" id="p-636">A similar concept applies to Cirodown, e.g.:
<div class="code-caption-container" id="code-250">
<pre><code>\Ul[
\L[aa]
\L[bb]
]
</code></pre></div>
does not parse as:
<div class="code-caption-container" id="code-251">
<pre><code>\Ul[\L[aa]&lt;NEWLINE&gt;\L[bb]&lt;NEWLINE&gt;]
</code></pre></div>
but rather as:
<div class="code-caption-container" id="code-252">
<pre><code>\Ul[\L[aa]\L[bb]]
</code></pre></div>
because the <code>content</code> argument of <code>ul</code> is marked with <code>remove_whitespace_children</code> and automatically removes any whitespace children (such as a newline) as a result.</div></div><div><span class="hide-hover"><a href="#p-637">ğŸ”—</a></span><div class="p" id="p-637">This also applies to consecutive sequences of <a href="#auto-parent" title="internal link"><code>auto_parent</code> macro property</a> macros, e.g.:
<div class="code-caption-container" id="code-253">
<pre><code>\L[aa]
\L[bb]
</code></pre></div>
also does not include the newline between the list items.</div></div><div><span class="hide-hover"><a href="#p-638">ğŸ”—</a></span><div class="p" id="p-638">The definition of whitespace is the same as the ASCII whitespace definition of HTML5: <code> \r\n\f\t</code>.</div></div><div><span class="hide-hover"><a href="#block-vs-inline-macros">ğŸ”—</a></span><h3 id="block-vs-inline-macros"><a href="#block-vs-inline-macros" title="link to this element">20.3. Block vs inline macros</a><span>  | <a title="view one header per page" href="block-vs-inline-macros">ğŸ—— split</a> | <a href="#toc-block-vs-inline-macros" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-syntax" title="parent header">â†‘ parent "Cirodown syntax"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-639">ğŸ”—</a></span><div class="p" id="p-639">Every Cirodown macro is either block or inline:<div><ul id="ul-74">
<li id="l-205"><div class="p" id="p-640">a block macro is one that takes up the entire line when rendered</div><div class="p" id="p-641">All block macros start with a capital letter, e.g. <code>\H</code> for <a href="#headers" title="internal link">headers</a>.</div></li>
<li id="l-206"><div class="p" id="p-642">and an inline macro is one that goes inside of a line.</div><div class="p" id="p-643">Every inline macro starts with a lowercase letter e.g. <code>\a</code> for <a href="#links" title="internal link">links</a>.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-644">ğŸ”—</a></span><div class="p" id="p-644">Some macros have both a block and an inline version, and like any other macro, those are differentiated by capitalization:<div><ul id="ul-75">
<li id="l-207"><a href="#mathematics" title="internal link">mathematics</a></li>
<li id="l-208"><a href="#code" title="internal link">code</a></li>
<li id="l-209"><a href="#comments" title="internal link">comments</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#known-url-protocols">ğŸ”—</a></span><h3 id="known-url-protocols"><a href="#known-url-protocols" title="link to this element">20.4. Known URL protocols</a><span>  | <a title="view one header per page" href="known-url-protocols">ğŸ—— split</a> | <a href="#toc-known-url-protocols" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-syntax" title="parent header">â†‘ parent "Cirodown syntax"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-645">ğŸ”—</a></span><div class="p" id="p-645">Certain common URL protocols are treated as "known" by Cirodown, and when found they have special effects in some parts of the conversion.</div></div><div><span class="hide-hover"><a href="#p-646">ğŸ”—</a></span><div class="p" id="p-646">The currently known protocols are:<div><ul id="ul-76">
<li id="l-210"><code>http://</code></li>
<li id="l-211"><code>https://</code></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-647">ğŸ”—</a></span><div class="p" id="p-647">Effects of known protocols include:<div><ul id="ul-77">
<li id="l-212"><a href="#insane-link-parsing-rules" title="internal link">insane link parsing rules</a>: mark the start of insane links</li>
<li id="l-213"><a href="#store-images-in-a-separate-media-repository" title="internal link">store images in a separate media repository</a>: mark an image <code>src</code> to ignore <code>provider</code></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#javascript-case-conversion">ğŸ”—</a></span><h3 id="javascript-case-conversion"><a href="#javascript-case-conversion" title="link to this element">20.5. JavaScript case conversion</a><span>  | <a title="view one header per page" href="javascript-case-conversion">ğŸ—— split</a> | <a href="#toc-javascript-case-conversion" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-syntax" title="parent header">â†‘ parent "Cirodown syntax"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-648">ğŸ”—</a></span><div class="p" id="p-648">Some parts of Cirodown use "JavaScript case conversion".</div></div><div><span class="hide-hover"><a href="#p-649">ğŸ”—</a></span><div class="p" id="p-649">This means that the conversion is done as if by the <code>toLowerCase</code>/<code>toUpperCase</code> functions.</div></div><div><span class="hide-hover"><a href="#p-650">ğŸ”—</a></span><div class="p" id="p-650">The most important fact about those functions is that they do convert non-ASCII Unicode capitalization, e.g. between <code>Ã‰</code> and <code>Ã©</code>:<div><ul id="ul-78">
<li id="l-214"><a href="https://stackoverflow.com/questions/3590833/does-javascript-string-tolowercase-follow-unicode-standards-in-case-conversion">https://stackoverflow.com/questions/3590833/does-javascript-string-tolowercase-follow-unicode-standards-in-case-conversion</a></li>
<li id="l-215"><a href="https://stackoverflow.com/questions/929079/unicode-lowercase-characters">https://stackoverflow.com/questions/929079/unicode-lowercase-characters</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-651">ğŸ”—</a></span><div class="p" id="p-651">These conversions are also specified in the Unicode standard.</div></div><div><span class="hide-hover"><a href="#security">ğŸ”—</a></span><h3 id="security"><a href="#security" title="link to this element">20.6. Security</a><span>  | <a title="view one header per page" href="security">ğŸ—— split</a> | <a href="#toc-security" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-syntax" title="parent header">â†‘ parent "Cirodown syntax"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-652">ğŸ”—</a></span><div class="p" id="p-652">Cirodown HTML output is designed to be XSS safe by default, any non-XSS safe constructs must be enabled with a non-default flag or setting, see: <a href="#xss-unsafe" title="internal link">xss-unsafe</a>.</div></div><div><span class="hide-hover"><a href="#p-653">ğŸ”—</a></span><div class="p" id="p-653">Of course, we are walking on eggs, and this is hard to assert, so the best thing to do later on will be to parse the output e.g. with <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMParser"><code>DOMParser</code></a> to ensure that it is valid and does not contain any <code>script</code> tags, but it is not as simple as that: <a href="https://stackoverflow.com/questions/37435077/execute-javascript-for-xss-without-script-tags/61588322#61588322">https://stackoverflow.com/questions/37435077/execute-javascript-for-xss-without-script-tags/61588322#61588322</a></div></div><div><span class="hide-hover"><a href="#p-654">ğŸ”—</a></span><div class="p" id="p-654">About server safety, we have to think about it. E.g. stuff like <a href="#prepublish" title="internal link"><code>prepublish</code></a> already allows ACE.</div></div><div><span class="hide-hover"><a href="#xss-unsafe">ğŸ”—</a></span><h4 id="xss-unsafe"><a href="#xss-unsafe" title="link to this element">20.6.1. xss-unsafe (<code>--xss-unsafe</code>)</a><span>  | <a title="view one header per page" href="xss-unsafe">ğŸ—— split</a> | <a href="#toc-xss-unsafe" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#security" title="parent header">â†‘ parent "Security"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-655">ğŸ”—</a></span><div class="p" id="p-655">XSS unsafe constructs lead to errors by default. XSS unsafe constructs can be allowed <a href="#cirodown-executable" title="internal link">from the command</a> line with:
<div class="code-caption-container" id="code-254">
<pre><code>./cirodown --xss-unsafe
</code></pre></div>
or from the <a href="#cirodown-json" title="internal link"><code>cirodown.json</code></a> file with an entry of form:
<div class="code-caption-container" id="code-255">
<pre><code>"xss-unsafe": true
</code></pre></div></div></div><div><span class="hide-hover"><a href="#tooling">ğŸ”—</a></span><h2 id="tooling"><a href="#tooling" title="link to this element">21. Tooling</a><span>  | <a title="view one header per page" href="tooling">ğŸ—— split</a> | <a href="#toc-tooling" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-656">ğŸ”—</a></span><div class="p" id="p-656">Unlike all languages which rely on ad-hoc tooling, we will support every single tool that is required and feasible to be in this repository in this repository, in a centralized manner.</div></div><div><span class="hide-hover"><a href="#cirodown-executable">ğŸ”—</a></span><h3 id="cirodown-executable"><a href="#cirodown-executable" title="link to this element">21.1. <code>cirodown</code> executable</a><span>  | <a title="view one header per page" href="cirodown-executable">ğŸ—— split</a> | <a href="#toc-cirodown-executable" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#tooling" title="parent header">â†‘ parent "Tooling"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-657">ğŸ”—</a></span><div class="p" id="p-657">Convert a <code>.ciro</code> file to HTML and output the HTML to a file with the same basename without extension, e.g.:
<div class="code-caption-container" id="code-256">
<pre><code>cirodown hello.ciro
firefox hello.html
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-658">ğŸ”—</a></span><div class="p" id="p-658">Files named <code>README.ciro</code> are automatically converted to <code>index.html</code> so that they will show on both GitHub READMEs and at the website's base address:
<div class="code-caption-container" id="code-257">
<pre><code>cirodown README.ciro
firefox hello.html
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-659">ğŸ”—</a></span><div class="p" id="p-659">Convert all <code>.ciro</code> files in a directory to HTML files next to each corresponding <code>.ciro</code> file, e.g. <code>somefile.ciro</code> to <code>somefile.html</code>:
<div class="code-caption-container" id="code-258">
<pre><code>cirodown .
</code></pre></div>
The HTML output files are placed right next to each corresponding <code>.ciro</code>.</div></div><div><span class="hide-hover"><a href="#p-660">ğŸ”—</a></span><div class="p" id="p-660">The output file can be selected explicitly with: <a href="#outfile" title="internal link"><code>--outfile &lt;outfie&gt;</code></a>.</div></div><div><span class="hide-hover"><a href="#p-661">ğŸ”—</a></span><div class="p" id="p-661">Output to stdout instead of saving it to a file:
<div class="code-caption-container" id="code-259">
<pre><code>cirodown --stdout README.ciro
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-662">ğŸ”—</a></span><div class="p" id="p-662">In order to resolve <a href="#internal-cross-file-references" title="internal link">internal cross file references</a>, this actually does two passes:<div><ul id="ul-79">
<li id="l-216">first an ID extraction pass, which parses all inputs and dumps their IDs to the ID database</li>
<li id="l-217">then a second render pass, which uses the IDs in the ID database</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-663">ğŸ”—</a></span><div class="p" id="p-663">Convert a <code>.ciro</code> file from stdin to HTML and output the contents of <code>&lt;body&gt;</code> to stdout:
<div class="code-caption-container" id="code-260">
<pre><code>printf 'ab\ncd\n' | cirodown --body-only
</code></pre></div></div></div><div><span class="hide-hover"><a href="#index-files">ğŸ”—</a></span><h4 id="index-files"><a href="#index-files" title="link to this element">21.1.1. Index files</a><span>  | <a title="view one header per page" href="index-files">ğŸ—— split</a> | <a href="#toc-index-files" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable" title="parent header">â†‘ parent "<code>cirodown</code> executable"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-664">ğŸ”—</a></span><div class="p" id="p-664">The following basenames are considered "index files":<div><ul id="ul-80">
<li id="l-218"><code>README.ciro</code></li>
<li id="l-219"><code>index.ciro</code></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-665">ğŸ”—</a></span><div class="p" id="p-665">Those basenames have the following magic properties:<div><ul id="ul-81">
<li id="l-220">the default output file name for an index file in HTML output is always <code>index.html</code>, including that of <code>README.ciro</code>. This way it will appear on both the root of the HTML output and on the GitHub home page once GitHub adds Cirodown support.</li>
<li id="l-221">the default <a href="#the-toplevel-header" title="internal link">toplevel header</a> ID of an index files is derived from the parent directory basename rather than from the source file basename</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#the-toplevel-index-file">ğŸ”—</a></span><h5 id="the-toplevel-index-file"><a href="#the-toplevel-index-file" title="link to this element">21.1.1.1. The toplevel index file</a><span>  | <a title="view one header per page" href="the-toplevel-index-file">ğŸ—— split</a> | <a href="#toc-the-toplevel-index-file" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#index-files" title="parent header">â†‘ parent "Index files"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-666">ğŸ”—</a></span><div class="p" id="p-666">The toplevel index file is the index file that is present on the root directory of a Cirodown project.</div></div><div><span class="hide-hover"><a href="#p-667">ğŸ”—</a></span><div class="p" id="p-667">This directory is determined by checking the presence of a <a href="#cirodown-json" title="internal link"><code>cirodown.json</code></a> file.</div></div><div><span class="hide-hover"><a href="#p-668">ğŸ”—</a></span><div class="p" id="p-668">We were tempted to not require the <code>cirodown.json</code> check and just use the input directory instead, but this would lead to subdir builds having different toplevel IDs, which is not desirable. For example, if we have a file structure:</div></div><div><span class="hide-hover"><a href="#ul-82">ğŸ”—</a></span><div><ul id="ul-82">
<li id="l-222"><code>cirodown.json</code></li>
<li id="l-223"><code>subdir/myfile.ciro</code></li>
</ul></div></div><div><span class="hide-hover"><a href="#p-669">ğŸ”—</a></span><div class="p" id="p-669">then all IDs under <code>myfile.ciro</code> are prefixed with <code>subdir</code> (note that this could also be achieved with <a href="#scope" title="internal link">header <code>scope</code> argument</a>).</div></div><div><span class="hide-hover"><a href="#p-670">ğŸ”—</a></span><div class="p" id="p-670">So for this reason users should basically always add a <code>cirodown.json</code> to their projects.</div></div><div><span class="hide-hover"><a href="#p-671">ğŸ”—</a></span><div class="p" id="p-671">Being the toplevel index file has the following implications:<div><ul id="ul-83">
<li id="l-224">its ID is derived fromthe header itself, not the directory, see also: <a href="#the-id-of-the-first-header-is-derived-from-the-filename" title="internal link">the ID of the first header is derived from the filename</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#cirodown-executable-options">ğŸ”—</a></span><h4 id="cirodown-executable-options"><a href="#cirodown-executable-options" title="link to this element">21.1.2. <code>cirodown</code> executable options</a><span>  | <a title="view one header per page" href="cirodown-executable-options">ğŸ—— split</a> | <a href="#toc-cirodown-executable-options" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable" title="parent header">â†‘ parent "<code>cirodown</code> executable"</a></span></h4>
</div><div><span class="hide-hover"><a href="#dry-run">ğŸ”—</a></span><h5 id="dry-run"><a href="#dry-run" title="link to this element">21.1.2.1. <code>--dry-run</code></a><span>  | <a title="view one header per page" href="dry-run">ğŸ—— split</a> | <a href="#toc-dry-run" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-672">ğŸ”—</a></span><div class="p" id="p-672">The <code>--dry-run</code> option is a good way to debug <a href="#publish" title="internal link"><code>--publish</code> option</a>, as it builds the publish output files without doing any git commands that would be annoying to revert. So after doing:
<div class="code-caption-container" id="code-261">
<pre><code>./cirodown --dry-run --publish .
</code></pre></div>
you can just go and inspect the generated HTML to see what would get pushed at:
<div class="code-caption-container" id="code-262">
<pre><code>cd out/publish/out/publish/
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-673">ğŸ”—</a></span><div class="p" id="p-673">Inspiration: <a href="https://github.com/cirosantilli/linux-kernel-module-cheat/tree/6d0a900f4c3c15e65d850f9d29d63315a6f976bf#dry-run-to-get-commands-for-your-project">https://github.com/cirosantilli/linux-kernel-module-cheat/tree/6d0a900f4c3c15e65d850f9d29d63315a6f976bf#dry-run-to-get-commands-for-your-project</a></div></div><div><span class="hide-hover"><a href="#embed-includes">ğŸ”—</a></span><h5 id="embed-includes"><a href="#embed-includes" title="link to this element">21.1.2.2. <code>--embed-includes</code></a><span>  | <a title="view one header per page" href="embed-includes">ğŸ—— split</a> | <a href="#toc-embed-includes" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-674">ğŸ”—</a></span><div class="p" id="p-674">Makes <a href="#includes" title="internal link">includes</a> render the included content in the same output file as the include is located, instead of the default behaviour of creating links.</div></div><div><span class="hide-hover"><a href="#p-675">ğŸ”—</a></span><div class="p" id="p-675">In addition to this:<div><ul id="ul-84">
<li id="l-225"><div class="p" id="p-676"><a href="#internal-cross-file-references" title="internal link">internal cross file references</a> are disabled, and the cross file ID database does not get updated.</div><div class="p" id="p-677">It should be possible to work around this, but we are starting with the simplest implementation that forbids it.</div><div class="p" id="p-678">The problem those cause is that the IDs of included headers show as duplicate IDs of those in the ID database.</div><div class="p" id="p-679">This should be OK to start with because the more common use case with <code>--html-sinle-page</code> is that of including all headers in a single document.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-680">ğŸ”—</a></span><div class="p" id="p-680">Otherwise, <code>include</code> only adds the headers of the other file to the table of contents of the current one, but not the body of the other file. The ToC entries then point to the headers of the included external files.</div></div><div><span class="hide-hover"><a href="#p-681">ğŸ”—</a></span><div class="p" id="p-681">You may want to use this option together with <a href="#embed-resources" title="internal link"><code>--embed-resources</code></a> to produce fully self-contained individual HTML files for your project.</div></div><div><span class="hide-hover"><a href="#embed-resources">ğŸ”—</a></span><h5 id="embed-resources"><a href="#embed-resources" title="link to this element">21.1.2.3. <code>--embed-resources</code></a><span>  | <a title="view one header per page" href="embed-resources">ğŸ—— split</a> | <a href="#toc-embed-resources" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-682">ğŸ”—</a></span><div class="p" id="p-682">Embed as many external resources such as images and CSS as possible into the HTML output files, rather than linking to external resources.</div></div><div><span class="hide-hover"><a href="#p-683">ğŸ”—</a></span><div class="p" id="p-683">The use case for this option is to produce a single HTML file for an entire build that is fully self contained, and can therefore be given to consumers and viewed offline, much like a PDF.</div></div><div><span class="hide-hover"><a href="#p-684">ğŸ”—</a></span><div class="p" id="p-684">Examples of embeddings done:<div><ul id="ul-85">
<li id="l-226"><div class="p" id="p-685">CSS and JavaScript are copy pasted in place into the HTML.</div><div class="p" id="p-686">The default built-in CSS and JavaScript files used by Cirodown (e.g. the KaTeX CSS <a href="#mathematics" title="internal link">used for mathematics</a>) are currently all automatically downloaded as NPM package dependencies to cirodown</div><div class="p" id="p-687">Without <code>--embed-resources</code>, those CSS and JavaScript use their main cloud CDN URLs, and therefore require Internet connection to view the generated documents.</div><div class="p" id="p-688">The embedded version of the document can be viewed offline however.</div></li>
<li id="l-227"><div class="p" id="p-689"><a href="#images" title="internal link">images</a> are downloaded if needed and embedded as <code>data:</code> URLs.</div><div class="p" id="p-690">Images that are managed by the project itself and already locally present, such as those inside the project itself or due to <a href="#media-providers" title="internal link"><code>media-providers</code></a> usually don't require download.</div><div class="p" id="p-691">For images linked directly from the web, we maintain a local download cache, and skip downloads if the image is already in the cache.</div><div class="p" id="p-692">To re-download due to image updates, use either:</div><div><ul id="ul-86">
<li id="l-228"><code>--asset-cache-update</code>: download all images such that the local disk timestamp is older than the HTTP modification date with <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since"><code>If-Modified-Since</code></a></li>
<li id="l-229"><code>--asset-cache-update-force</code>: forcefully redownload all assets</li>
</ul></div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-693">ğŸ”—</a></span><div class="p" id="p-693">Keep in mind that certain things can never be embedded, e.g.:<div><ul id="ul-87">
<li id="l-230">YouTube videos, since YouTube does not offer any download API</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#generate">ğŸ”—</a></span><h5 id="generate"><a href="#generate" title="link to this element">21.1.2.4. <code>--generate</code></a><span>  | <a title="view one header per page" href="generate">ğŸ—— split</a> | <a href="#toc-generate" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-694">ğŸ”—</a></span><div class="p" id="p-694">Generate a simple repository template for a new project.</div></div><div><span class="hide-hover"><a href="#p-695">ğŸ”—</a></span><div class="p" id="p-695">This includes common files that almost all projects will want to have, e.g.:<div><ul id="ul-88">
<li id="l-231"><code>package.json</code> specifying the Cirodown version</li>
<li id="l-232"><code>.gitignore</code> to prevent output from being committed accidentally</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-696">ğŸ”—</a></span><div class="p" id="p-696">The output provides a hello world setup that is immediately ready to be published e.g. <a href="#publish-to-github-pages" title="internal link">to GitHub pages</a>.</div></div><div><span class="hide-hover"><a href="#generate-multifile">ğŸ”—</a></span><h5 id="generate-multifile"><a href="#generate-multifile" title="link to this element">21.1.2.5. <code>--generate-multifile</code></a><span>  | <a title="view one header per page" href="generate-multifile">ğŸ—— split</a> | <a href="#toc-generate-multifile" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-697">ğŸ”—</a></span><div class="p" id="p-697">Like <a href="#generate" title="internal link"><code>--generate</code></a>, but generate a more complex template that serves as a good starting point for a multifile website.</div></div><div><span class="hide-hover"><a href="#help-macros">ğŸ”—</a></span><h5 id="help-macros"><a href="#help-macros" title="link to this element">21.1.2.6. <code>--help-macros</code></a><span>  | <a title="view one header per page" href="help-macros">ğŸ—— split</a> | <a href="#toc-help-macros" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-698">ğŸ”—</a></span><div class="p" id="p-698">You can get an overview of all macros in JSON format with:
<div class="code-caption-container" id="code-263">
<pre><code>cirodown --help-macros
</code></pre></div></div></div><div><span class="hide-hover"><a href="#log">ğŸ”—</a></span><h5 id="log"><a href="#log" title="link to this element">21.1.2.7. <code>--log</code></a><span>  | <a title="view one header per page" href="log">ğŸ—— split</a> | <a href="#toc-log" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-699">ğŸ”—</a></span><div class="p" id="p-699">Give multiple times to enable a list of certain types of logs to stderr help debugging, e.g.:
<div class="code-caption-container" id="code-264">
<pre><code>./cirodown --log ast tokens -- README.ciro
</code></pre></div>
Note that this follows <a href="https://github.com/tj/commander.js/tree/e0e723810357e915210af38ccf5098ffe1fb8e65#variadic-option">commander.js' insane variadic arguments</a>, and thus the <code>--</code> is required above.</div></div><div><span class="hide-hover"><a href="#p-700">ğŸ”—</a></span><div class="p" id="p-700">Values not documented in other sections:<div><ul id="ul-89">
<li id="l-233"><code>ast</code>: the final parsed AST</li>
<li id="l-234"><div class="p" id="p-701"><code>ast-inside</code>: print the AST from inside the <code>cirodown.convert</code> call before it returns.</div><div class="p" id="p-702">This is useful to debug the program if <code>cirodown.convert</code> blows up on the next stages before returning.</div></li>
<li id="l-235"><code>parse</code>: parsing steps</li>
<li id="l-236"><code>tokenize</code>: tokenization steps</li>
<li id="l-237"><code>tokens</code>: final parsed token stream</li>
<li id="l-238"><div class="p" id="p-703"><code>tokens-inside</code>: like <code>ast-inside</code> but for tokens.</div><div class="p" id="p-704">Also adds token index to the output, which makes debugging the parser way easier.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#log-headers">ğŸ”—</a></span><h6 id="log-headers"><a href="#log-headers" title="link to this element">21.1.2.7.1. <code>--log headers</code></a><span>  | <a title="view one header per page" href="log-headers">ğŸ—— split</a> | <a href="#toc-log-headers" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#log" title="parent header">â†‘ parent "<code>--log</code>"</a></span></h6>
</div><div><span class="hide-hover"><a href="#p-705">ğŸ”—</a></span><div class="p" id="p-705">This nifty little option outputs to stderr what the header graph looks like!</div></div><div><span class="hide-hover"><a href="#p-706">ğŸ”—</a></span><div class="p" id="p-706">It is a bit like a <a href="#table-of-contents" title="internal link">table of contents</a> in your terminal, for when you need to have a look at the outline of the document to decide where to place a new header, but are not in the mood to open a browser or use the <a href="#editor-with-preview" title="internal link">editor with preview</a>.</div></div><div><span class="hide-hover"><a href="#p-707">ğŸ”—</a></span><div class="p" id="p-707">Sample output excerpt for this document:
<div class="code-caption-container" id="code-265">
<pre><code>= h1  cirodown
== h2 1 quick-start
== h2 2 design-goals
=== h3 2.1 saner
=== h3 2.2 more-powerful
== h2 3 paragraphs
== h2 4 links
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-708">ğŸ”—</a></span><div class="p" id="p-708">This option can also serve as a debug tool for header tree related features (confession: that was its original motivation!).</div></div><div><span class="hide-hover"><a href="#p-709">ğŸ”—</a></span><div class="p" id="p-709">TODO</div></div><div><span class="hide-hover"><a href="#no-html-x-extension">ğŸ”—</a></span><h5 id="no-html-x-extension"><a href="#no-html-x-extension" title="link to this element">21.1.2.8. <code>--no-html-x-extension</code></a><span>  | <a title="view one header per page" href="no-html-x-extension">ğŸ—— split</a> | <a href="#toc-no-html-x-extension" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-710">ğŸ”—</a></span><div class="p" id="p-710">If not given, <a href="#internal-cross-references" title="internal link">internal cross references</a> render with the <code>.html</code> extension as in:
<div class="code-caption-container" id="code-266">
<pre><code>&lt;a href=not-readme.html#h2-in-not-the-readme&gt;
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-711">ğŸ”—</a></span><div class="p" id="p-711">This way, those links will work when rendering locally to <code>.html</code> files which is the default behaviour of:
<div class="code-caption-container" id="code-267">
<pre><code>cirodown .
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-712">ğŸ”—</a></span><div class="p" id="p-712">If given however, the links render without the <code>.html</code> as in:
<div class="code-caption-container" id="code-268">
<pre><code>&lt;a href=not-readme#h2-in-not-the-readme&gt;
</code></pre></div>
which is what is needed for servers such as GitHub Pages, which automatically remove the <code>.html</code> extension from paths.</div></div><div><span class="hide-hover"><a href="#p-713">ğŸ”—</a></span><div class="p" id="p-713">This option is automatically implied when publishing to targets that remove the <code>.html</code> extension such as GitHub pages.</div></div><div><span class="hide-hover"><a href="#outdir">ğŸ”—</a></span><h5 id="outdir"><a href="#outdir" title="link to this element">21.1.2.9. <code>--outdir &lt;outdir&gt;</code></a><span>  | <a title="view one header per page" href="outdir">ğŸ—— split</a> | <a href="#toc-outdir" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-714">ğŸ”—</a></span><div class="p" id="p-714">Set a custom output directory for the conversion</div></div><div><span class="hide-hover"><a href="#p-715">ğŸ”—</a></span><div class="p" id="p-715">Suppose we have an input file <code>./test.ciro</code>. Then:
<div class="code-caption-container" id="code-269">
<pre><code>cirodown --outdir my_outdir test.ciro
</code></pre></div>
places its output at:
<div class="code-caption-container" id="code-270">
<pre><code>my_outdir/test.html
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-716">ğŸ”—</a></span><div class="p" id="p-716">The same would happen if we instead did a full directory conversion as in:
<div class="code-caption-container" id="code-271">
<pre><code>cirodown --outdir my_outdir .
</code></pre></div>
The output would also be placed in <code>my_outdir/test.html</code>.</div></div><div><span class="hide-hover"><a href="#outfile">ğŸ”—</a></span><h5 id="outfile"><a href="#outfile" title="link to this element">21.1.2.10. <code>--outfile &lt;outfie&gt;</code></a><span>  | <a title="view one header per page" href="outfile">ğŸ—— split</a> | <a href="#toc-outfile" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-717">ğŸ”—</a></span><div class="p" id="p-717">Save the output to a given file instead of outputting to stdout:
<div class="code-caption-container" id="code-272">
<pre><code>./cirodown --outfile not-readme.html not-readme.ciro
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-718">ğŸ”—</a></span><div class="p" id="p-718">The generated output is slightly different than that of:
<div class="code-caption-container" id="code-273">
<pre><code>./cirodown not-readme.ciro &gt; not-readme.html
</code></pre></div>
because with <code>--outfile</code> we know where the output is going, and so we can generate relative includes to default CSS/JavaScript files.</div></div><div><span class="hide-hover"><a href="#output-format">ğŸ”—</a></span><h5 id="output-format"><a href="#output-format" title="link to this element">21.1.2.11. <code>-O --output-format &lt;outformat&gt;</code></a><span>  | <a title="view one header per page" href="output-format">ğŸ—— split</a> | <a href="#toc-output-format" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-719">ğŸ”—</a></span><div class="p" id="p-719">Default: <code>html</code>.</div></div><div><span class="hide-hover"><a href="#id-output-format">ğŸ”—</a></span><h6 id="id-output-format"><a href="#id-output-format" title="link to this element">21.1.2.11.1. <code>id</code> output format</a><span>  | <a title="view one header per page" href="id-output-format">ğŸ—— split</a> | <a href="#toc-id-output-format" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#output-format" title="parent header">â†‘ parent "<code>-O --output-format &lt;outformat&gt;</code>"</a></span></h6>
</div><div><span class="hide-hover"><a href="#p-720">ğŸ”—</a></span><div class="p" id="p-720">This output format is mostly a joke.</div></div><div><span class="hide-hover"><a href="#p-721">ğŸ”—</a></span><div class="p" id="p-721">It is an intermediate step in <a href="#automatic-id-from-title" title="internal link">automatic ID from title</a>, that unlike HTML output does not have any tags.</div></div><div><span class="hide-hover"><a href="#p-722">ğŸ”—</a></span><div class="p" id="p-722">But we decided to expose it for fun, and to start generalizing Cirodown to multiple outputs, as this is a simple format.</div></div><div><span class="hide-hover"><a href="#p-723">ğŸ”—</a></span><div class="p" id="p-723">The conversion is very simplistic, it basically just pastes the <code>content</code> of most arguments.</div></div><div><span class="hide-hover"><a href="#p-724">ğŸ”—</a></span><div class="p" id="p-724">Stuff that is primarily non-textual like <a href="#images" title="internal link">images</a> is just completely removed. We could put effort in outputting their title correctly, but meh, not worth the effort.</div></div><div><span class="hide-hover"><a href="#unimplemented-output-formats">ğŸ”—</a></span><h6 data-level="7" id="unimplemented-output-formats"><a href="#unimplemented-output-formats" title="link to this element">21.1.2.11.1.1. Unimplemented output formats</a><span>  | <a title="view one header per page" href="unimplemented-output-formats">ğŸ—— split</a> | <a href="#toc-unimplemented-output-formats" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#id-output-format" title="parent header">â†‘ parent "<code>id</code> output format"</a></span></h6>
</div><div><span class="hide-hover"><a href="#cirodown-output-format">ğŸ”—</a></span><h6 data-level="8" id="cirodown-output-format"><a href="#cirodown-output-format" title="link to this element">21.1.2.11.1.1.1. <code>cirodown</code> output format</a><span>  | <a title="view one header per page" href="cirodown-output-format">ğŸ—— split</a> | <a href="#toc-cirodown-output-format" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#unimplemented-output-formats" title="parent header">â†‘ parent "Unimplemented output formats"</a></span></h6>
</div><div><span class="hide-hover"><a href="#p-725">ğŸ”—</a></span><div class="p" id="p-725">TODO: <a href="https://github.com/cirosantilli/cirodown/issues/83">https://github.com/cirosantilli/cirodown/issues/83</a></div></div><div><span class="hide-hover"><a href="#latex-output-format">ğŸ”—</a></span><h6 data-level="8" id="latex-output-format"><a href="#latex-output-format" title="link to this element">21.1.2.11.1.1.2. <code>latex</code> output format</a><span>  | <a title="view one header per page" href="latex-output-format">ğŸ—— split</a> | <a href="#toc-latex-output-format" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#unimplemented-output-formats" title="parent header">â†‘ parent "Unimplemented output formats"</a></span></h6>
</div><div><span class="hide-hover"><a href="#p-726">ğŸ”—</a></span><div class="p" id="p-726">TODO: <a href="https://github.com/cirosantilli/cirodown/issues/38">https://github.com/cirosantilli/cirodown/issues/38</a></div></div><div><span class="hide-hover"><a href="#p-727">ğŸ”—</a></span><div class="p" id="p-727">One day, one day. Maybe.</div></div><div><span class="hide-hover"><a href="#publish">ğŸ”—</a></span><h5 id="publish"><a href="#publish" title="link to this element">21.1.2.12. <code>-p, --publish</code></a><span>  | <a title="view one header per page" href="publish">ğŸ—— split</a> | <a href="#toc-publish" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-728">ğŸ”—</a></span><div class="p" id="p-728">Cirodown tooling is so amazing that we also take care of the HTML publishing for you!</div></div><div><span class="hide-hover"><a href="#p-729">ğŸ”—</a></span><div class="p" id="p-729">Once publish target is properly setup, all you have to do is run:
<div class="code-caption-container" id="code-274">
<pre><code>git add README.ciro
git commit -m 'more content!'
cirodown --publish
</code></pre></div>
and your changes will be published to the  default target specified in <a href="#cirodown-json" title="internal link"><code>cirodown.json</code></a>.</div></div><div><span class="hide-hover"><a href="#p-730">ğŸ”—</a></span><div class="p" id="p-730">If not specified, the default target is <a href="#publish-to-github-pages" title="internal link">publish to GitHub Pages</a>.</div></div><div><span class="hide-hover"><a href="#p-731">ğŸ”—</a></span><div class="p" id="p-731">Only changes committed to Git are pushed.</div></div><div><span class="hide-hover"><a href="#p-732">ğŸ”—</a></span><div class="p" id="p-732">Files that <code>cirodown</code> knows how to process get processed and only their outputs are added to the published repo, those file types are:<div><ul id="ul-90">
<li id="l-239"><code>.ciro</code> files are converted to <code>.html</code></li>
<li id="l-240"><code>.scss</code> files are converted to <code>.css</code>
</li>
</ul></div>Every other Git-tracked file is pushed as is.</div></div><div><span class="hide-hover"><a href="#p-733">ğŸ”—</a></span><div class="p" id="p-733">When <code>--publish</code> is given, stdin input is not accepted, and so the current directory is built by default, i.e. the following two are equivalent:
<div class="code-caption-container" id="code-275">
<pre><code>./cirodown --publish
./cirodown --publish .
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-734">ğŸ”—</a></span><div class="p" id="p-734">Publishing only happens if the build has no errors.</div></div><div><span class="hide-hover"><a href="#publish-to-github-pages">ğŸ”—</a></span><h6 id="publish-to-github-pages"><a href="#publish-to-github-pages" title="link to this element">21.1.2.12.1. Publish to GitHub Pages</a><span>  | <a title="view one header per page" href="publish-to-github-pages">ğŸ—— split</a> | <a href="#toc-publish-to-github-pages" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#publish" title="parent header">â†‘ parent "<code>-p, --publish</code>"</a></span></h6>
</div><div><span class="hide-hover"><a href="#p-735">ğŸ”—</a></span><div class="p" id="p-735"><a href="https://pages.github.com/">GitHub pages</a> is the default Cirodown publish target.</div></div><div><span class="hide-hover"><a href="#p-736">ğŸ”—</a></span><div class="p" id="p-736">The first step is of course to create the GitHub repository that will contain your GitHub pages as usual.</div></div><div><span class="hide-hover"><a href="#p-737">ğŸ”—</a></span><div class="p" id="p-737">Then, if you want to publish to the GitHub pages root page, you need to setup the branches correctly as shown at: <a href="#publish-to-github-pages-root-page" title="internal link">publish to GitHub pages root page</a>.</div></div><div><span class="hide-hover"><a href="#p-738">ğŸ”—</a></span><div class="p" id="p-738">Finally, for both root and non-root pages, follow the steps at: <a href="#publish-to-github-common-steps" title="internal link">publish to GitHub common steps</a>.</div></div><div><span class="hide-hover"><a href="#publish-to-github-pages-root-page">ğŸ”—</a></span><h6 data-level="7" id="publish-to-github-pages-root-page"><a href="#publish-to-github-pages-root-page" title="link to this element">21.1.2.12.1.1. Publish to GitHub pages root page</a><span>  | <a title="view one header per page" href="publish-to-github-pages-root-page">ğŸ—— split</a> | <a href="#toc-publish-to-github-pages-root-page" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#publish-to-github-pages" title="parent header">â†‘ parent "Publish to GitHub Pages"</a></span></h6>
</div><div><span class="hide-hover"><a href="#p-739">ğŸ”—</a></span><div class="p" id="p-739">If you want to publish your root user page, which appears at <code>/</code> (e.g. <a href="https://github.com/cirosantilli/cirosantilli.github.io">https://github.com/cirosantilli/cirosantilli.github.io</a> for the user <code>cirosantilli</code>), GitHub annoyingly forces you to use the <code>master</code> branch for the HTML output:<div><ul id="ul-91">
<li id="l-241"><a href="https://github.com/isaacs/github/issues/212">https://github.com/isaacs/github/issues/212</a></li>
<li id="l-242"><a href="https://stackoverflow.com/questions/31439951/how-can-i-use-a-branch-other-than-master-for-user-github-pages">https://stackoverflow.com/questions/31439951/how-can-i-use-a-branch-other-than-master-for-user-github-pages</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-740">ğŸ”—</a></span><div class="p" id="p-740">This means that you must place your <code>.ciro</code> input files in a branch other than <code>master</code> to clear up <code>master</code> for the generated HTML.</div></div><div><span class="hide-hover"><a href="#p-741">ğŸ”—</a></span><div class="p" id="p-741"><code>cirodown</code> automatically detects if your repository ois a root repository or not by parsing <code>git remote</code> output, but you must setup the branches correctly yourself.</div></div><div><span class="hide-hover"><a href="#p-742">ğŸ”—</a></span><div class="p" id="p-742">So on a new repository, you must <a href="https://stackoverflow.com/questions/42871542/how-to-create-a-git-repository-with-the-default-branch-name-other-than-master">first checkout to a different branch</a> as in:
<div class="code-caption-container" id="code-276">
<pre><code>git init
git checkout -b dev
</code></pre></div>
or to move an existing repository to a non-master branch:
<div class="code-caption-container" id="code-277">
<pre><code>git checkout -b dev
git push origin dev:dev
git branch -D master
git push --delete origin master
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-743">ğŸ”—</a></span><div class="p" id="p-743">You then will also want to set your default repository branch to <code>dev</code> in the settings for that repository: <a href="https://help.github.com/en/github/administering-a-repository/setting-the-default-branch">https://help.github.com/en/github/administering-a-repository/setting-the-default-branch</a></div></div><div><span class="hide-hover"><a href="#publish-to-github-common-steps">ğŸ”—</a></span><h6 data-level="7" id="publish-to-github-common-steps"><a href="#publish-to-github-common-steps" title="link to this element">21.1.2.12.1.2. Publish to GitHub common steps</a><span>  | <a title="view one header per page" href="publish-to-github-common-steps">ğŸ—— split</a> | <a href="#toc-publish-to-github-common-steps" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#publish-to-github-pages" title="parent header">â†‘ parent "Publish to GitHub Pages"</a></span></h6>
</div><div><span class="hide-hover"><a href="#p-744">ğŸ”—</a></span><div class="p" id="p-744">For non-root GitHub pages, no special setup is needed, <code>cirodown</code> automatically populates the <code>gh-pages</code> branch for you.</div></div><div><span class="hide-hover"><a href="#p-745">ğŸ”—</a></span><div class="p" id="p-745">Once the repository branch is setup, we can just <a href="#generate" title="internal link">generate the repository template with <code>--generate</code></a>, make a commit, and immediately publish!
<div class="code-caption-container" id="code-278">
<pre><code>cirodown --generate
git add .
git commit --message 'initial commit from template'
cirodown --publish .
</code></pre></div></div></div><div><span class="hide-hover"><a href="#publish-commit">ğŸ”—</a></span><h5 id="publish-commit"><a href="#publish-commit" title="link to this element">21.1.2.13. <code>-P, --publish-commit &lt;commit-message&gt;</code></a><span>  | <a title="view one header per page" href="publish-commit">ğŸ—— split</a> | <a href="#toc-publish-commit" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-746">ğŸ”—</a></span><div class="p" id="p-746">Like <a href="#publish" title="internal link"><code>-p, --publish</code></a>, but also automatically:<div><ul id="ul-92">
<li id="l-243"><code>git add -u</code> to automatically add change to any files that have been previously git tracked</li>
<li id="l-244"><code>git commit -m &lt;commit-message&gt;</code> to create a new commit with those changes</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-747">ğŸ”—</a></span><div class="p" id="p-747">This allows you to publish your changes live in a single command such as:
<div class="code-caption-container" id="code-279">
<pre><code>cirodown --publish-commit 'my amazing change' .
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-748">ğŸ”—</a></span><div class="p" id="p-748">With great power comes great responsibility of course, but who cares!</div></div><div><span class="hide-hover"><a href="#split-headers">ğŸ”—</a></span><h5 id="split-headers"><a href="#split-headers" title="link to this element">21.1.2.14. <code>--split-headers</code></a><span>  | <a title="view one header per page" href="split-headers">ğŸ—— split</a> | <a href="#toc-split-headers" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-749">ğŸ”—</a></span><div class="p" id="p-749">Split each header into its own separate HTML output file.</div></div><div><span class="hide-hover"><a href="#p-750">ğŸ”—</a></span><div class="p" id="p-750">This option allows you to keep all headers in a single file, which is much more convenient than working with a billion separate source files, and let them grow naturally as new information is added, but still be able to get a small output page on the rendered website that contains just the content of the given header. Such split pages load faster on the browser, and might get better Google PageRank.</div></div><div><span class="hide-hover"><a href="#p-751">ğŸ”—</a></span><div class="p" id="p-751">For example given an input file called <code>hello.ciro</code> and containing:
<div class="code-caption-container" id="code-280">
<pre><code>= h1

h1 content.

A link to another section: \x[h1-1].

== h1 1

h1-1 content.

== h1 1 1

h1-1-1 content.

== h1 1 2

h1-1-2 content.
</code></pre></div>
a conversion command:
<div class="code-caption-container" id="code-281">
<pre><code>cirodown --split-headers hello.ciro
</code></pre></div>
would produce the following output files:<div><ul id="ul-93">
<li id="l-245"><div class="p" id="p-752"><code>hello.html</code>: contains the entire rendered document as usual.</div><div class="p" id="p-753">Remember that this is called <code>hello.html</code> instead of <code>h1.html</code> because <a href="#the-toplevel-header" title="internal link">the toplevel header ID is automatically derived from its filename</a>.</div><div class="p" id="p-754">Each header contains a on-hover link to the single-file split version of the header.</div></li>
<li id="l-246"><code>hello-split.html</code>: contains only the contents directly under <code>= h1</code>, but not under any of the subheaders, e.g.:<div><ul id="ul-94">
<li id="l-247"><code>h1 content.</code> appears in this rendered output</li>
<li id="l-248"><code>h1-1-1</code> does not appear in this rendered output
</li>
</ul></div>The <code>-split</code> suffix is appended in order to differentiate the output path from <code>hello.html</code></li>
<li id="l-249"><code>h1-1.html</code>, <code>h1-1-1.html</code>, <code>h1-1-2.html</code>: contain only the contents direcly under their headers, analogously to <code>hello-split.html</code>, but now we don't need to worry about the input filename and collisiont, and just directly use the ID of each header</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-755">ğŸ”—</a></span><div class="p" id="p-755"><a href="#internal-cross-references" title="internal link">internal cross references</a> such as <code>\x[h1-1]</code> automatically point to the same type of split/non-split output as the current output file, for example:<div><ul id="ul-95">
<li id="l-250">in <code>hello.html</code>, it points to the section in the current (non-split) file</li>
<li id="l-251">in <code>hello-split.html</code>, it points to the section the separate split <code>h1-1.html</code> output file
</li>
</ul></div>The same applies to <a href="#internal-cross-file-references" title="internal link">internal cross file references</a> when there are multiple input files.</div></div><div><span class="hide-hover"><a href="#p-756">ğŸ”—</a></span><div class="p" id="p-756"><code>--split-headers</code> is implied by <a href="#publish" title="internal link"><code>-p, --publish</code></a>: the published website will automatically get the split pages. There is no way to turn it off currently. A pull request would be accepted, especially if it offers a <a href="#cirodown-json" title="internal link"><code>cirodown.json</code></a> way to do it. Maybe it would be nice to have a more generalized way of setting any CLI option equivalent from the <code>cirodown.json</code>, and an option <code>cli</code> vs <code>cli-publish</code> so that <code>cli-publish</code> is publish only. Just lazy for now/not enough pressing use case met.</div></div><div><span class="hide-hover"><a href="#watch">ğŸ”—</a></span><h5 id="watch"><a href="#watch" title="link to this element">21.1.2.15. <code>--watch</code></a><span>  | <a title="view one header per page" href="watch">ğŸ—— split</a> | <a href="#toc-watch" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-757">ğŸ”—</a></span><div class="p" id="p-757">Don't quit <code>cirodown</code> immediately.</div></div><div><span class="hide-hover"><a href="#p-758">ğŸ”—</a></span><div class="p" id="p-758">Instead, watch the selected file or directory for changes, and rebuild individual files when changes are detected.</div></div><div><span class="hide-hover"><a href="#p-759">ğŸ”—</a></span><div class="p" id="p-759">Watch every <code>.ciro</code> file in an entire directory:
<div class="code-caption-container" id="code-282">
<pre><code>cirodown --watch .
</code></pre></div>
When a directory is given as the input path, this automatically first does an ID extraction pass on all files to support <a href="#internal-cross-file-references" title="internal link">internal cross file references</a>.</div></div><div><span class="hide-hover"><a href="#p-760">ğŸ”—</a></span><div class="p" id="p-760">Now you can just edit any Cirodown file such has <code>README.ciro</code>, save the file in your editor, and refresh the webpage and your change should be visible, no need to run a <code>cirodown</code> command explicitly every time.</div></div><div><span class="hide-hover"><a href="#p-761">ğŸ”—</a></span><div class="p" id="p-761">Exit by entering Ctrl + C on the terminal.</div></div><div><span class="hide-hover"><a href="#p-762">ğŸ”—</a></span><div class="p" id="p-762">Watch a single file:
<div class="code-caption-container" id="code-283">
<pre><code>cirodown --watch README.ciro
</code></pre></div>
When a single file is watched, the reference database is not automatically updated. If it is not already up-to-date, you should first update it with:
<div class="code-caption-container" id="code-284">
<pre><code>cirodown .
</code></pre></div>
otherwise you will just get a bunch of undefined ID errors every time the input file is saved.</div></div><div><span class="hide-hover"><a href="#p-763">ğŸ”—</a></span><div class="p" id="p-763">TODO: integrate Live Preview: <a href="https://asciidoctor.org/docs/editing-asciidoc-with-live-preview/">https://asciidoctor.org/docs/editing-asciidoc-with-live-preview/</a> to also dispense the browser refresh.</div></div><div><span class="hide-hover"><a href="#template">ğŸ”—</a></span><h5 id="template"><a href="#template" title="link to this element">21.1.2.16. <code>--template</code></a><span>  | <a title="view one header per page" href="template">ğŸ—— split</a> | <a href="#toc-template" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable-options" title="parent header">â†‘ parent "<code>cirodown</code> executable options"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-764">ğŸ”—</a></span><div class="p" id="p-764">Select a custom <a href="https://github.com/harttle/liquidjs">Liquid template</a> file for the output.</div></div><div><span class="hide-hover"><a href="#p-765">ğŸ”—</a></span><div class="p" id="p-765">The recommended file name for this file is:
<div class="code-caption-container" id="code-285">
<pre><code>main.liquid.html
</code></pre></div>
which is already ignored by default from the published output.</div></div><div><span class="hide-hover"><a href="#p-766">ğŸ”—</a></span><div class="p" id="p-766">This repository has a sample <code>main.liquid.html</code> at: <a href="main.liquid.html">main.liquid.html</a>.</div></div><div><span class="hide-hover"><a href="#p-767">ğŸ”—</a></span><div class="p" id="p-767">If not given, the default template at one point was:
<div class="code-caption-container" id="code-286">
<pre><code>&lt;!doctype html&gt;
&lt;html lang=en&gt;
&lt;head&gt;
&lt;meta charset=utf-8&gt;
&lt;title&gt;{{ title }}&lt;/title&gt;
&lt;style&gt;{{ style }}&lt;/style&gt;
&lt;/head&gt;
&lt;body class="cirodown"&gt;
{{ body }}
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
This will get out of sync sooner or later with the code, but this should still serve as a good base example for this documentation.</div></div><div><span class="hide-hover"><a href="#p-768">ğŸ”—</a></span><div class="p" id="p-768">Defined variables:<div><ul id="ul-96">
<li id="l-252"><code>body</code>: the rendered body</li>
<li id="l-253"><code>git_sha</code>: SHA of the latest git commit of the source code if in a git repository</li>
<li id="l-254"><div class="p" id="p-769"><code>root_replath</code>: relative path from the rendered output to the toplevel directory.</div><div class="p" id="p-770">This allows for toplevel resources like CSS to be found seamlessly form inside subdirectories, specially when rendering locally.</div><div class="p" id="p-771">For example, for the toplevel <a href="#css" title="internal link">cSS</a> <code>main.css</code> which is generated from <a href="main.scss">main.scss</a>, we can use:
<div class="code-caption-container" id="code-287">
<pre><code>&lt;link rel="stylesheet" type="text/css" href="{{ root_relpath }}main.css"&gt;
</code></pre></div></div><div class="p" id="p-772">Then, when a file is locally, for example under a subdirectory <code>mysubdir/myfile.html</code>, Cirodown will set:
<div class="code-caption-container" id="code-288">
<pre><code>root_relpath=../
</code></pre></div>
giving the desired:
<div class="code-caption-container" id="code-289">
<pre><code>&lt;link rel="stylesheet" type="text/css" href="../main.css"&gt;
</code></pre></div></div><div class="p" id="p-773">And if the output path were instead just <code>myohterfile.html</code>, <code>root_replath</code> expands to an empty string, giving again the correct:
<div class="code-caption-container" id="code-290">
<pre><code>&lt;link rel="stylesheet" type="text/css" href="main.css"&gt;
</code></pre></div></div></li>
<li id="l-255"><code>style</code>: default Cirodown stylesheets</li>
<li id="l-256"><code>title</code></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-774">ğŸ”—</a></span><div class="p" id="p-774">We pick Liquid because it is server-side safe: if we ever some day offer a compilation service, Liquid is designed to prevent arbitrary code execution and infinite loops in templates.</div></div><div><span class="hide-hover"><a href="#cirodown-json">ğŸ”—</a></span><h4 id="cirodown-json"><a href="#cirodown-json" title="link to this element">21.1.3. <code>cirodown.json</code></a><span>  | <a title="view one header per page" href="cirodown-json">ğŸ—— split</a> | <a href="#toc-cirodown-json" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-executable" title="parent header">â†‘ parent "<code>cirodown</code> executable"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-775">ğŸ”—</a></span><div class="p" id="p-775">Cirodown configuration file that affects the behaviour of cirodown for all files in the directory.</div></div><div><span class="hide-hover"><a href="#p-776">ğŸ”—</a></span><div class="p" id="p-776"><code>cirodown.json</code> not used for input from stdin, since we are mostly doing quick tests in that case.</div></div><div><span class="hide-hover"><a href="#p-777">ğŸ”—</a></span><div class="p" id="p-777">While <code>cirodown.json</code> is optional, it is used to determine the toplevel directory of a Cirodown project, which has some effects such as those mentioned at <a href="#the-toplevel-index-file" title="internal link">the toplevel index file</a>.</div></div><div><span class="hide-hover"><a href="#p-778">ğŸ”—</a></span><div class="p" id="p-778">Therefore, it is recommended that you always have a <code>cirodown.json</code> in your project's toplevel directory, even if it is going to be an empty JSON <code>{}</code>.</div></div><div><span class="hide-hover"><a href="#p-779">ğŸ”—</a></span><div class="p" id="p-779">For example, if you convert a file in a subdirectory such as:
<div class="code-caption-container" id="code-291">
<pre><code>cirodown subdir/notindex.ciro
</code></pre></div>
then <code>cirodown</code> walks up the filesystem tree looking for <code>cirodown.json</code>, e.g.:<div><ul id="ul-97">
<li id="l-257">is there a <code>./subdir/cirodown.json</code>?</li>
<li id="l-258">otherwise, is there a <code>./cirodown.json</code>?</li>
<li id="l-259">otherwise, is there a <code>../cirodown.json</code>?</li>
<li id="l-260">otherwise, is there a <code>../../cirodown.json</code>?
</li>
</ul></div>and so on.</div></div><div><span class="hide-hover"><a href="#p-780">ğŸ”—</a></span><div class="p" id="p-780">Then, in that case:<div><ul id="ul-98">
<li id="l-261">if no <code>cirodown.json</code> file is found, we don't know any better output toplevel than <code>subdir</code>/ itself, and so:<div><ul id="ul-99">
<li id="l-262">the first header of subdir/notindex.ciro will have ID <code>notindex</code>, instead of <code>subdir/notindex</code> as per <a href="#directory-based-scope" title="internal link">directory-based <code>scope</code></a></li>
<li id="l-263"><a href="#the-out-directory" title="internal link">the <code>out</code> directory</a> is located at <code>./subdir/out</code></li>
</ul></div></li>
<li id="l-264">otherwise, if <code>./cirodown.json</code> file is found:<div><ul id="ul-100">
<li id="l-265">the first header of subdir/notindex.ciro will have ID <code>subdir/notindex</code>. Cirodown understands that <code>subdir</code> is relative to the toplevel at <code>.</code></li>
<li id="l-266"><a href="#the-out-directory" title="internal link">the <code>out</code> directory</a> is located at <code>./out</code>
</li>
</ul></div></li>
</ul></div>If given, the <a href="#outdir" title="internal link"><code>--outdir &lt;outdir&gt;</code></a> option forces <a href="#the-out-directory" title="internal link">the <code>out</code> directory</a> to be placed in <code>--outdir</code> however.</div></div><div><span class="hide-hover"><a href="#media-providers">ğŸ”—</a></span><h5 id="media-providers"><a href="#media-providers" title="link to this element">21.1.3.1. <code>media-providers</code></a><span>  | <a title="view one header per page" href="media-providers">ğŸ—— split</a> | <a href="#toc-media-providers" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-json" title="parent header">â†‘ parent "<code>cirodown.json</code>"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-781">ğŸ”—</a></span><div class="p" id="p-781">The <code>media-providers</code> entry of <code>cirodown.json</code> specifies properties of how media such as <a href="#images" title="internal link">images</a> and <a href="#videos" title="internal link">videos</a> are retrieved and rendered.</div></div><div><span class="hide-hover"><a href="#p-782">ğŸ”—</a></span><div class="p" id="p-782">The general format of <code>media-providers</code> looks like:
<div class="code-caption-container" id="code-292">
<pre><code>"media-providers": {
  "github": {
    "default-for": ["image"], // "all" to default for both image, video and anything else
    "path": "data/media/",    // data is gitignored, but should not be nuked like out/
    "remote": "cirosantilli/cirodown-media",
  },
  "local": {
    "default-for": ["video"],
    "path": "media/",
  },
  "youtube": {}
}
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-783">ğŸ”—</a></span><div class="p" id="p-783">Properties that are valid for every provider:<div><ul id="ul-101">
<li id="l-267"><div class="p" id="p-784"><code>default-for</code>: use this provider as the default for the given types of listed macros.</div><div class="p" id="p-785">The first character of the macros are case insensitive and must be given as lower case. Therefore e.g.:<div><ul id="ul-102">
<li id="l-268"><code>image</code> applies to both <code>image</code> and <code>Image</code></li>
<li id="l-269">giving <code>Image</code> is an error because that starts with an upper case character</li>
</ul></div></div></li>
<li id="l-270"><code>title-from-src</code> (<code>bool</code>): extract the <code>title</code> argument from the <code>src</code> by default for media such as <a href="#images" title="internal link">images</a> and <a href="#videos" title="internal link">videos</a> as if the <code>titleFromSrc</code> macro argument had been given, see also: <a href="#image-id" title="internal link">image IDs and captions</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-786">ğŸ”—</a></span><div class="p" id="p-786">Direct children of media-providers and subproperties that are valid only for them specifically:<div><ul id="ul-103">
<li id="l-271"><code>local</code>: tracked in the current Git repository as mentioned at <a href="#store-images-inside-the-repository-itself" title="internal link">Section 8.3.1. "Store images inside the repository itself"</a><div><ul id="ul-104">
<li id="l-272"><code>path</code>: location of the cloned local repository relative to the root the main repository</li>
</ul></div></li>
<li id="l-273"><code>github</code>: tracked in a separate Git repository as mentioned at <a href="#store-images-in-a-separate-media-repository" title="internal link">Section 8.3.2. "Store images in a separate media repository"</a><div><ul id="ul-105">
<li id="l-274"><code>path</code>: same as for <code>local</code></li>
<li id="l-275"><code>remote</code>: <code>&lt;github-username&gt;/&lt;repo-name&gt;</code></li>
</ul></div></li>
<li id="l-276"><code>youtube</code>: YouTube <a href="#videos" title="internal link">videos</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-787">ğŸ”—</a></span><div class="p" id="p-787">See also: <a href="https://github.com/cirosantilli/cirodown/issues/40">https://github.com/cirosantilli/cirodown/issues/40</a></div></div><div><span class="hide-hover"><a href="#prepublish">ğŸ”—</a></span><h5 id="prepublish"><a href="#prepublish" title="link to this element">21.1.3.2. <code>prepublish</code></a><span>  | <a title="view one header per page" href="prepublish">ğŸ—— split</a> | <a href="#toc-prepublish" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-json" title="parent header">â†‘ parent "<code>cirodown.json</code>"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-788">ğŸ”—</a></span><div class="p" id="p-788">Path of a script that gets executed before running <a href="#publish" title="internal link"><code>cirodown --publish</code></a>.</div></div><div><span class="hide-hover"><a href="#p-789">ğŸ”—</a></span><div class="p" id="p-789">The script arguments are:<div><ul id="ul-106">
<li id="l-277"><div class="p" id="p-790">the publish output directory.</div><div class="p" id="p-791">That directory is guaranteed to exist when <code>prepublish</code> is called.</div><div class="p" id="p-792">For <code>git</code>-based publish targets, all files are almost ready in there, just waiting for a <code>git add .</code> that follows <code>prepublish</code>.</div><div class="p" id="p-793">This means that you can use this script to place or remove files from the final publish output.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-794">ğŸ”—</a></span><div class="p" id="p-794">If the <code>prepublish</code> script returns with a non-zero exit value, the publish is aborted.</div></div><div><span class="hide-hover"><a href="#redirects">ğŸ”—</a></span><h5 id="redirects"><a href="#redirects" title="link to this element">21.1.3.3. <code>redirects</code></a><span>  | <a title="view one header per page" href="redirects">ğŸ—— split</a> | <a href="#toc-redirects" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#cirodown-json" title="parent header">â†‘ parent "<code>cirodown.json</code>"</a></span></h5>
</div><div><span class="hide-hover"><a href="#p-795">ğŸ”—</a></span><div class="p" id="p-795">Create HTML redirects from <a href="#the-toplevel-header" title="internal link">toplevel headers</a> to arbitrary IDs, for example:
<div class="code-caption-container" id="code-293">
<pre><code>"redirects": {
  "a-toplevel-directory": "not-readme",
  "quick-start-redirect-test": "quick-start"
},
</code></pre></div>
The HTML files are generated whenever a directory compilation is required, e.g. as in <code>cirodown .</code>.</div></div><div><span class="hide-hover"><a href="#p-796">ğŸ”—</a></span><div class="p" id="p-796">The sources must be toplevel headers for now, because it is harder to implement redirections from <code>#someid</code> as that would require JavaScript: <a href="https://github.com/cirosantilli/cirodown/issues/48">https://github.com/cirosantilli/cirodown/issues/48</a>.</div></div><div><span class="hide-hover"><a href="#p-797">ğŸ”—</a></span><div class="p" id="p-797">This feature can be seen live on this document by visiting our tests:<div><ul id="ul-107">
<li id="l-278"><a href="not-readme-redirect-test">not-readme-redirect-test</a>: redirects to <a href="not-readme" title="internal link">not the README</a></li>
<li id="l-279"><a href="quick-start-redirect-test">quick-start-redirect-test</a>: redirects to <a href="#quick-start" title="internal link">quick start</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-798">ğŸ”—</a></span><div class="p" id="p-798">To quickly test bugs in redirect generation, you may use the <code>--generate-redirects</code> flag as:
<div class="code-caption-container" id="code-294">
<pre><code>cirodown --generate-redirects .
</code></pre></div>
which generates the redirects while skipping everything else. A previous:
<div class="code-caption-container" id="code-295">
<pre><code>cirodown .
</code></pre></div>
is required to generate the ID database.</div></div><div><span class="hide-hover"><a href="#editor-with-preview">ğŸ”—</a></span><h3 id="editor-with-preview"><a href="#editor-with-preview" title="link to this element">21.2. Editor with preview</a><span>  | <a title="view one header per page" href="editor-with-preview">ğŸ—— split</a> | <a href="#toc-editor-with-preview" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#tooling" title="parent header">â†‘ parent "Tooling"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-799">ğŸ”—</a></span><div class="p" id="p-799">TODO</div></div><div><span class="hide-hover"><a href="#p-800">ğŸ”—</a></span><div class="p" id="p-800">We must achieve an editor setup with synchronized live side-by-side preview.</div></div><div><span class="hide-hover"><a href="#p-801">ğŸ”—</a></span><div class="p" id="p-801">Likely, we will first do a non WYSIWYG editor with side by side preview with scroll sync.</div></div><div><span class="hide-hover"><a href="#p-802">ğŸ”—</a></span><div class="p" id="p-802">Then, if the project picks up steam, we can start considering a full WYSIWYG.</div></div><div><span class="hide-hover"><a href="#p-803">ğŸ”—</a></span><div class="p" id="p-803">It would be amazing to have a WebKit interface that works both on browser for the and locally.</div></div><div><span class="hide-hover"><a href="#p-804">ğŸ”—</a></span><div class="p" id="p-804">Possibilities we could reuse:<div><ul id="ul-108">
<li id="l-280"><div class="p" id="p-805">Editor.js</div><div class="p" id="p-806">Returns JSON AST!</div><div><ul id="ul-109">
<li id="l-281">website: <a href="https://editorjs.io/">https://editorjs.io/</a></li>
<li id="l-282">source: <a href="https://github.com/codex-team/editor.js">https://github.com/codex-team/editor.js</a></li>
<li id="l-283">WYSIWYG: yes</li>
<li id="l-284">preview scroll sync: yes</li>
</ul></div></li>
<li id="l-285">StackEdit<div><ul id="ul-110">
<li id="l-286">markup implementation: PageDown</li>
<li id="l-287">website: <a href="https://stackedit.io">https://stackedit.io</a></li>
<li id="l-288">source: <a href="https://github.com/benweet/stackedit">https://github.com/benweet/stackedit</a></li>
<li id="l-289">demo: <a href="https://stackedit.io/app">https://stackedit.io/app</a></li>
<li id="l-290">WYSIWYG: no</li>
<li id="l-291">preview scroll sync: yes</li>
</ul></div></li>
<li id="l-292">Editor.md<div><ul id="ul-111">
<li id="l-293">website: <a href="https://github.com/pandao/editor.md">https://github.com/pandao/editor.md</a></li>
<li id="l-294">source: <a href="https://github.com/pandao/editor.md">https://github.com/pandao/editor.md</a></li>
<li id="l-295">demo: <a href="https://pandao.github.io/editor.md">https://pandao.github.io/editor.md</a></li>
<li id="l-296">WYSIWYG: no</li>
<li id="l-297">preview scroll sync: yes but buggy when tested 2019-12-12 on live website</li>
</ul></div></li>
<li id="l-298"><div class="p" id="p-807"><a href="https://github.com/markdown-it/markdown-it">markdown-it</a></div><div class="p" id="p-808">Custom editor and highlight via <a href="https://github.com/highlightjs/highlight.js/">highlight.js</a>.</div><div><ul id="ul-112">
<li id="l-299">markup implementation: custom</li>
<li id="l-300">website: <a href="https://markdown-it.github.io">https://markdown-it.github.io</a></li>
<li id="l-301">source: <a href="https://github.com/markdown-it/markdown-it">https://github.com/markdown-it/markdown-it</a></li>
<li id="l-302">WYSIWYG: no</li>
<li id="l-303">preview scroll sync: yes</li>
<li id="l-304">editor hangs on large input: yes</li>
</ul></div></li>
<li id="l-305">Quill.md<div><ul id="ul-113">
<li id="l-306">website: <a href="https://quilljs.com">https://quilljs.com</a></li>
<li id="l-307">source: <a href="https://github.com/quilljs/quill/">https://github.com/quilljs/quill/</a></li>
<li id="l-308">demo: <a href="https://pandao.github.io/editor.md">https://pandao.github.io/editor.md</a></li>
<li id="l-309">WYSIWYG: yes</li>
<li id="l-310">markdown output: no <a href="https://github.com/quilljs/quill/issues/74">https://github.com/quilljs/quill/issues/74</a></li>
</ul></div></li>
<li id="l-311"><a href="https://ui.toast.com/tui-editor/">https://ui.toast.com/tui-editor/</a></li>
<li id="l-312"><a href="https://www.froala.com/wysiwyg-editor">https://www.froala.com/wysiwyg-editor</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#conversion-to-from-other-formats">ğŸ”—</a></span><h3 id="conversion-to-from-other-formats"><a href="#conversion-to-from-other-formats" title="link to this element">21.3. Conversion to/from other formats</a><span>  | <a title="view one header per page" href="conversion-to-from-other-formats">ğŸ—— split</a> | <a href="#toc-conversion-to-from-other-formats" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#tooling" title="parent header">â†‘ parent "Tooling"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-809">ğŸ”—</a></span><div class="p" id="p-809">The only thing we have for now is the quick and dirty <a href="adoc-to-ciro">adoc-to-ciro</a>.</div></div><div><span class="hide-hover"><a href="#p-810">ğŸ”—</a></span><div class="p" id="p-810">The better approach would be to implement a converter in Haskell from anything to Cirodown.</div></div><div><span class="hide-hover"><a href="#p-811">ğŸ”—</a></span><div class="p" id="p-811">And from Cirodown to anything, create new output formats inside Cirodown to those other formats.</div></div><div><span class="hide-hover"><a href="#developing-cirodown">ğŸ”—</a></span><h2 id="developing-cirodown"><a href="#developing-cirodown" title="link to this element">22. Developing Cirodown</a><span>  | <a title="view one header per page" href="developing-cirodown">ğŸ—— split</a> | <a href="#toc-developing-cirodown" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#test-system">ğŸ”—</a></span><h3 id="test-system"><a href="#test-system" title="link to this element">22.1. Test system</a><span>  | <a title="view one header per page" href="test-system">ğŸ—— split</a> | <a href="#toc-test-system" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-812">ğŸ”—</a></span><div class="p" id="p-812">Run all tests:
<div class="code-caption-container" id="code-296">
<pre><code>npm test
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-813">ğŸ”—</a></span><div class="p" id="p-813">List all tests:
<div class="code-caption-container" id="code-297">
<pre><code>node node_modules/mocha-list-tests/mocha-list-tests.js main.js
</code></pre></div>
as per: <a href="https://stackoverflow.com/questions/41380137/list-all-mocha-tests-without-executing-them/58573986#58573986">https://stackoverflow.com/questions/41380137/list-all-mocha-tests-without-executing-them/58573986#58573986</a>.</div></div><div><span class="hide-hover"><a href="#p-814">ğŸ”—</a></span><div class="p" id="p-814">Run just one test by name:
<div class="code-caption-container" id="code-298">
<pre><code>npm test -- -g 'one paragraph'
</code></pre></div>
as per: <a href="https://stackoverflow.com/questions/10832031/how-to-run-a-single-test-with-mocha">https://stackoverflow.com/questions/10832031/how-to-run-a-single-test-with-mocha</a> TODO: what if the test name is a substring?</div></div><div><span class="hide-hover"><a href="#p-815">ğŸ”—</a></span><div class="p" id="p-815">Step debug during a test run. Add the statement:
<div class="code-caption-container" id="code-299">
<pre><code>debugger;
</code></pre></div>
to where you want to break in the code, and then:
<div class="code-caption-container" id="code-300">
<pre><code>node inspect ./node_modules/.bin/mocha test --ignore-leaks -g 'p with id before'
</code></pre></div></div></div><div><span class="hide-hover"><a href="#overview-of-files-in-this-repository">ğŸ”—</a></span><h3 id="overview-of-files-in-this-repository"><a href="#overview-of-files-in-this-repository" title="link to this element">22.2. Overview of files in this repository</a><span>  | <a title="view one header per page" href="overview-of-files-in-this-repository">ğŸ—— split</a> | <a href="#toc-overview-of-files-in-this-repository" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-816">ğŸ”—</a></span><div class="p" id="p-816">Source files:<div><ul id="ul-114">
<li id="l-313"><a href="index.js">index.js</a>: main code. Must be able to run in the browser, so no Node.js specifics. Exposes the central <code>convert</code> function</li>
<li id="l-314"><a href="cirodown">cirodown</a>: CLI executable. Is basically just a CLI interface frontend to <code>convert</code></li>
<li id="l-315"><a href="test.js">test.js</a>: contains all the Mocha tests, see also: <a href="#test-system" title="internal link">test system</a></li>
<li id="l-316"><a href="README.md">README.md</a>: minimal Markdown README until GitHub / NPM support Cirodown :-)</li>
<li id="l-317"><a href="cirodown.runtime.js">cirodown.runtime.js</a>: JavaScript functionality to be included in the final documents to enable interactive document features</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-817">ğŸ”—</a></span><div class="p" id="p-817">Generated files:<div><ul id="ul-115">
<li id="l-318"><code>cirodown.js</code> packaged <a href="http://browserify.org">browserify</a> JavaScript for browser usage, generated with <code>npm run browserify</code></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#build-sass">ğŸ”—</a></span><h4 id="build-sass"><a href="#build-sass" title="link to this element">22.2.1. <code>build-sass</code></a><span>  | <a title="view one header per page" href="build-sass">ğŸ—— split</a> | <a href="#toc-build-sass" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#overview-of-files-in-this-repository" title="parent header">â†‘ parent "Overview of files in this repository"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-818">ğŸ”—</a></span><div class="p" id="p-818">The <a href="build-sass">build-sass</a> script takes as input the <a href="cirodown.scss">cirodown.scss</a> <a href="https://sass-lang.com">SASS</a> scss file, and generates various <code>.css</code> versions from it required to properly view generated Cirodown HTML:<div><ul id="ul-116">
<li id="l-319"><code>cirodown.min.css</code>: contains the converted <code>cirodown.scss</code> plus external online <code>@import</code> requests for stuff like <a href="#mathematics" title="internal link">KaTeX</a>. This is the main normally published version style.</li>
<li id="l-320"><code>cirodown.embed.min.css</code>: like <code>cirodown.min.css</code> but embeds all external CSS in-place without any <code>@import</code>. Used to distribute standalone pages: <a href="#embed-resources" title="internal link"><code>--embed-resources</code></a></li>
<li id="l-321"><code>cirodown.local.min.css</code>: only includes style generated from <code>cirodown.scss</code>, not external styles. Used when the external styles are present locally, e.g. via <code>node_modules</code>. I think this was done because <a href="https://stackoverflow.com/questions/34139675/css-import-not-working-for-local-file-file-path-is-correct"><code>@import</code></a> was not working with local flies?</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#autogenerated-tests">ğŸ”—</a></span><h4 id="autogenerated-tests"><a href="#autogenerated-tests" title="link to this element">22.2.2. Autogenerated tests</a><span>  | <a title="view one header per page" href="autogenerated-tests">ğŸ—— split</a> | <a href="#toc-autogenerated-tests" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#overview-of-files-in-this-repository" title="parent header">â†‘ parent "Overview of files in this repository"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-819">ğŸ”—</a></span><div class="p" id="p-819">The following scripts generate parametrized Cirodown examples that can be used for performance or other types of interactive testing:<div><ul id="ul-117">
<li id="l-322"><div class="p" id="p-820"><a href="generate-deep-tree">generate-deep-tree</a>:</div><div class="code-caption-container" id="code-301">
<pre><code>./generate-deep-tree 2 5 &gt; deep_tree.tmp.ciro
./cirodown deep_tree.tmp.ciro
</code></pre></div><div class="p" id="p-821">Originally designed to be able to interactively play with a huge <a href="#table-of-contents" title="internal link">table of contents</a> to streamline JavaScript open close interaction.</div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#generate-paragraphs">ğŸ”—</a></span><h5 id="generate-paragraphs"><a href="#generate-paragraphs" title="link to this element">22.2.2.1. generate-paragraphs</a><span>  | <a title="view one header per page" href="generate-paragraphs">ğŸ—— split</a> | <a href="#toc-generate-paragraphs" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#autogenerated-tests" title="parent header">â†‘ parent "Autogenerated tests"</a></span></h5>
</div><div><span class="hide-hover"><a href="#code-302">ğŸ”—</a></span><div class="code-caption-container" id="code-302">
<pre><code>./generate-paragraphs 10 &gt; main.ciro
</code></pre></div></div><div><span class="hide-hover"><a href="#p-822">ğŸ”—</a></span><div class="p" id="p-822">Output:
<div class="code-caption-container" id="code-303">
<pre><code>0

1

2

3

4

5

6

7

8

9
</code></pre></div></div></div><div><span class="hide-hover"><a href="#performance">ğŸ”—</a></span><h3 id="performance"><a href="#performance" title="link to this element">22.3. Performance</a><span>  | <a title="view one header per page" href="performance">ğŸ—— split</a> | <a href="#toc-performance" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#debug-perf">ğŸ”—</a></span><h4 id="debug-perf"><a href="#debug-perf" title="link to this element">22.3.1. <code>--debug-perf</code></a><span>  | <a title="view one header per page" href="debug-perf">ğŸ—— split</a> | <a href="#toc-debug-perf" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#performance" title="parent header">â†‘ parent "Performance"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-823">ğŸ”—</a></span><div class="p" id="p-823">print performance statistics to stderr, for example
<div class="code-caption-container" id="code-304">
<pre><code>./cirodown --debug-perf README.ciro
</code></pre></div>
could output:
<div class="code-caption-container" id="code-305">
<pre><code>perf start: 181.33060800284147
perf tokenize_pre: 181.4424349963665
perf tokenize_post: 318.333980999887
perf parse_start: 319.1866770014167
perf post_process_start: 353.5477180033922
perf post_process_end: 514.1527540013194
perf render_pre: 514.1708239987493
perf render_post: 562.834307000041
perf end: 564.0349840000272
perf convert_input_end 566.1234430000186
perf convert_path_pre_sqlite 566.1564619988203
perf convert_path_pre_sqlite_transaction 566.2528780028224
perf convert_path_post_sqlite_transaction 582.256645001471
perf convert_path_end 582.3469280004501
</code></pre></div></div></div><div><span class="hide-hover"><a href="#speed-comparison-to-other-markup-language-implementations">ğŸ”—</a></span><h4 id="speed-comparison-to-other-markup-language-implementations"><a href="#speed-comparison-to-other-markup-language-implementations" title="link to this element">22.3.2. Speed comparison to other markup language implementations</a><span>  | <a title="view one header per page" href="speed-comparison-to-other-markup-language-implementations">ğŸ—— split</a> | <a href="#toc-speed-comparison-to-other-markup-language-implementations" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#performance" title="parent header">â†‘ parent "Performance"</a></span></h4>
</div><div><span class="hide-hover"><a href="#p-824">ğŸ”—</a></span><div class="p" id="p-824">One quick and dirty option is to use <code>generate-paragraphs</code> which generates output compatible for most markup languages:
<div class="code-caption-container" id="code-306">
<pre><code>./generate-paragraphs 100000 &gt; tmp.ciro
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-825">ğŸ”—</a></span><div class="p" id="p-825">On Ubuntu 20.04 <a href="https://cirosantilli.com/linux-kernel-module-cheat/#p51">Lenovo ThinkPad P51</a> for example:<div><ul id="ul-118">
<li id="l-323">Cirodown 54ba49736323264a5c66aa5d419f8232b4ecf8d0 + 1, Node.js v12.18.1
<div class="code-caption-container" id="code-307">
<pre><code>time ./cirodown tmp.ciro
</code></pre></div>
outputs:
<div class="code-caption-container" id="code-308">
<pre><code>real    0m5.104s
user    0m6.323s
sys     0m0.674s
</code></pre></div></li>
<li id="l-324">Asciidoctor 2.0.10, Ruby 2.6.0p0:
<div class="code-caption-container" id="code-309">
<pre><code>cp tmp.ciro tmp.adoc
time asciidoctor tmp.adoc
</code></pre></div>
outputs:
<div class="code-caption-container" id="code-310">
<pre><code>real    0m1.911s
user    0m1.850s
sys     0m0.060s
</code></pre></div></li>
<li id="l-325"><a href="https://github.com/commonmark/cmark">cmark</a> 0.29.0:
<div class="code-caption-container" id="code-311">
<pre><code>cp tmp.ciro tmp.md
time cmark tmp.md &gt; tmp.md.html
</code></pre></div>
outputs:
<div class="code-caption-container" id="code-312">
<pre><code>real    0m0.091s
user    0m0.070s
sys     0m0.021s
</code></pre></div>
Holy cow, it is 200x faster than Asciidoctor!</li>
<li id="l-326"><a href="https://github.com/markdown-it/markdown-it">markdown-it</a> at 5789a3fe9693aa3ef6aa882b0f57e0ea61efafc0 to get an idea of a JavaScript markdown implementation:
<div class="code-caption-container" id="code-313">
<pre><code>time markdown-it tmp.md &gt; tmp.md.html
</code></pre></div>
outputs:
<div class="code-caption-container" id="code-314">
<pre><code>real    0m0.361s
user    0m0.590s
sys     0m0.060s
</code></pre></div></li>
<li id="l-327"><code>cat</code> just to find the absolute floor:
<div class="code-caption-container" id="code-315">
<pre><code>time cat tmp.ciro &gt; tmp.tmp
</code></pre></div>
outputs:
<div class="code-caption-container" id="code-316">
<pre><code>real    0m0.006s
user    0m0.006s
sys     0m0.000s
</code></pre></div></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#internals-api">ğŸ”—</a></span><h3 id="internals-api"><a href="#internals-api" title="link to this element">22.4. Internals API</a><span>  | <a title="view one header per page" href="internals-api">ğŸ—— split</a> | <a href="#toc-internals-api" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-826">ğŸ”—</a></span><div class="p" id="p-826">Tokenized token stream and AST can be obtained as JSON from the API.</div></div><div><span class="hide-hover"><a href="#p-827">ğŸ”—</a></span><div class="p" id="p-827">Errors can be obtained as JSON from the API.</div></div><div><span class="hide-hover"><a href="#p-828">ğŸ”—</a></span><div class="p" id="p-828">Everything that you need to write Cirodown tooling, is present in the main API.</div></div><div><span class="hide-hover"><a href="#p-829">ğŸ”—</a></span><div class="p" id="p-829">All tooling will be merged into one single repo.</div></div><div><span class="hide-hover"><a href="#toplevel">ğŸ”—</a></span><h3 id="toplevel"><a href="#toplevel" title="link to this element">22.5. The <code>\Toplevel</code> implicit macro</a><span>  | <a title="view one header per page" href="toplevel">ğŸ—— split</a> | <a href="#toc-toplevel" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-830">ğŸ”—</a></span><div class="p" id="p-830">Every Cirodown document is implicitly put inside a <code>\Toplevel</code> document and:<div><ul id="ul-119">
<li id="l-328">any optionally given arguments at the very beginning of the document will be treated as arguments of the <code>\Toplevel</code> macro</li>
<li id="l-329">anything else will be put inside the <code>content</code> argument of the <code>\Toplevel</code> macro</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-831">ğŸ”—</a></span><div class="p" id="p-831">E.g., a Cirodown document that contains:
<div class="code-caption-container" id="code-317">
<pre><code>{title=My favorite title.}

And now, some content!
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-832">ğŸ”—</a></span><div class="p" id="p-832">is morally equivalent to:
<div class="code-caption-container" id="code-318">
<pre><code>\Toplevel{title=My favorite title.}
[
And now, some content!
]
</code></pre></div>
In terms of HTML, the <code>\Toplevel</code> element corresponds to the <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, <code>&lt;header&gt;</code> and <code>&lt;footer&gt;</code> elements of a document.</div></div><div><span class="hide-hover"><a href="#p-833">ğŸ”—</a></span><div class="p" id="p-833">Trying to use the <code>\Toplevel</code> macro explicitly in a document leads to an error.</div></div><div><span class="hide-hover"><a href="#html-document-title">ğŸ”—</a></span><h4 id="html-document-title"><a href="#html-document-title" title="link to this element">22.5.1. HTML document title</a><span>  | <a title="view one header per page" href="html-document-title">ğŸ—— split</a> | <a href="#toc-html-document-title" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#toplevel" title="parent header">â†‘ parent "The <code>\Toplevel</code> implicit macro"</a></span></h4>
</div><div><span class="hide-hover"><a href="#ul-120">ğŸ”—</a></span><div><ul id="ul-120">
<li id="l-330">if the <code>title</code> argument of <code>toplevel</code> is given, use that</li>
<li id="l-331">otherwise, if the document has a <code>\H[1]</code>, use the title of the first such header</li>
<li id="l-332">otherwise use a dummy value</li>
</ul></div></div><div><span class="hide-hover"><a href="#css">ğŸ”—</a></span><h3 id="css"><a href="#css" title="link to this element">22.6. CSS</a><span>  | <a title="view one header per page" href="css">ğŸ—— split</a> | <a href="#toc-css" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-834">ğŸ”—</a></span><div class="p" id="p-834">Our CSS is located at <a href="main.scss">main.scss</a> and gets processed through <a href="https://sass-lang.com">Sass</a>.</div></div><div><span class="hide-hover"><a href="#p-835">ğŸ”—</a></span><div class="p" id="p-835">To generate the CSS during development after any changes to that file, you must run:
<div class="code-caption-container" id="code-319">
<pre><code>npm run sass
</code></pre></div>
which generates the final CSS file:
<div class="code-caption-container" id="code-320">
<pre><code>main.css
</code></pre></div></div></div><div><span class="hide-hover"><a href="#p-836">ğŸ”—</a></span><div class="p" id="p-836">You then need to explicitly include that <code>main.css</code> file in your <a href="#template" title="internal link"><code>--template</code></a>. For example, our <a href="main.liquid.html">main.liquid.html</a> contains a line:
<div class="code-caption-container" id="code-321">
<pre><code>&lt;link rel="stylesheet" type="text/css" href="{{ root_relpath }}main.css"&gt;
</code></pre></div>
where <code>root_relpath</code> is explained under <a href="#template" title="internal link">Section 21.1.2.16. "<code>--template</code>"</a>.</div></div><div><span class="hide-hover"><a href="#formal-grammar">ğŸ”—</a></span><h3 id="formal-grammar"><a href="#formal-grammar" title="link to this element">22.7. Formal grammar</a><span>  | <a title="view one header per page" href="formal-grammar">ğŸ—— split</a> | <a href="#toc-formal-grammar" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-837">ğŸ”—</a></span><div class="p" id="p-837">TODO. Describe Cirodown's formal grammar, and classify it in the grammar hierarchy and parsing complexity.</div></div><div><span class="hide-hover"><a href="#the-out-directory">ğŸ”—</a></span><h3 id="the-out-directory"><a href="#the-out-directory" title="link to this element">22.8. The <code>out</code> directory</a><span>  | <a title="view one header per page" href="the-out-directory">ğŸ—— split</a> | <a href="#toc-the-out-directory" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-838">ğŸ”—</a></span><div class="p" id="p-838">Cirodown stores some metadata and outputs it generates/needs inside the <code>./out/</code> directory that it creates.</div></div><div><span class="hide-hover"><a href="#p-839">ğŸ”—</a></span><div class="p" id="p-839">This directory is created on the output toplevel, more details about its location are given at: <a href="#cirodown-json" title="internal link"><code>cirodown.json</code></a>.</div></div><div><span class="hide-hover"><a href="#release-procedure">ğŸ”—</a></span><h3 id="release-procedure"><a href="#release-procedure" title="link to this element">22.9. Release procedure</a><span>  | <a title="view one header per page" href="release-procedure">ğŸ—— split</a> | <a href="#toc-release-procedure" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#p-840">ğŸ”—</a></span><div class="p" id="p-840">Manually update the <a href="package.json">package.json</a> version:
<div class="code-caption-container" id="code-322">
<pre><code>vim package.json
</code></pre></div>
Create a tag to match, push and release the package:
<div class="code-caption-container" id="code-323">
<pre><code>git add -u
t=0.3.1
git commit -m "$t"
git tag -m "$t" "$t"
git push --follow-tags
npm publish
</code></pre></div></div></div><div><span class="hide-hover"><a href="#website-release-procedure">ğŸ”—</a></span><h4 id="website-release-procedure"><a href="#website-release-procedure" title="link to this element">22.9.1. Website release procedure</a><span>  | <a title="view one header per page" href="website-release-procedure">ğŸ—— split</a> | <a href="#toc-website-release-procedure" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#release-procedure" title="parent header">â†‘ parent "Release procedure"</a></span></h4>
</div><div><span class="hide-hover"><a href="#code-324">ğŸ”—</a></span><div class="code-caption-container" id="code-324">
<pre><code>sudo snap install --classic heroku
</code></pre></div></div><div><span class="hide-hover"><a href="#todo">ğŸ”—</a></span><h3 id="todo"><a href="#todo" title="link to this element">22.10. TODO</a><span>  | <a title="view one header per page" href="todo">ğŸ—— split</a> | <a href="#toc-todo" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="#developing-cirodown" title="parent header">â†‘ parent "Developing Cirodown"</a></span></h3>
</div><div><span class="hide-hover"><a href="#ul-121">ğŸ”—</a></span><div><ul id="ul-121">
<li id="l-333">correct ID generation algorithm to be Unicode robust</li>
<li id="l-334">local downloads and single HTML page with image / script embeds</li>
<li id="l-335">image management: upload to separate media directory</li>
<li id="l-336">parse_error: add in document error message, currently only to stderr</li>
<li id="l-337">on the AST, put contents of headers inside headers</li>
<li id="l-338">auto-toc after the first paragraph</li>
</ul></div></div><div><span class="hide-hover"><a href="#related-projects">ğŸ”—</a></span><h2 id="related-projects"><a href="#related-projects" title="link to this element">23. Related projects</a><span>  | <a title="view one header per page" href="related-projects">ğŸ—— split</a> | <a href="#toc-related-projects" class="cirodown-h-to-toc" title="ToC entry for this header">â‡‘ toc</a> | <a href="" title="parent header">â†‘ parent "Cirodown"</a></span></h2>
</div><div><span class="hide-hover"><a href="#p-841">ğŸ”—</a></span><div class="p" id="p-841">Static wiki generators: this is perhaps the best way of classifying this project :-)<div><ul id="ul-122">
<li id="l-339"><a href="https://github.com/gollum/gollum">https://github.com/gollum/gollum</a>: already has a local server editor! But no WYSIWYG nor live preview. Git integration by default, so when you save on the UI already generates a Git commit. We could achieve that with: <a href="https://github.com/isomorphic-git/isomorphic-git">https://github.com/isomorphic-git/isomorphic-git</a>, would be really nice.</li>
<li id="l-340"><a href="https://github.com/wcchin/markypydia">https://github.com/wcchin/markypydia</a></li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-842">ğŸ”—</a></span><div class="p" id="p-842">Static book generators:<div><ul id="ul-123">
<li id="l-341"><a href="https://github.com/rstudio/bookdown">https://github.com/rstudio/bookdown</a>, <a href="https://bookdown.org/">https://bookdown.org/</a>. Very similar feature set to what we want!!! Transpiles to markdown, and then goes through Pandoc: <a href="https://bookdown.org/yihui/bookdown/pandoc.html">https://bookdown.org/yihui/bookdown/pandoc.html</a>, thus will never run on browser without huge translation layers. But does have an obscene amount of output formats however.</li>
<li id="l-342"><a href="https://gohugo.io/">Hugo</a>. Pretty good, similar feature set to ours. But Go based, so hard on browser, and adds adhoc features on top of markdown once again</li>
<li id="l-343"><a href="https://en.wikipedia.org/wiki/Personal_wiki">https://en.wikipedia.org/wiki/Personal_wiki</a><div><ul id="ul-124">
<li id="l-344"><a href="https://github.com/vimwiki/vimwiki">https://github.com/vimwiki/vimwiki</a></li>
</ul></div></li>
<li id="l-345"><a href="https://github.com/hplgit/doconce">https://github.com/hplgit/doconce</a></li>
<li id="l-346"><a href="https://www.gwern.net/About#source">https://www.gwern.net/About#source</a> is pretty interesting, uses <a href="https://github.com/jaspervdj/Hakyll/">https://github.com/jaspervdj/Hakyll/</a> + some custom stuff.</li>
</ul></div></div></div><div><span class="hide-hover"><a href="#p-843">ğŸ”—</a></span><div class="p" id="p-843">Less related but of interest, similar philosophy to what Ciro wants, but no explicitly reusable system:<div><ul id="ul-125">
<li id="l-347"><a href="http://www.uprtcl.io/">http://www.uprtcl.io/</a></li>
<li id="l-348"><a href="https://libretexts.org">https://libretexts.org</a></li>
<li id="l-349"><a href="https://physics.info/">https://physics.info/</a></li>
<li id="l-350"><a href="https://hypertextbook.com/">https://hypertextbook.com/</a></li>
<li id="l-351"><a href="https://tutorial.math.lamar.edu/">https://tutorial.math.lamar.edu/</a></li>
</ul></div></div></div></main>
<footer>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a> unless noted</div>
<div>Website source code: <a href="https://github.com/cirosantilli/cirodown">https://github.com/cirosantilli/cirodown</a></div>
<div>Website Git version: <a href="https://github.com/cirosantilli/cirodown/commit/a81051d2e91cb9e4a8dc117dcb4e5192c300665a">a81051d2e91cb9e4a8dc117dcb4e5192c300665a</a></div>
</footer>
<script>
<!-- Google Analytics, AKA selling my soul to Google for some backlinks. -->
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47867706-1', 'auto');
ga('send', 'pageview');
</script>
<script src="cirodown.runtime.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.date.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.dotsep.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.filesize.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.monthname.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.number.min.js"></script>
</body>
</html>
