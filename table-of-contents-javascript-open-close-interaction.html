<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Table of contents JavaScript open close interaction</title>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.10.1/css/all.css">
<style>@import "cirodown.min.css";

</style>
<link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
<header>
<a href="/">Ciro Santilli???</a>
<a href="/cirodown">Cirodown!!!</a>
<a class="font-awesome-container" href="https://stackoverflow.com/users/895245"><i class="fab fa-stack-overflow fa-fw"></i></a>
<a class="font-awesome-container" href="https://github.com/cirosantilli"><i class="fab fa-github fa-fw"></i></a>
</header>
<main class="cirodown">
<div><span class="hide-hover"><a href="">ðŸ”—</a></span><h1 id="table-of-contents-javascript-open-close-interaction"><a href="" title="link to this element">Table of contents JavaScript open close interaction</a><span>  | <a href="table-of-contents">â†‘ parent "Table of contents"</a> | <a href=".#table-of-contents-javascript-open-close-interaction">nosplit</a></span></h1>
</div><div><span class="hide-hover"><a href="index-split#p-265">ðŸ”—</a></span><div class="p" id="p-265">To the left of table of content entries you can click on an open/close icon to toggle the visibility of different levels of the table of contents.</div></div><div><span class="hide-hover"><a href="index-split#p-266">ðŸ”—</a></span><div class="p" id="p-266">The expansion algorithm is optimized so that when you first click on the arrow of a node it will give you an overview of that node, showing only its direct children.</div></div><div><span class="hide-hover"><a href="index-split#p-267">ðŸ”—</a></span><div class="p" id="p-267">At the start, all nodes are showing, to facilitate Ctrl + F queries, and so when you first click on a node, it collapses the children of children, so you can see only the direct children the node of interest, without getting a gazillion of sub descendants shown first.</div></div><div><span class="hide-hover"><a href="index-split#p-268">ðŸ”—</a></span><div class="p" id="p-268">The exact behaviour is:<div><ul id="ul-26">
<li id="l-75">if a node is open:<div><ul id="ul-27">
<li id="l-76">if all children are closed, close the element, This can improve the view of its siblings. The toplevel "Table of Contents" node never closes however, since we never want to close that one.</li>
<li id="l-77">otherwise, close all children. This Gives a good overview of the children, without any children of children getting in the way.</li>
</ul></div></li>
<li id="l-78">if a node is closed (not showing children), open it and show all children and their descendants.</li>
</ul></div></div></div><div><span class="hide-hover"><a href="index-split#p-269">ðŸ”—</a></span><div class="p" id="p-269">As a result of the above rules, clicking on a node three times goes through a loop of basically all useful states:<div><ul id="ul-28">
<li id="l-79">node open and children open (initial state</li>
<li id="l-80">node open and children closed</li>
<li id="l-81">node closed</li>
</ul></div></div></div><div><span class="hide-hover"><a href="index-split#p-270">ðŸ”—</a></span><div class="p" id="p-270">Clicking on the link from a <a href="headers">header</a> up to the table of contents also automatically opens up the node for you in case it had been previously closed manually.</div></div><div><span class="hide-hover"><a href="#toc">ðŸ”—</a></span></div></main>
<footer>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA 4.0</a> unless noted</div>
<div>Website source code: <a href="https://github.com/cirosantilli/cirodown">https://github.com/cirosantilli/cirodown</a></div>
<div>Website Git version: <a href="https://github.com/cirosantilli/cirodown/commit/9dbaff356aa981f8c74f7b8df7d58d1a0ad8412d">9dbaff356aa981f8c74f7b8df7d58d1a0ad8412d</a></div>
</footer>
<script>
<!-- Google Analytics, AKA selling my soul to Google for some backlinks. -->
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47867706-1', 'auto');
ga('send', 'pageview');
</script>
<script src="cirodown.runtime.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.date.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.dotsep.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.filesize.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.monthname.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.number.min.js"></script>
</body>
</html>
